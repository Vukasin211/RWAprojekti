/*! For license information please see bundle.js.LICENSE.txt */
(()=>{"use strict";var e=function(t,n){return(e=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var n in t)Object.prototype.hasOwnProperty.call(t,n)&&(e[n]=t[n])})(t,n)};function t(t,n){if("function"!=typeof n&&null!==n)throw new TypeError("Class extends value "+String(n)+" is not a constructor or null");function r(){this.constructor=t}e(t,n),t.prototype=null===n?Object.create(n):(r.prototype=n.prototype,new r)}function n(e,t){var n,r,o,i,u={label:0,sent:function(){if(1&o[0])throw o[1];return o[1]},trys:[],ops:[]};return i={next:c(0),throw:c(1),return:c(2)},"function"==typeof Symbol&&(i[Symbol.iterator]=function(){return this}),i;function c(i){return function(c){return function(i){if(n)throw new TypeError("Generator is already executing.");for(;u;)try{if(n=1,r&&(o=2&i[0]?r.return:i[0]?r.throw||((o=r.return)&&o.call(r),0):r.next)&&!(o=o.call(r,i[1])).done)return o;switch(r=0,o&&(i=[2&i[0],o.value]),i[0]){case 0:case 1:o=i;break;case 4:return u.label++,{value:i[1],done:!1};case 5:u.label++,r=i[1],i=[0];continue;case 7:i=u.ops.pop(),u.trys.pop();continue;default:if(!((o=(o=u.trys).length>0&&o[o.length-1])||6!==i[0]&&2!==i[0])){u=0;continue}if(3===i[0]&&(!o||i[1]>o[0]&&i[1]<o[3])){u.label=i[1];break}if(6===i[0]&&u.label<o[1]){u.label=o[1],o=i;break}if(o&&u.label<o[2]){u.label=o[2],u.ops.push(i);break}o[2]&&u.ops.pop(),u.trys.pop();continue}i=t.call(e,u)}catch(e){i=[6,e],r=0}finally{n=o=0}if(5&i[0])throw i[1];return{value:i[0]?i[1]:void 0,done:!0}}([i,c])}}}function r(e){var t="function"==typeof Symbol&&Symbol.iterator,n=t&&e[t],r=0;if(n)return n.call(e);if(e&&"number"==typeof e.length)return{next:function(){return e&&r>=e.length&&(e=void 0),{value:e&&e[r++],done:!e}}};throw new TypeError(t?"Object is not iterable.":"Symbol.iterator is not defined.")}function o(e,t){var n="function"==typeof Symbol&&e[Symbol.iterator];if(!n)return e;var r,o,i=n.call(e),u=[];try{for(;(void 0===t||t-- >0)&&!(r=i.next()).done;)u.push(r.value)}catch(e){o={error:e}}finally{try{r&&!r.done&&(n=i.return)&&n.call(i)}finally{if(o)throw o.error}}return u}function i(e,t){for(var n=0,r=t.length,o=e.length;n<r;n++,o++)e[o]=t[n];return e}function u(e){return this instanceof u?(this.v=e,this):new u(e)}function c(e,t,n){if(!Symbol.asyncIterator)throw new TypeError("Symbol.asyncIterator is not defined.");var r,o=n.apply(e,t||[]),i=[];return r={},c("next"),c("throw"),c("return"),r[Symbol.asyncIterator]=function(){return this},r;function c(e){o[e]&&(r[e]=function(t){return new Promise((function(n,r){i.push([e,t,n,r])>1||a(e,t)}))})}function a(e,t){try{(n=o[e](t)).value instanceof u?Promise.resolve(n.value.v).then(s,l):f(i[0][2],n)}catch(e){f(i[0][3],e)}var n}function s(e){a("next",e)}function l(e){a("throw",e)}function f(e,t){e(t),i.shift(),i.length&&a(i[0][0],i[0][1])}}function a(e){return"function"==typeof e}Object.create,Object.create;var s,l=((s=function(e){var t;t=this,Error.call(t),t.stack=(new Error).stack,this.message=e?e.length+" errors occurred during unsubscription:\n"+e.map((function(e,t){return t+1+") "+e.toString()})).join("\n  "):"",this.name="UnsubscriptionError",this.errors=e}).prototype=Object.create(Error.prototype),s.prototype.constructor=s,s);function f(e,t){if(e){var n=e.indexOf(t);0<=n&&e.splice(n,1)}}var d=function(){function e(e){this.initialTeardown=e,this.closed=!1,this._parentage=null,this._teardowns=null}return e.prototype.unsubscribe=function(){var e,t,n,u,c;if(!this.closed){this.closed=!0;var s=this._parentage;if(s)if(this._parentage=null,Array.isArray(s))try{for(var f=r(s),d=f.next();!d.done;d=f.next())d.value.remove(this)}catch(t){e={error:t}}finally{try{d&&!d.done&&(t=f.return)&&t.call(f)}finally{if(e)throw e.error}}else s.remove(this);var h=this.initialTeardown;if(a(h))try{h()}catch(e){c=e instanceof l?e.errors:[e]}var v=this._teardowns;if(v){this._teardowns=null;try{for(var y=r(v),b=y.next();!b.done;b=y.next()){var m=b.value;try{p(m)}catch(e){c=null!=c?c:[],e instanceof l?c=i(i([],o(c)),o(e.errors)):c.push(e)}}}catch(e){n={error:e}}finally{try{b&&!b.done&&(u=y.return)&&u.call(y)}finally{if(n)throw n.error}}}if(c)throw new l(c)}},e.prototype.add=function(t){var n;if(t&&t!==this)if(this.closed)p(t);else{if(t instanceof e){if(t.closed||t._hasParent(this))return;t._addParent(this)}(this._teardowns=null!==(n=this._teardowns)&&void 0!==n?n:[]).push(t)}},e.prototype._hasParent=function(e){var t=this._parentage;return t===e||Array.isArray(t)&&t.includes(e)},e.prototype._addParent=function(e){var t=this._parentage;this._parentage=Array.isArray(t)?(t.push(e),t):t?[t,e]:e},e.prototype._removeParent=function(e){var t=this._parentage;t===e?this._parentage=null:Array.isArray(t)&&f(t,e)},e.prototype.remove=function(t){var n=this._teardowns;n&&f(n,t),t instanceof e&&t._removeParent(this)},e.EMPTY=((t=new e).closed=!0,t),e;var t}();function h(e){return e instanceof d||e&&"closed"in e&&a(e.remove)&&a(e.add)&&a(e.unsubscribe)}function p(e){a(e)?e():e.unsubscribe()}d.EMPTY;var v=null,y=null,b=void 0,m=!1,w=!1,g={setTimeout:function(){for(var e=[],t=0;t<arguments.length;t++)e[t]=arguments[t];var n=g.delegate;return((null==n?void 0:n.setTimeout)||setTimeout).apply(void 0,i([],o(e)))},clearTimeout:function(e){var t=g.delegate;return((null==t?void 0:t.clearTimeout)||clearTimeout)(e)},delegate:void 0};function _(e){g.setTimeout((function(){if(!v)throw e;v(e)}))}function C(){}var E=x("C",void 0,void 0);function x(e,t,n){return{kind:e,value:t,error:n}}var S=function(e){function n(t){var n=e.call(this)||this;return n.isStopped=!1,t?(n.destination=t,h(t)&&t.add(n)):n.destination=A,n}return t(n,e),n.create=function(e,t,n){return new I(e,t,n)},n.prototype.next=function(e){this.isStopped?T(function(e){return x("N",e,void 0)}(e),this):this._next(e)},n.prototype.error=function(e){this.isStopped?T(x("E",void 0,e),this):(this.isStopped=!0,this._error(e))},n.prototype.complete=function(){this.isStopped?T(E,this):(this.isStopped=!0,this._complete())},n.prototype.unsubscribe=function(){this.closed||(this.isStopped=!0,e.prototype.unsubscribe.call(this),this.destination=null)},n.prototype._next=function(e){this.destination.next(e)},n.prototype._error=function(e){try{this.destination.error(e)}finally{this.unsubscribe()}},n.prototype._complete=function(){try{this.destination.complete()}finally{this.unsubscribe()}},n}(d),I=function(e){function n(t,n,r){var o,i=e.call(this)||this;if(a(t))o=t;else if(t){var u;o=t.next,n=t.error,r=t.complete,i&&w?(u=Object.create(t)).unsubscribe=function(){return i.unsubscribe()}:u=t,o=null==o?void 0:o.bind(u),n=null==n?void 0:n.bind(u),r=null==r?void 0:r.bind(u)}return i.destination={next:o?O(o,i):C,error:O(null!=n?n:k,i),complete:r?O(r,i):C},i}return t(n,e),n}(S);function O(e,t){return function(){for(var n=[],r=0;r<arguments.length;r++)n[r]=arguments[r];try{e.apply(void 0,i([],o(n)))}catch(e){if(m){if(!t._syncErrorHack_isSubscribing)throw e;t.__syncError=e}else _(e)}}}function k(e){throw e}function T(e,t){var n=y;n&&g.setTimeout((function(){return n(e,t)}))}var A={closed:!0,next:C,error:k,complete:C},L="function"==typeof Symbol&&Symbol.observable||"@@observable";function P(e){return e}function B(e){return 0===e.length?P:1===e.length?e[0]:function(t){return e.reduce((function(e,t){return t(e)}),t)}}var j=function(){function e(e){e&&(this._subscribe=e)}return e.prototype.lift=function(t){var n=new e;return n.source=this,n.operator=t,n},e.prototype.subscribe=function(e,t,n){var r,o=(r=e)&&r instanceof S||function(e){return e&&a(e.next)&&a(e.error)&&a(e.complete)}(r)&&h(r)?e:new I(e,t,n);if(m)this._deprecatedSyncErrorSubscribe(o);else{var i=this.operator,u=this.source;o.add(i?i.call(o,u):u?this._subscribe(o):this._trySubscribe(o))}return o},e.prototype._deprecatedSyncErrorSubscribe=function(e){var t=e;t._syncErrorHack_isSubscribing=!0;var n=this.operator;if(n)e.add(n.call(e,this.source));else try{e.add(this._subscribe(e))}catch(e){t.__syncError=e}for(var r=t;r;){if("__syncError"in r)try{throw r.__syncError}finally{e.unsubscribe()}r=r.destination}t._syncErrorHack_isSubscribing=!1},e.prototype._trySubscribe=function(e){try{return this._subscribe(e)}catch(t){e.error(t)}},e.prototype.forEach=function(e,t){var n=this;return new(t=D(t))((function(t,r){var o;o=n.subscribe((function(t){try{e(t)}catch(e){r(e),null==o||o.unsubscribe()}}),r,t)}))},e.prototype._subscribe=function(e){var t;return null===(t=this.source)||void 0===t?void 0:t.subscribe(e)},e.prototype[L]=function(){return this},e.prototype.pipe=function(){for(var e=[],t=0;t<arguments.length;t++)e[t]=arguments[t];return e.length?B(e)(this):this},e.prototype.toPromise=function(e){var t=this;return new(e=D(e))((function(e,n){var r;t.subscribe((function(e){return r=e}),(function(e){return n(e)}),(function(){return e(r)}))}))},e.create=function(t){return new e(t)},e}();function D(e){var t;return null!==(t=null!=e?e:b)&&void 0!==t?t:Promise}var N=function(e){return e&&"number"==typeof e.length&&"function"!=typeof e};function M(e){return a(null==e?void 0:e.then)}function H(e,t){return new j((function(n){var r=0;return t.schedule((function(){r===e.length?n.complete():(n.next(e[r++]),n.closed||this.schedule())}))}))}var F="function"==typeof Symbol&&Symbol.iterator?Symbol.iterator:"@@iterator";function U(e,t){if(!e)throw new Error("Iterable cannot be null");return new j((function(n){var r=new d;return r.add(t.schedule((function(){var o=e[Symbol.asyncIterator]();r.add(t.schedule((function(){var e=this;o.next().then((function(t){t.done?n.complete():(n.next(t.value),e.schedule())}))})))}))),r}))}function Y(e){return a(e[L])}function G(e){return a(null==e?void 0:e[F])}function R(e){return Symbol.asyncIterator&&a(null==e?void 0:e[Symbol.asyncIterator])}function $(e){return new TypeError("You provided "+(null!==e&&"object"==typeof e?"an invalid object":"'"+e+"'")+" where a stream was expected. You can provide an Observable, Promise, ReadableStream, Array, AsyncIterable, or Iterable.")}function q(e){return c(this,arguments,(function(){var t,r,o;return n(this,(function(n){switch(n.label){case 0:t=e.getReader(),n.label=1;case 1:n.trys.push([1,,9,10]),n.label=2;case 2:return[4,u(t.read())];case 3:return r=n.sent(),o=r.value,r.done?[4,u(void 0)]:[3,5];case 4:return[2,n.sent()];case 5:return[4,u(o)];case 6:return[4,n.sent()];case 7:return n.sent(),[3,2];case 8:return[3,10];case 9:return t.releaseLock(),[7];case 10:return[2]}}))}))}function z(e){return a(null==e?void 0:e.getReader)}function J(e,t){return t?function(e,t){if(null!=e){if(Y(e))return function(e,t){return new j((function(n){var r=new d;return r.add(t.schedule((function(){var o=e[L]();r.add(o.subscribe({next:function(e){r.add(t.schedule((function(){return n.next(e)})))},error:function(e){r.add(t.schedule((function(){return n.error(e)})))},complete:function(){r.add(t.schedule((function(){return n.complete()})))}}))}))),r}))}(e,t);if(N(e))return H(e,t);if(M(e))return function(e,t){return new j((function(n){return t.schedule((function(){return e.then((function(e){n.add(t.schedule((function(){n.next(e),n.add(t.schedule((function(){return n.complete()})))})))}),(function(e){n.add(t.schedule((function(){return n.error(e)})))}))}))}))}(e,t);if(R(e))return U(e,t);if(G(e))return function(e,t){return new j((function(n){var r;return n.add(t.schedule((function(){r=e[F](),function(e,t,n,r){void 0===r&&(r=0);var o=t.schedule((function(){try{n.call(this)}catch(t){e.error(t)}}),r);e.add(o)}(n,t,(function(){var e=r.next(),t=e.value;e.done?n.complete():(n.next(t),this.schedule())}))}))),function(){return a(null==r?void 0:r.return)&&r.return()}}))}(e,t);if(z(e))return function(e,t){return U(q(e),t)}(e,t)}throw $(e)}(e,t):K(e)}function K(e){if(e instanceof j)return e;if(null!=e){if(Y(e))return o=e,new j((function(e){var t=o[L]();if(a(t.subscribe))return t.subscribe(e);throw new TypeError("Provided object does not correctly implement Symbol.observable")}));if(N(e))return Q(e);if(M(e))return n=e,new j((function(e){n.then((function(t){e.closed||(e.next(t),e.complete())}),(function(t){return e.error(t)})).then(null,_)}));if(R(e))return V(e);if(G(e))return t=e,new j((function(e){var n,o;try{for(var i=r(t),u=i.next();!u.done;u=i.next()){var c=u.value;if(e.next(c),e.closed)return}}catch(e){n={error:e}}finally{try{u&&!u.done&&(o=i.return)&&o.call(i)}finally{if(n)throw n.error}}e.complete()}));if(z(e))return V(q(e))}var t,n,o;throw $(e)}function Q(e){return new j((function(t){for(var n=0;n<e.length&&!t.closed;n++)t.next(e[n]);t.complete()}))}function V(e){return new j((function(t){(function(e,t){var o,i,u,c,a,s,l,f;return a=this,s=void 0,f=function(){var a,s;return n(this,(function(n){switch(n.label){case 0:n.trys.push([0,5,6,11]),o=function(e){if(!Symbol.asyncIterator)throw new TypeError("Symbol.asyncIterator is not defined.");var t,n=e[Symbol.asyncIterator];return n?n.call(e):(e=r(e),t={},o("next"),o("throw"),o("return"),t[Symbol.asyncIterator]=function(){return this},t);function o(n){t[n]=e[n]&&function(t){return new Promise((function(r,o){!function(e,t,n,r){Promise.resolve(r).then((function(t){e({value:t,done:n})}),t)}(r,o,(t=e[n](t)).done,t.value)}))}}}(e),n.label=1;case 1:return[4,o.next()];case 2:if((i=n.sent()).done)return[3,4];if(a=i.value,t.next(a),t.closed)return[2];n.label=3;case 3:return[3,1];case 4:return[3,11];case 5:return s=n.sent(),u={error:s},[3,11];case 6:return n.trys.push([6,,9,10]),i&&!i.done&&(c=o.return)?[4,c.call(o)]:[3,8];case 7:n.sent(),n.label=8;case 8:return[3,10];case 9:if(u)throw u.error;return[7];case 10:return[7];case 11:return t.complete(),[2]}}))},new((l=void 0)||(l=Promise))((function(e,t){function n(e){try{o(f.next(e))}catch(e){t(e)}}function r(e){try{o(f.throw(e))}catch(e){t(e)}}function o(t){var o;t.done?e(t.value):(o=t.value,o instanceof l?o:new l((function(e){e(o)}))).then(n,r)}o((f=f.apply(a,s||[])).next())}))})(e,t).catch((function(e){return t.error(e)}))}))}var W=Array.isArray;function X(e){return 1===e.length&&W(e[0])?e[0]:e}var Z=new j((function(e){return e.complete()})),ee=function(e){function n(t,n,r,o,i){var u=e.call(this,t)||this;return u.onFinalize=i,u._next=n?function(e){try{n(e)}catch(e){t.error(e)}}:e.prototype._next,u._error=o?function(e){try{o(e)}catch(e){t.error(e)}finally{this.unsubscribe()}}:e.prototype._error,u._complete=r?function(){try{r()}catch(e){t.error(e)}finally{this.unsubscribe()}}:e.prototype._complete,u}return t(n,e),n.prototype.unsubscribe=function(){var t,n=this.closed;e.prototype.unsubscribe.call(this),!n&&(null===(t=this.onFinalize)||void 0===t||t.call(this))},n}(S);function te(e){return e&&a(e.schedule)}function ne(e){return e[e.length-1]}function re(e){return a(ne(e))?e.pop():void 0}function oe(e){return te(ne(e))?e.pop():void 0}function ie(e){return function(t){if(function(e){return a(null==e?void 0:e.lift)}(t))return t.lift((function(t){try{return e(t,this)}catch(e){this.error(e)}}));throw new TypeError("Unable to lift unknown Observable type")}}function ue(e,t){return ie((function(n,r){var o=0;n.subscribe(new ee(r,(function(n){r.next(e.call(t,n,o++))})))}))}function ce(e,t,n){return void 0===n&&(n=1/0),a(t)?ce((function(n,r){return ue((function(e,o){return t(n,e,r,o)}))(K(e(n,r)))}),n):("number"==typeof t&&(n=t),ie((function(t,r){return function(e,t,n,r,o,i,u,c){var a=[],s=0,l=0,f=!1,d=function(){!f||a.length||s||t.complete()},h=function(e){return s<r?p(e):a.push(e)},p=function(e){s++;var o=!1;K(n(e,l++)).subscribe(new ee(t,(function(e){t.next(e)}),(function(){o=!0}),void 0,(function(){if(o)try{s--;for(;a.length&&s<r;)e=void 0,e=a.shift(),p(e);d()}catch(e){t.error(e)}var e})))};return e.subscribe(new ee(t,h,(function(){f=!0,d()}))),function(){}}(t,r,e,n)})))}var ae=Array.isArray;function se(e){return ue((function(t){return function(e,t){return ae(t)?e.apply(void 0,i([],o(t))):e(t)}(e,t)}))}var le=["addListener","removeListener"],fe=["addEventListener","removeEventListener"],de=["on","off"];function he(e,t,n,r){if(a(n)&&(r=n,n=void 0),r)return he(e,t,n).pipe(se(r));var i=o(function(e){return a(e.addEventListener)&&a(e.removeEventListener)}(e)?fe.map((function(r){return function(o){return e[r](t,o,n)}})):function(e){return a(e.addListener)&&a(e.removeListener)}(e)?le.map(pe(e,t)):function(e){return a(e.on)&&a(e.off)}(e)?de.map(pe(e,t)):[],2),u=i[0],c=i[1];if(!u&&N(e))return ce((function(e){return he(e,t,n)}))(Q(e));if(!u)throw new TypeError("Invalid event target");return new j((function(e){var t=function(){for(var t=[],n=0;n<arguments.length;n++)t[n]=arguments[n];return e.next(1<t.length?t:t[0])};return u(t),function(){return c(t)}}))}function pe(e,t){return function(n){return function(r){return e[n](t,r)}}}function ve(e,t){return ie((function(n,r){var o=null,i=0,u=!1,c=function(){return u&&!o&&r.complete()};n.subscribe(new ee(r,(function(n){null==o||o.unsubscribe();var u=0,a=i++;K(e(n,a)).subscribe(o=new ee(r,(function(e){return r.next(t?t(n,e,a,u++):e)}),(function(){o=null,c()})))}),(function(){u=!0,c()})))}))}var ye=Array.isArray,be=Object.getPrototypeOf,me=Object.prototype,we=Object.keys;function ge(e){if(1===e.length){var t=e[0];if(ye(t))return{args:t,keys:null};if((r=t)&&"object"==typeof r&&be(r)===me){var n=we(t);return{args:n.map((function(e){return t[e]})),keys:n}}}var r;return{args:e,keys:null}}function _e(e,t){return e.reduce((function(e,n,r){return e[n]=t[r],e}),{})}function Ce(e,t,n){return void 0===n&&(n=P),function(r){Ee(t,(function(){for(var o=e.length,i=new Array(o),u=o,c=o,a=function(o){Ee(t,(function(){var a=J(e[o],t),s=!1;a.subscribe(new ee(r,(function(e){i[o]=e,s||(s=!0,c--),c||r.next(n(i.slice()))}),(function(){--u||r.complete()})))}),r)},s=0;s<o;s++)a(s)}),r)}}function Ee(e,t,n){e?n.add(e.schedule(t)):t()}var xe=function(e){function n(t,n){return e.call(this)||this}return t(n,e),n.prototype.schedule=function(e,t){return void 0===t&&(t=0),this},n}(d),Se={setInterval:function(){for(var e=[],t=0;t<arguments.length;t++)e[t]=arguments[t];var n=Se.delegate;return((null==n?void 0:n.setInterval)||setInterval).apply(void 0,i([],o(e)))},clearInterval:function(e){var t=Se.delegate;return((null==t?void 0:t.clearInterval)||clearInterval)(e)},delegate:void 0},Ie=function(e){function n(t,n){var r=e.call(this,t,n)||this;return r.scheduler=t,r.work=n,r.pending=!1,r}return t(n,e),n.prototype.schedule=function(e,t){if(void 0===t&&(t=0),this.closed)return this;this.state=e;var n=this.id,r=this.scheduler;return null!=n&&(this.id=this.recycleAsyncId(r,n,t)),this.pending=!0,this.delay=t,this.id=this.id||this.requestAsyncId(r,this.id,t),this},n.prototype.requestAsyncId=function(e,t,n){return void 0===n&&(n=0),Se.setInterval(e.flush.bind(e,this),n)},n.prototype.recycleAsyncId=function(e,t,n){if(void 0===n&&(n=0),null!=n&&this.delay===n&&!1===this.pending)return t;Se.clearInterval(t)},n.prototype.execute=function(e,t){if(this.closed)return new Error("executing a cancelled action");this.pending=!1;var n=this._execute(e,t);if(n)return n;!1===this.pending&&null!=this.id&&(this.id=this.recycleAsyncId(this.scheduler,this.id,null))},n.prototype._execute=function(e,t){var n,r=!1;try{this.work(e)}catch(e){r=!0,n=!!e&&e||new Error(e)}if(r)return this.unsubscribe(),n},n.prototype.unsubscribe=function(){if(!this.closed){var t=this.id,n=this.scheduler,r=n.actions;this.work=this.state=this.scheduler=null,this.pending=!1,f(r,this),null!=t&&(this.id=this.recycleAsyncId(n,t,null)),this.delay=null,e.prototype.unsubscribe.call(this)}},n}(xe),Oe={now:function(){return(Oe.delegate||Date).now()},delegate:void 0},ke=function(){function e(t,n){void 0===n&&(n=e.now),this.schedulerActionCtor=t,this.now=n}return e.prototype.schedule=function(e,t,n){return void 0===t&&(t=0),new this.schedulerActionCtor(this,e).schedule(n,t)},e.now=Oe.now,e}(),Te=new(function(e){function n(t,n){void 0===n&&(n=ke.now);var r=e.call(this,t,n)||this;return r.actions=[],r._active=!1,r._scheduled=void 0,r}return t(n,e),n.prototype.flush=function(e){var t=this.actions;if(this._active)t.push(e);else{var n;this._active=!0;do{if(n=e.execute(e.state,e.delay))break}while(e=t.shift());if(this._active=!1,n){for(;e=t.shift();)e.unsubscribe();throw n}}},n}(ke))(Ie),Ae=Te;class Le{constructor(){this.loadDbmsCard(),this.randomCardOrder=[]}loadDbmsCard(){this.cardCollectionObservable=this.getAllCardsObservableFromJsonServer("",""),this.cardCollectionObservable.subscribe((e=>{this.randomOrderSorter(e)}))}getAllCardsObservableFromJsonServer(e,t){if(t=t.toLowerCase(),""===e)var n=fetch("http://localhost:3000/cards");else n=fetch(`http://localhost:3000/cards?${t}=`+e);return J(n.then((e=>{if(e.ok)return e.json();throw new Error("Cards not found")})).catch((e=>console.log("Error ",e))))}deleteCard(e){return this.cardCollectionObservable.pipe(ue((t=>t.filter((t=>t!==e)))))}checkCardAttributeForSearch(e,t){return"attack"===(t=t.toLowerCase())?e.attack:"deffense"===t?e.deffense:"title"===t?e.title:e.stars}search(e,t){return""!==e?J(this.cardCollectionObservable.pipe(ue((n=>n.filter((n=>this.checkCardAttributeForSearch(n,t)==e)))))):this.cardCollectionObservable}searchObservable(){return function(){for(var e=[],t=0;t<arguments.length;t++)e[t]=arguments[t];var n=oe(e),r=re(e),o=ge(e),i=o.args,u=o.keys;if(0===i.length)return J([],n);var c=new j(Ce(i,n,u?function(e){return _e(u,e)}:P));return r?c.pipe(se(r)):c}([Pe,Be]).pipe(ve((e=>this.search(e[1],e[0]))))}getCardCollectionStream(){return console.log("cardCollectionStream"),(e=500,void 0===e&&(e=0),void 0===t&&(t=Te),e<0&&(e=0),function(e,t,n){void 0===e&&(e=0),void 0===n&&(n=Ae);var r=-1;return null!=t&&(te(t)?n=t:r=t),new j((function(t){var o,i=(o=e)instanceof Date&&!isNaN(o)?+e-n.now():e;i<0&&(i=0);var u=0;return n.schedule((function(){t.closed||(t.next(u++),0<=r?this.schedule(void 0,r):t.complete())}),i)}))}(e,e,t)).pipe(ue((e=>this.cardCollectionObservable)));var e,t}sort(){return J(this.cardCollectionObservable.pipe(ue((e=>this.randomOrderSorter(e)))))}randomOrderPromiseGenerator(e){return console.log("generisan broj"),new Promise(((t,n)=>{let r=[],o=0,i=!1,u=0;for(;o!==e;)i=!1,u=Math.round(Math.random()*e),0===o?(r.push(u),o++):(r.forEach(((e,t)=>{u===e&&(i=!0)})),!1===i&&(r.push(u),o++));t(r)}))}radnomOrderSorterTest(e){let t=[];return this.randomCardOrder.forEach(((n,r)=>{t.push(e[n])})),t}async randomOrderSorter(e){this.randomCardOrder=await this.randomOrderPromiseGenerator(e.length-1)}}const Pe=new j((e=>{setInterval((()=>{e.next(document.getElementsByClassName("comboBoxInput")[0].value)}),1e3)})),Be=new j((e=>{setInterval((()=>{e.next(document.getElementsByClassName("searchInput")[0].value)}),1e3)}));function je(){return document.getElementsByClassName("sortCards")[0],he(document.getElementsByClassName("sortCards")[0],"click")}new j((e=>{setInterval((()=>{e.next(document.getElementsByClassName("comboBoxInput")[0].value)}),1e3)})),new j((e=>{setInterval((()=>{e.next(document.getElementsByClassName("searchInput")[0].value)}),1e3)})),new j((e=>{setInterval((()=>{e.next(je())}),1e3)}));const De=new class{constructor(){this.testCards=[],this.cardCollection=new Le}drawList(){document.getElementById("cardDetail").innerHTML="",document.getElementById("output").innerHTML="",this.testSubscription=this.cardCollection.cardCollectionObservable.pipe(ve((e=>this.cardCollection.searchObservable()))).subscribe((e=>{console.log("subscribe"),void 0!==e[0]&&""!==e[0].title&&(document.getElementById("output").innerHTML="",e.forEach((e=>{this.addItem(e)})))}))}testSortButton(e){return function(){for(var e=[],t=0;t<arguments.length;t++)e[t]=arguments[t];var n=re(e),r=X(e);return r.length?new j((function(e){var t=r.map((function(){return[]})),u=r.map((function(){return!1}));e.add((function(){t=u=null}));for(var c=function(c){K(r[c]).subscribe(new ee(e,(function(r){if(t[c].push(r),t.every((function(e){return e.length}))){var a=t.map((function(e){return e.shift()}));e.next(n?n.apply(void 0,i([],o(a))):a),t.some((function(e,t){return!e.length&&u[t]}))&&e.complete()}}),(function(){u[c]=!0,!t[c].length&&e.complete()})))},a=0;!e.closed&&a<r.length;a++)c(a);return function(){t=u=null}})):Z}(je(),this.cardCollection.getCardCollectionStream()).pipe(ue((t=>this.cardCollection.radnomOrderSorterTest(e))))}addItem(e){let t=document.createElement("div");t.className="mainSingleCardDiv",document.getElementById("output").appendChild(t);let n=document.createElement("div");n.className="cardUiStyle",n.id="test",t.appendChild(n);let r=document.createElement("img");r.src=e.imgPath,r.className="cardUiImg",n.appendChild(r);let o=document.createElement("div");o.className="cardInfoDiv",n.appendChild(o);let i=document.createElement("label");i.innerHTML="Name: "+e.title,o.appendChild(i);let u=document.createElement("label");u.innerHTML="Level: "+e.stars,o.appendChild(u);let c=document.createElement("label");c.innerHTML="Attribute: "+e.attribute,o.appendChild(c);let a=document.createElement("label");a.innerHTML=`ATK: ${e.attack} DEF: ${e.deffense}`,o.appendChild(a);let s=document.createElement("div");n.appendChild(s);let l=document.createElement("button");l.className="cardDeleteButton",l.innerHTML="DELETE",t.appendChild(l),n.onclick=()=>{this.divClicked(e)},l.onclick=()=>{this.deleteClicked(e)}}divClicked(e){console.log(e.title+" clicked"),document.getElementById("cardDetail").innerHTML="";let t=document.createElement("div");t.className="cardDetailDiv",document.getElementById("cardDetail").appendChild(t);let n=document.createElement("img");n.src=e.imgPath,t.appendChild(n)}deleteClicked(e){this.cardCollection.cardCollectionObservable=this.cardCollection.deleteCard(e),this.drawList()}clearCardListDiv(){document.getElementById("output").innerHTML=""}};De.drawList(),document.getElementsByClassName("forceLoadDbmsButton")[0].onclick=()=>{De.cardCollection.loadDbmsCard(),De.drawList()}})();
//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbIndlYnBhY2s6Ly8wMS10b29saW5nLy4vbm9kZV9tb2R1bGVzL3RzbGliL3RzbGliLmVzNi5qcyIsIndlYnBhY2s6Ly8wMS10b29saW5nLy4vbm9kZV9tb2R1bGVzL3J4anMvZGlzdC9lc201L2ludGVybmFsL3V0aWwvaXNGdW5jdGlvbi5qcyIsIndlYnBhY2s6Ly8wMS10b29saW5nLy4vbm9kZV9tb2R1bGVzL3J4anMvZGlzdC9lc201L2ludGVybmFsL3V0aWwvVW5zdWJzY3JpcHRpb25FcnJvci5qcyIsIndlYnBhY2s6Ly8wMS10b29saW5nLy4vbm9kZV9tb2R1bGVzL3J4anMvZGlzdC9lc201L2ludGVybmFsL3V0aWwvY3JlYXRlRXJyb3JDbGFzcy5qcyIsIndlYnBhY2s6Ly8wMS10b29saW5nLy4vbm9kZV9tb2R1bGVzL3J4anMvZGlzdC9lc201L2ludGVybmFsL3V0aWwvYXJyUmVtb3ZlLmpzIiwid2VicGFjazovLzAxLXRvb2xpbmcvLi9ub2RlX21vZHVsZXMvcnhqcy9kaXN0L2VzbTUvaW50ZXJuYWwvU3Vic2NyaXB0aW9uLmpzIiwid2VicGFjazovLzAxLXRvb2xpbmcvLi9ub2RlX21vZHVsZXMvcnhqcy9kaXN0L2VzbTUvaW50ZXJuYWwvY29uZmlnLmpzIiwid2VicGFjazovLzAxLXRvb2xpbmcvLi9ub2RlX21vZHVsZXMvcnhqcy9kaXN0L2VzbTUvaW50ZXJuYWwvc2NoZWR1bGVyL3RpbWVvdXRQcm92aWRlci5qcyIsIndlYnBhY2s6Ly8wMS10b29saW5nLy4vbm9kZV9tb2R1bGVzL3J4anMvZGlzdC9lc201L2ludGVybmFsL3V0aWwvcmVwb3J0VW5oYW5kbGVkRXJyb3IuanMiLCJ3ZWJwYWNrOi8vMDEtdG9vbGluZy8uL25vZGVfbW9kdWxlcy9yeGpzL2Rpc3QvZXNtNS9pbnRlcm5hbC91dGlsL25vb3AuanMiLCJ3ZWJwYWNrOi8vMDEtdG9vbGluZy8uL25vZGVfbW9kdWxlcy9yeGpzL2Rpc3QvZXNtNS9pbnRlcm5hbC9Ob3RpZmljYXRpb25GYWN0b3JpZXMuanMiLCJ3ZWJwYWNrOi8vMDEtdG9vbGluZy8uL25vZGVfbW9kdWxlcy9yeGpzL2Rpc3QvZXNtNS9pbnRlcm5hbC9TdWJzY3JpYmVyLmpzIiwid2VicGFjazovLzAxLXRvb2xpbmcvLi9ub2RlX21vZHVsZXMvcnhqcy9kaXN0L2VzbTUvaW50ZXJuYWwvc3ltYm9sL29ic2VydmFibGUuanMiLCJ3ZWJwYWNrOi8vMDEtdG9vbGluZy8uL25vZGVfbW9kdWxlcy9yeGpzL2Rpc3QvZXNtNS9pbnRlcm5hbC91dGlsL2lkZW50aXR5LmpzIiwid2VicGFjazovLzAxLXRvb2xpbmcvLi9ub2RlX21vZHVsZXMvcnhqcy9kaXN0L2VzbTUvaW50ZXJuYWwvdXRpbC9waXBlLmpzIiwid2VicGFjazovLzAxLXRvb2xpbmcvLi9ub2RlX21vZHVsZXMvcnhqcy9kaXN0L2VzbTUvaW50ZXJuYWwvT2JzZXJ2YWJsZS5qcyIsIndlYnBhY2s6Ly8wMS10b29saW5nLy4vbm9kZV9tb2R1bGVzL3J4anMvZGlzdC9lc201L2ludGVybmFsL3V0aWwvaXNBcnJheUxpa2UuanMiLCJ3ZWJwYWNrOi8vMDEtdG9vbGluZy8uL25vZGVfbW9kdWxlcy9yeGpzL2Rpc3QvZXNtNS9pbnRlcm5hbC91dGlsL2lzUHJvbWlzZS5qcyIsIndlYnBhY2s6Ly8wMS10b29saW5nLy4vbm9kZV9tb2R1bGVzL3J4anMvZGlzdC9lc201L2ludGVybmFsL3NjaGVkdWxlZC9zY2hlZHVsZUFycmF5LmpzIiwid2VicGFjazovLzAxLXRvb2xpbmcvLi9ub2RlX21vZHVsZXMvcnhqcy9kaXN0L2VzbTUvaW50ZXJuYWwvc3ltYm9sL2l0ZXJhdG9yLmpzIiwid2VicGFjazovLzAxLXRvb2xpbmcvLi9ub2RlX21vZHVsZXMvcnhqcy9kaXN0L2VzbTUvaW50ZXJuYWwvc2NoZWR1bGVkL3NjaGVkdWxlQXN5bmNJdGVyYWJsZS5qcyIsIndlYnBhY2s6Ly8wMS10b29saW5nLy4vbm9kZV9tb2R1bGVzL3J4anMvZGlzdC9lc201L2ludGVybmFsL3V0aWwvaXNJbnRlcm9wT2JzZXJ2YWJsZS5qcyIsIndlYnBhY2s6Ly8wMS10b29saW5nLy4vbm9kZV9tb2R1bGVzL3J4anMvZGlzdC9lc201L2ludGVybmFsL3V0aWwvaXNJdGVyYWJsZS5qcyIsIndlYnBhY2s6Ly8wMS10b29saW5nLy4vbm9kZV9tb2R1bGVzL3J4anMvZGlzdC9lc201L2ludGVybmFsL3V0aWwvaXNBc3luY0l0ZXJhYmxlLmpzIiwid2VicGFjazovLzAxLXRvb2xpbmcvLi9ub2RlX21vZHVsZXMvcnhqcy9kaXN0L2VzbTUvaW50ZXJuYWwvdXRpbC90aHJvd1Vub2JzZXJ2YWJsZUVycm9yLmpzIiwid2VicGFjazovLzAxLXRvb2xpbmcvLi9ub2RlX21vZHVsZXMvcnhqcy9kaXN0L2VzbTUvaW50ZXJuYWwvdXRpbC9pc1JlYWRhYmxlU3RyZWFtTGlrZS5qcyIsIndlYnBhY2s6Ly8wMS10b29saW5nLy4vbm9kZV9tb2R1bGVzL3J4anMvZGlzdC9lc201L2ludGVybmFsL29ic2VydmFibGUvZnJvbS5qcyIsIndlYnBhY2s6Ly8wMS10b29saW5nLy4vbm9kZV9tb2R1bGVzL3J4anMvZGlzdC9lc201L2ludGVybmFsL3NjaGVkdWxlZC9zY2hlZHVsZWQuanMiLCJ3ZWJwYWNrOi8vMDEtdG9vbGluZy8uL25vZGVfbW9kdWxlcy9yeGpzL2Rpc3QvZXNtNS9pbnRlcm5hbC9zY2hlZHVsZWQvc2NoZWR1bGVPYnNlcnZhYmxlLmpzIiwid2VicGFjazovLzAxLXRvb2xpbmcvLi9ub2RlX21vZHVsZXMvcnhqcy9kaXN0L2VzbTUvaW50ZXJuYWwvc2NoZWR1bGVkL3NjaGVkdWxlUHJvbWlzZS5qcyIsIndlYnBhY2s6Ly8wMS10b29saW5nLy4vbm9kZV9tb2R1bGVzL3J4anMvZGlzdC9lc201L2ludGVybmFsL3NjaGVkdWxlZC9zY2hlZHVsZUl0ZXJhYmxlLmpzIiwid2VicGFjazovLzAxLXRvb2xpbmcvLi9ub2RlX21vZHVsZXMvcnhqcy9kaXN0L2VzbTUvaW50ZXJuYWwvdXRpbC9jYXVnaHRTY2hlZHVsZS5qcyIsIndlYnBhY2s6Ly8wMS10b29saW5nLy4vbm9kZV9tb2R1bGVzL3J4anMvZGlzdC9lc201L2ludGVybmFsL3NjaGVkdWxlZC9zY2hlZHVsZVJlYWRhYmxlU3RyZWFtTGlrZS5qcyIsIndlYnBhY2s6Ly8wMS10b29saW5nLy4vbm9kZV9tb2R1bGVzL3J4anMvZGlzdC9lc201L2ludGVybmFsL3V0aWwvYXJnc09yQXJnQXJyYXkuanMiLCJ3ZWJwYWNrOi8vMDEtdG9vbGluZy8uL25vZGVfbW9kdWxlcy9yeGpzL2Rpc3QvZXNtNS9pbnRlcm5hbC9vYnNlcnZhYmxlL2VtcHR5LmpzIiwid2VicGFjazovLzAxLXRvb2xpbmcvLi9ub2RlX21vZHVsZXMvcnhqcy9kaXN0L2VzbTUvaW50ZXJuYWwvb3BlcmF0b3JzL09wZXJhdG9yU3Vic2NyaWJlci5qcyIsIndlYnBhY2s6Ly8wMS10b29saW5nLy4vbm9kZV9tb2R1bGVzL3J4anMvZGlzdC9lc201L2ludGVybmFsL3V0aWwvaXNTY2hlZHVsZXIuanMiLCJ3ZWJwYWNrOi8vMDEtdG9vbGluZy8uL25vZGVfbW9kdWxlcy9yeGpzL2Rpc3QvZXNtNS9pbnRlcm5hbC91dGlsL2FyZ3MuanMiLCJ3ZWJwYWNrOi8vMDEtdG9vbGluZy8uL25vZGVfbW9kdWxlcy9yeGpzL2Rpc3QvZXNtNS9pbnRlcm5hbC91dGlsL2xpZnQuanMiLCJ3ZWJwYWNrOi8vMDEtdG9vbGluZy8uL25vZGVfbW9kdWxlcy9yeGpzL2Rpc3QvZXNtNS9pbnRlcm5hbC9vcGVyYXRvcnMvbWFwLmpzIiwid2VicGFjazovLzAxLXRvb2xpbmcvLi9ub2RlX21vZHVsZXMvcnhqcy9kaXN0L2VzbTUvaW50ZXJuYWwvb3BlcmF0b3JzL21lcmdlTWFwLmpzIiwid2VicGFjazovLzAxLXRvb2xpbmcvLi9ub2RlX21vZHVsZXMvcnhqcy9kaXN0L2VzbTUvaW50ZXJuYWwvb3BlcmF0b3JzL21lcmdlSW50ZXJuYWxzLmpzIiwid2VicGFjazovLzAxLXRvb2xpbmcvLi9ub2RlX21vZHVsZXMvcnhqcy9kaXN0L2VzbTUvaW50ZXJuYWwvdXRpbC9tYXBPbmVPck1hbnlBcmdzLmpzIiwid2VicGFjazovLzAxLXRvb2xpbmcvLi9ub2RlX21vZHVsZXMvcnhqcy9kaXN0L2VzbTUvaW50ZXJuYWwvb2JzZXJ2YWJsZS9mcm9tRXZlbnQuanMiLCJ3ZWJwYWNrOi8vMDEtdG9vbGluZy8uL25vZGVfbW9kdWxlcy9yeGpzL2Rpc3QvZXNtNS9pbnRlcm5hbC9vYnNlcnZhYmxlL2Zyb21BcnJheS5qcyIsIndlYnBhY2s6Ly8wMS10b29saW5nLy4vbm9kZV9tb2R1bGVzL3J4anMvZGlzdC9lc201L2ludGVybmFsL29wZXJhdG9ycy9zd2l0Y2hNYXAuanMiLCJ3ZWJwYWNrOi8vMDEtdG9vbGluZy8uL25vZGVfbW9kdWxlcy9yeGpzL2Rpc3QvZXNtNS9pbnRlcm5hbC91dGlsL2FyZ3NBcmdBcnJheU9yT2JqZWN0LmpzIiwid2VicGFjazovLzAxLXRvb2xpbmcvLi9ub2RlX21vZHVsZXMvcnhqcy9kaXN0L2VzbTUvaW50ZXJuYWwvdXRpbC9jcmVhdGVPYmplY3QuanMiLCJ3ZWJwYWNrOi8vMDEtdG9vbGluZy8uL25vZGVfbW9kdWxlcy9yeGpzL2Rpc3QvZXNtNS9pbnRlcm5hbC9vYnNlcnZhYmxlL2NvbWJpbmVMYXRlc3QuanMiLCJ3ZWJwYWNrOi8vMDEtdG9vbGluZy8uL25vZGVfbW9kdWxlcy9yeGpzL2Rpc3QvZXNtNS9pbnRlcm5hbC9zY2hlZHVsZXIvQWN0aW9uLmpzIiwid2VicGFjazovLzAxLXRvb2xpbmcvLi9ub2RlX21vZHVsZXMvcnhqcy9kaXN0L2VzbTUvaW50ZXJuYWwvc2NoZWR1bGVyL2ludGVydmFsUHJvdmlkZXIuanMiLCJ3ZWJwYWNrOi8vMDEtdG9vbGluZy8uL25vZGVfbW9kdWxlcy9yeGpzL2Rpc3QvZXNtNS9pbnRlcm5hbC9zY2hlZHVsZXIvQXN5bmNBY3Rpb24uanMiLCJ3ZWJwYWNrOi8vMDEtdG9vbGluZy8uL25vZGVfbW9kdWxlcy9yeGpzL2Rpc3QvZXNtNS9pbnRlcm5hbC9zY2hlZHVsZXIvZGF0ZVRpbWVzdGFtcFByb3ZpZGVyLmpzIiwid2VicGFjazovLzAxLXRvb2xpbmcvLi9ub2RlX21vZHVsZXMvcnhqcy9kaXN0L2VzbTUvaW50ZXJuYWwvU2NoZWR1bGVyLmpzIiwid2VicGFjazovLzAxLXRvb2xpbmcvLi9ub2RlX21vZHVsZXMvcnhqcy9kaXN0L2VzbTUvaW50ZXJuYWwvc2NoZWR1bGVyL2FzeW5jLmpzIiwid2VicGFjazovLzAxLXRvb2xpbmcvLi9ub2RlX21vZHVsZXMvcnhqcy9kaXN0L2VzbTUvaW50ZXJuYWwvc2NoZWR1bGVyL0FzeW5jU2NoZWR1bGVyLmpzIiwid2VicGFjazovLzAxLXRvb2xpbmcvLi9zcmMvbW9kZWxzL2NhcmRDb2xsZWN0aW9uLnRzIiwid2VicGFjazovLzAxLXRvb2xpbmcvLi9ub2RlX21vZHVsZXMvcnhqcy9kaXN0L2VzbTUvaW50ZXJuYWwvb2JzZXJ2YWJsZS9pbnRlcnZhbC5qcyIsIndlYnBhY2s6Ly8wMS10b29saW5nLy4vbm9kZV9tb2R1bGVzL3J4anMvZGlzdC9lc201L2ludGVybmFsL29ic2VydmFibGUvdGltZXIuanMiLCJ3ZWJwYWNrOi8vMDEtdG9vbGluZy8uL25vZGVfbW9kdWxlcy9yeGpzL2Rpc3QvZXNtNS9pbnRlcm5hbC91dGlsL2lzRGF0ZS5qcyIsIndlYnBhY2s6Ly8wMS10b29saW5nLy4vc3JjL1VJL2NhcmRDb2xsZWN0aW9uVUkudHMiLCJ3ZWJwYWNrOi8vMDEtdG9vbGluZy8uL3NyYy9tYWluLnRzIiwid2VicGFjazovLzAxLXRvb2xpbmcvLi9ub2RlX21vZHVsZXMvcnhqcy9kaXN0L2VzbTUvaW50ZXJuYWwvb2JzZXJ2YWJsZS96aXAuanMiXSwibmFtZXMiOlsiZXh0ZW5kU3RhdGljcyIsImQiLCJiIiwiT2JqZWN0Iiwic2V0UHJvdG90eXBlT2YiLCJfX3Byb3RvX18iLCJBcnJheSIsInAiLCJwcm90b3R5cGUiLCJoYXNPd25Qcm9wZXJ0eSIsImNhbGwiLCJfX2V4dGVuZHMiLCJUeXBlRXJyb3IiLCJTdHJpbmciLCJfXyIsInRoaXMiLCJjb25zdHJ1Y3RvciIsImNyZWF0ZSIsIl9fZ2VuZXJhdG9yIiwidGhpc0FyZyIsImJvZHkiLCJmIiwieSIsInQiLCJnIiwiXyIsImxhYmVsIiwic2VudCIsInRyeXMiLCJvcHMiLCJuZXh0IiwidmVyYiIsIlN5bWJvbCIsIml0ZXJhdG9yIiwibiIsInYiLCJvcCIsImRvbmUiLCJ2YWx1ZSIsInBvcCIsImxlbmd0aCIsInB1c2giLCJlIiwic3RlcCIsIl9fdmFsdWVzIiwibyIsInMiLCJtIiwiaSIsIl9fcmVhZCIsInIiLCJhciIsImVycm9yIiwiX19zcHJlYWRBcnJheSIsInRvIiwiZnJvbSIsImlsIiwiaiIsIl9fYXdhaXQiLCJfX2FzeW5jR2VuZXJhdG9yIiwiX2FyZ3VtZW50cyIsImdlbmVyYXRvciIsImFzeW5jSXRlcmF0b3IiLCJhcHBseSIsInEiLCJQcm9taXNlIiwiYSIsInJlc3VtZSIsInJlc29sdmUiLCJ0aGVuIiwiZnVsZmlsbCIsInJlamVjdCIsInNldHRsZSIsInNoaWZ0IiwiaXNGdW5jdGlvbiIsImN0b3JGdW5jIiwiVW5zdWJzY3JpcHRpb25FcnJvciIsImVycm9ycyIsImluc3RhbmNlIiwiRXJyb3IiLCJzdGFjayIsIm1lc3NhZ2UiLCJtYXAiLCJlcnIiLCJ0b1N0cmluZyIsImpvaW4iLCJuYW1lIiwiYXJyUmVtb3ZlIiwiYXJyIiwiaXRlbSIsImluZGV4IiwiaW5kZXhPZiIsInNwbGljZSIsIlN1YnNjcmlwdGlvbiIsImluaXRpYWxUZWFyZG93biIsImNsb3NlZCIsIl9wYXJlbnRhZ2UiLCJfdGVhcmRvd25zIiwidW5zdWJzY3JpYmUiLCJlXzEiLCJfYSIsImVfMiIsIl9iIiwiaXNBcnJheSIsIl9wYXJlbnRhZ2VfMSIsIl9wYXJlbnRhZ2VfMV8xIiwicmVtb3ZlIiwiZV8xXzEiLCJyZXR1cm4iLCJfdGVhcmRvd25zXzEiLCJfdGVhcmRvd25zXzFfMSIsInRlYXJkb3duXzEiLCJleGVjVGVhcmRvd24iLCJlXzJfMSIsImFkZCIsInRlYXJkb3duIiwiX2hhc1BhcmVudCIsIl9hZGRQYXJlbnQiLCJwYXJlbnQiLCJpbmNsdWRlcyIsIl9yZW1vdmVQYXJlbnQiLCJFTVBUWSIsImVtcHR5IiwiaXNTdWJzY3JpcHRpb24iLCJjb25maWciLCJ1bmRlZmluZWQiLCJ0aW1lb3V0UHJvdmlkZXIiLCJzZXRUaW1lb3V0IiwiYXJncyIsIl9pIiwiYXJndW1lbnRzIiwiZGVsZWdhdGUiLCJjbGVhclRpbWVvdXQiLCJoYW5kbGUiLCJyZXBvcnRVbmhhbmRsZWRFcnJvciIsIm5vb3AiLCJDT01QTEVURV9OT1RJRklDQVRJT04iLCJjcmVhdGVOb3RpZmljYXRpb24iLCJraW5kIiwiU3Vic2NyaWJlciIsIl9zdXBlciIsImRlc3RpbmF0aW9uIiwiX3RoaXMiLCJpc1N0b3BwZWQiLCJFTVBUWV9PQlNFUlZFUiIsImNvbXBsZXRlIiwiU2FmZVN1YnNjcmliZXIiLCJoYW5kbGVTdG9wcGVkTm90aWZpY2F0aW9uIiwibmV4dE5vdGlmaWNhdGlvbiIsIl9uZXh0IiwiX2Vycm9yIiwiX2NvbXBsZXRlIiwib2JzZXJ2ZXJPck5leHQiLCJjb250ZXh0XzEiLCJiaW5kIiwid3JhcEZvckVycm9ySGFuZGxpbmciLCJkZWZhdWx0RXJyb3JIYW5kbGVyIiwiaGFuZGxlciIsIl9zeW5jRXJyb3JIYWNrX2lzU3Vic2NyaWJpbmciLCJfX3N5bmNFcnJvciIsIm5vdGlmaWNhdGlvbiIsInN1YnNjcmliZXIiLCJvblN0b3BwZWROb3RpZmljYXRpb24iLCJvYnNlcnZhYmxlIiwiaWRlbnRpdHkiLCJ4IiwicGlwZUZyb21BcnJheSIsImZucyIsImlucHV0IiwicmVkdWNlIiwicHJldiIsImZuIiwiT2JzZXJ2YWJsZSIsInN1YnNjcmliZSIsIl9zdWJzY3JpYmUiLCJsaWZ0Iiwib3BlcmF0b3IiLCJzb3VyY2UiLCJpc09ic2VydmVyIiwiX2RlcHJlY2F0ZWRTeW5jRXJyb3JTdWJzY3JpYmUiLCJfdHJ5U3Vic2NyaWJlIiwibG9jYWxTdWJzY3JpYmVyIiwiZGVzdCIsInNpbmsiLCJmb3JFYWNoIiwicHJvbWlzZUN0b3IiLCJnZXRQcm9taXNlQ3RvciIsInN1YnNjcmlwdGlvbiIsInBpcGUiLCJvcGVyYXRpb25zIiwidG9Qcm9taXNlIiwiaXNBcnJheUxpa2UiLCJpc1Byb21pc2UiLCJzY2hlZHVsZUFycmF5Iiwic2NoZWR1bGVyIiwic2NoZWR1bGUiLCJzY2hlZHVsZUFzeW5jSXRlcmFibGUiLCJzdWIiLCJyZXN1bHQiLCJpc0ludGVyb3BPYnNlcnZhYmxlIiwiaXNJdGVyYWJsZSIsImlzQXN5bmNJdGVyYWJsZSIsIm9iaiIsImNyZWF0ZUludmFsaWRPYnNlcnZhYmxlVHlwZUVycm9yIiwicmVhZGFibGVTdHJlYW1MaWtlVG9Bc3luY0dlbmVyYXRvciIsInJlYWRhYmxlU3RyZWFtIiwicmVhZGVyIiwiZ2V0UmVhZGVyIiwicmVhZCIsInJlbGVhc2VMb2NrIiwiaXNSZWFkYWJsZVN0cmVhbUxpa2UiLCJzY2hlZHVsZU9ic2VydmFibGUiLCJzY2hlZHVsZVByb21pc2UiLCJleGVjdXRlIiwiZGVsYXkiLCJjYXVnaHRTY2hlZHVsZSIsInNjaGVkdWxlSXRlcmFibGUiLCJzY2hlZHVsZVJlYWRhYmxlU3RyZWFtTGlrZSIsInNjaGVkdWxlZCIsImlubmVyRnJvbSIsIm9icyIsImZyb21BcnJheUxpa2UiLCJwcm9taXNlIiwiZnJvbUFzeW5jSXRlcmFibGUiLCJpdGVyYWJsZSIsIml0ZXJhYmxlXzEiLCJpdGVyYWJsZV8xXzEiLCJhcnJheSIsImFzeW5jSXRlcmFibGUiLCJhc3luY0l0ZXJhYmxlXzEiLCJhc3luY0l0ZXJhYmxlXzFfMSIsIlAiLCJfX2FzeW5jVmFsdWVzIiwiZnVsZmlsbGVkIiwicmVqZWN0ZWQiLCJwcm9jZXNzIiwiY2F0Y2giLCJhcmdzT3JBcmdBcnJheSIsIk9wZXJhdG9yU3Vic2NyaWJlciIsIm9uTmV4dCIsIm9uQ29tcGxldGUiLCJvbkVycm9yIiwib25GaW5hbGl6ZSIsImlzU2NoZWR1bGVyIiwibGFzdCIsInBvcFJlc3VsdFNlbGVjdG9yIiwicG9wU2NoZWR1bGVyIiwib3BlcmF0ZSIsImluaXQiLCJoYXNMaWZ0IiwibGlmdGVkU291cmNlIiwicHJvamVjdCIsIm1lcmdlTWFwIiwicmVzdWx0U2VsZWN0b3IiLCJjb25jdXJyZW50IiwiSW5maW5pdHkiLCJpaSIsIm9uQmVmb3JlTmV4dCIsImV4cGFuZCIsImlubmVyU3ViU2NoZWR1bGVyIiwiYWRkaXRpb25hbFRlYXJkb3duIiwiYnVmZmVyIiwiYWN0aXZlIiwiaXNDb21wbGV0ZSIsImNoZWNrQ29tcGxldGUiLCJvdXRlck5leHQiLCJkb0lubmVyU3ViIiwiaW5uZXJDb21wbGV0ZSIsImlubmVyVmFsdWUiLCJidWZmZXJlZFZhbHVlIiwibWVyZ2VJbnRlcm5hbHMiLCJtYXBPbmVPck1hbnlBcmdzIiwiY2FsbE9yQXBwbHkiLCJub2RlRXZlbnRFbWl0dGVyTWV0aG9kcyIsImV2ZW50VGFyZ2V0TWV0aG9kcyIsImpxdWVyeU1ldGhvZHMiLCJmcm9tRXZlbnQiLCJ0YXJnZXQiLCJldmVudE5hbWUiLCJvcHRpb25zIiwiYWRkRXZlbnRMaXN0ZW5lciIsInJlbW92ZUV2ZW50TGlzdGVuZXIiLCJpc0V2ZW50VGFyZ2V0IiwibWV0aG9kTmFtZSIsImFkZExpc3RlbmVyIiwicmVtb3ZlTGlzdGVuZXIiLCJpc05vZGVTdHlsZUV2ZW50RW1pdHRlciIsInRvQ29tbW9uSGFuZGxlclJlZ2lzdHJ5Iiwib24iLCJvZmYiLCJpc0pRdWVyeVN0eWxlRXZlbnRFbWl0dGVyIiwic3ViVGFyZ2V0Iiwic3dpdGNoTWFwIiwiaW5uZXJTdWJzY3JpYmVyIiwiaW5uZXJJbmRleCIsIm91dGVySW5kZXgiLCJnZXRQcm90b3R5cGVPZiIsIm9iamVjdFByb3RvIiwiZ2V0S2V5cyIsImtleXMiLCJhcmdzQXJnQXJyYXlPck9iamVjdCIsImZpcnN0XzEiLCJrZXkiLCJjcmVhdGVPYmplY3QiLCJ2YWx1ZXMiLCJjb21iaW5lTGF0ZXN0SW5pdCIsIm9ic2VydmFibGVzIiwidmFsdWVUcmFuc2Zvcm0iLCJtYXliZVNjaGVkdWxlIiwicmVtYWluaW5nRmlyc3RWYWx1ZXMiLCJfbG9vcF8xIiwiaGFzRmlyc3RWYWx1ZSIsInNsaWNlIiwiQWN0aW9uIiwid29yayIsInN0YXRlIiwiaW50ZXJ2YWxQcm92aWRlciIsInNldEludGVydmFsIiwiY2xlYXJJbnRlcnZhbCIsIkFzeW5jQWN0aW9uIiwicGVuZGluZyIsImlkIiwicmVjeWNsZUFzeW5jSWQiLCJyZXF1ZXN0QXN5bmNJZCIsIl9pZCIsImZsdXNoIiwiX3NjaGVkdWxlciIsIl9leGVjdXRlIiwiX2RlbGF5IiwiZXJyb3JWYWx1ZSIsImVycm9yZWQiLCJhY3Rpb25zIiwiZGF0ZVRpbWVzdGFtcFByb3ZpZGVyIiwibm93IiwiRGF0ZSIsIlNjaGVkdWxlciIsInNjaGVkdWxlckFjdGlvbkN0b3IiLCJhc3luY1NjaGVkdWxlciIsIkFzeW5jU2NoZWR1bGVyIiwiU2NoZWR1bGVyQWN0aW9uIiwiX2FjdGl2ZSIsIl9zY2hlZHVsZWQiLCJhY3Rpb24iLCJjYXJkQ29sbGVjdGlvbkNvbnRyb2xsZXIiLCJsb2FkRGJtc0NhcmQiLCJyYW5kb21DYXJkT3JkZXIiLCJjYXJkQ29sbGVjdGlvbk9ic2VydmFibGUiLCJnZXRBbGxDYXJkc09ic2VydmFibGVGcm9tSnNvblNlcnZlciIsImNhcmRzIiwicmFuZG9tT3JkZXJTb3J0ZXIiLCJzZWFyY2hlZCIsInR5cGUiLCJ0b0xvd2VyQ2FzZSIsImZldGNoQXBpIiwiZmV0Y2giLCJBUElfVVJMIiwicmVzcG9uc2UiLCJvayIsImpzb24iLCJjb25zb2xlIiwibG9nIiwiZGVsZXRlQ2FyZCIsImNhcmQiLCJvYnNDYXJkIiwiZmlsdGVyIiwic2luZ2xlT2JzY2FyZCIsImNoZWNrQ2FyZEF0dHJpYnV0ZUZvclNlYXJjaCIsImNhdGVnb3J5IiwiYXR0YWNrIiwiZGVmZmVuc2UiLCJ0aXRsZSIsInN0YXJzIiwic2VhcmNoIiwic2VhcmNoZWRWYWx1ZSIsInNlYXJjaE9ic2VydmFibGUiLCJjb21iaW5lTGF0ZXN0IiwiY29tYm9Cb3hPYnNlcnZhYmxlIiwia2V5Ym9hcmRJbnB1T2JzZXJ2YWJsZSIsImdldENhcmRDb2xsZWN0aW9uU3RyZWFtIiwicGVyaW9kIiwiZHVlVGltZSIsImludGVydmFsT3JTY2hlZHVsZXIiLCJpbnRlcnZhbER1cmF0aW9uIiwiZHVlIiwiaXNOYU4iLCJ0aW1lciIsImVtaXQiLCJzb3J0IiwicmFuZG9tT3JkZXJQcm9taXNlR2VuZXJhdG9yIiwicmFuZG9tRWxlbWVudE9yZGVyIiwiY291bnQiLCJleGlzdHMiLCJyYW5kb20iLCJNYXRoIiwicm91bmQiLCJlbCIsImluZWR4IiwicmFkbm9tT3JkZXJTb3J0ZXJUZXN0IiwidGVtcENhcmRzIiwiY29tYm9Cb3giLCJkb2N1bWVudCIsImdldEVsZW1lbnRzQnlDbGFzc05hbWUiLCJzb3J0QnV0dG9uUHJlc3MiLCJzb3J0QnV0dG9uIiwiY2FyZENvbGxlY3Rpb24iLCJ0ZXN0Q2FyZHMiLCJkcmF3TGlzdCIsImdldEVsZW1lbnRCeUlkIiwiaW5uZXJIVE1MIiwidGVzdFN1YnNjcmlwdGlvbiIsImFkZEl0ZW0iLCJ0ZXN0U29ydEJ1dHRvbiIsInNvdXJjZXMiLCJidWZmZXJzIiwiY29tcGxldGVkIiwic291cmNlSW5kZXgiLCJldmVyeSIsInNvbWUiLCJ6aXAiLCJuZXdDYXJkcyIsIm1haW5DYXJkRGl2IiwiY3JlYXRlRWxlbWVudCIsImNsYXNzTmFtZSIsImFwcGVuZENoaWxkIiwiY2FyZERpdiIsImNhcmRJTUciLCJzcmMiLCJpbWdQYXRoIiwiY2FyZEluZm9EaXYiLCJsYWJlbE5hbWUiLCJsYWJlbEx2bCIsImxhYmVsRGVzYyIsImF0dHJpYnV0ZSIsImxhYmVsQXR0YWNrRGVmZmVucyIsImNhcmRCdXR0b25EaXYiLCJjYXJkRGVsZXRlQnV0dG9uIiwib25jbGljayIsImRpdkNsaWNrZWQiLCJkZWxldGVDbGlja2VkIiwiY2FyZERldGFpbERpdiIsImNhcmREZXRhaWxJbWFnZSIsImNsZWFyQ2FyZExpc3REaXYiXSwibWFwcGluZ3MiOiI7bUJBZ0JBLElBQUlBLEVBQWdCLFNBQVNDLEVBQUdDLEdBSTVCLE9BSEFGLEVBQWdCRyxPQUFPQyxnQkFDbEIsQ0FBRUMsVUFBVyxjQUFn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LFVBQzlDYyxFQUFpQmIsVUFBWSxtQkFDN0JhLEVBQWlCM0IsVUFBWSxTQUM3QlksRUFBWUcsWUFBWVksR0FDeEJYLEVBQVFZLFFBQVUsS0FDZHJhLEtBQUtzYSxXQUFXM0UsSUFFcEJ5RSxFQUFpQkMsUUFBVSxLQUN2QnJhLEtBQUt1YSxjQUFjNUUsSUFHM0IyRSxXQUFXM0UsR0FDUEgsUUFBUUMsSUFBSUUsRUFBS1EsTUFBUSxZQUN6QjhCLFNBQVNPLGVBQWUsY0FBY0MsVUFBWSxHQUNsRCxJQUFJK0IsRUFBZ0J2QyxTQUFTcUIsY0FBYyxPQUMzQ2tCLEVBQWNqQixVQUFZLGdCQUMxQnRCLFNBQVNPLGVBQWUsY0FBY2dCLFlBQVlnQixHQUNsRCxJQUFJQyxFQUFrQnhDLFNBQVNxQixjQUFjLE9BQzdDbUIsRUFBZ0JkLElBQU1oRSxFQUFLaUUsUUFDM0JZLEVBQWNoQixZQUFZaUIsR0FFOUJGLGNBQWM1RSxHQUNWM1YsS0FBS3FZLGVBQWUxRCx5QkFDaEIzVSxLQUFLcVksZUFBZTNDLFdBQVdDLEdBQ25DM1YsS0FBS3VZLFdBRVRtQyxtQkFDSXpDLFNBQVNPLGVBQWUsVUFBVUMsVUFBWSxLQ25GdERKLEdBQWVFLFdBQ2ROLFNBQVNDLHVCQUF1Qix1QkFBdUIsR0FBSW1DLFFBQVUsS0FDbEVoQyxHQUFlQSxlQUFlNUQsZUFDOUI0RCxHQUFlRSxhIiwiZmlsZSI6ImJ1bmRsZS5qcyIsInNvdXJjZXNDb250ZW50IjpbIi8qISAqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKlxyXG5Db3B5cmlnaHQgKGMpIE1pY3Jvc29mdCBDb3Jwb3JhdGlvbi5cclxuXHJcblBlcm1pc3Npb24gdG8gdXNlLCBjb3B5LCBtb2RpZnksIGFuZC9vciBkaXN0cmlidXRlIHRoaXMgc29mdHdhcmUgZm9yIGFueVxyXG5wdXJwb3NlIHdpdGggb3Igd2l0aG91dCBmZWUgaXMgaGVyZWJ5IGdyYW50ZWQuXHJcblxyXG5USEUgU09GVFdBUkUgSVMgUFJPVklERUQgXCJBUyBJU1wiIEFORCBUSEUgQVVUSE9SIERJU0NMQUlNUyBBTEwgV0FSUkFOVElFUyBXSVRIXHJcblJFR0FSRCBUTyBUSElTIFNPRlRXQVJFIElOQ0xVRElORyBBTEwgSU1QTElFRCBXQVJSQU5USUVTIE9GIE1FUkNIQU5UQUJJTElUWVxyXG5BTkQgRklUTkVTUy4gSU4gTk8gRVZFTlQgU0hBTEwgVEhFIEFVVEhPUiBCRSBMSUFCTEUgRk9SIEFOWSBTUEVDSUFMLCBESVJFQ1QsXHJcbklORElSRUNULCBPUiBDT05TRVFVRU5USUFMIERBTUFHRVMgT1IgQU5ZIERBTUFHRVMgV0hBVFNPRVZFUiBSRVNVTFRJTkcgRlJPTVxyXG5MT1NTIE9GIFVTRSwgREFUQSBPUiBQUk9GSVRTLCBXSEVUSEVSIElOIEFOIEFDVElPTiBPRiBDT05UUkFDVCwgTkVHTElHRU5DRSBPUlxyXG5PVEhFUiBUT1JUSU9VUyBBQ1RJT04sIEFSSVNJTkcgT1VUIE9GIE9SIElOIENPTk5FQ1RJT04gV0lUSCBUSEUgVVNFIE9SXHJcblBFUkZPUk1BTkNFIE9GIFRISVMgU09GVFdBUkUuXHJcbioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqICovXHJcbi8qIGdsb2JhbCBSZWZsZWN0LCBQcm9taXNlICovXHJcblxyXG52YXIgZXh0ZW5kU3RhdGljcyA9IGZ1bmN0aW9uKGQsIGIpIHtcclxuICAgIGV4dGVuZFN0YXRpY3MgPSBPYmplY3Quc2V0UHJvdG90eXBlT2YgfHxcclxuICAgICAgICAoeyBfX3Byb3RvX186IFtdIH0gaW5zdGFuY2VvZiBBcnJheSAmJiBmdW5jdGlvbiAoZCwgYikgeyBkLl9fcHJvdG9fXyA9IGI7IH0pIHx8XHJcbiAgICAgICAgZnVuY3Rpb24gKGQsIGIpIHsgZm9yICh2YXIgcCBpbiBiKSBpZiAoT2JqZWN0LnByb3RvdHlwZS5oYXNPd25Qcm9wZXJ0eS5jYWxsKGIsIHApKSBkW3BdID0gYltwXTsgfTtcclxuICAgIHJldHVybiBleHRlbmRTdGF0aWNzKGQsIGIpO1xyXG59O1xyXG5cclxuZXhwb3J0IGZ1bmN0aW9uIF9fZXh0ZW5kcyhkLCBiKSB7XHJcbiAgICBpZiAodHlwZW9mIGIgIT09IFwiZnVuY3Rpb25cIiAmJiBiICE9PSBudWxsKVxyXG4gICAgICAgIHRocm93IG5ldyBUeXBlRXJyb3IoXCJDbGFzcyBleHRlbmRzIHZhbHVlIFwiICsgU3RyaW5nKGIpICsgXCIgaXMgbm90IGEgY29uc3RydWN0b3Igb3IgbnVsbFwiKTtcclxuICAgIGV4dGVuZFN0YXRpY3MoZCwgYik7XHJcbiAgICBmdW5jdGlvbiBfXygpIHsgdGhpcy5jb25zdHJ1Y3RvciA9IGQ7IH1cclxuICAgIGQucHJvdG90eXBlID0gYiA9PT0gbnVsbCA/IE9iamVjdC5jcmVhdGUoYikgOiAoX18ucHJvdG90eXBlID0gYi5wcm90b3R5cGUsIG5ldyBfXygpKTtcclxufVxyXG5cclxuZXhwb3J0IHZhciBfX2Fzc2lnbiA9IGZ1bmN0aW9uKCkge1xyXG4gICAgX19hc3NpZ24gPSBPYmplY3QuYXNzaWduIHx8IGZ1bmN0aW9uIF9fYXNzaWduKHQpIHtcclxuICAgICAgICBmb3IgKHZhciBzLCBpID0gMSwgbiA9IGFyZ3VtZW50cy5sZW5ndGg7IGkgPCBuOyBpKyspIHtcclxuICAgICAgICAgICAgcyA9IGFyZ3VtZW50c1tpXTtcclxuICAgICAgICAgICAgZm9yICh2YXIgcCBpbiBzKSBpZiAoT2JqZWN0LnByb3RvdHlwZS5oYXNPd25Qcm9wZXJ0eS5jYWxsKHMsIHApKSB0W3BdID0gc1twXTtcclxuICAgICAgICB9XHJcbiAgICAgICAgcmV0dXJuIHQ7XHJcbiAgICB9XHJcbiAgICByZXR1cm4gX19hc3NpZ24uYXBwbHkodGhpcywgYXJndW1lbnRzKTtcclxufVxyXG5cclxuZXhwb3J0IGZ1bmN0aW9uIF9fcmVzdChzLCBlKSB7XHJcbiAgICB2YXIgdCA9IHt9O1xyXG4gICAgZm9yICh2YXIgcCBpbiBzKSBpZiAoT2JqZWN0LnByb3RvdHlwZS5oYXNPd25Qcm9wZXJ0eS5jYWxsKHMsIHApICYmIGUuaW5kZXhPZihwKSA8IDApXHJcbiAgICAgICAgdFtwXSA9IHNbcF07XHJcbiAgICBpZiAocyAhPSBudWxsICYmIHR5cGVvZiBPYmplY3QuZ2V0T3duUHJvcGVydHlTeW1ib2xzID09PSBcImZ1bmN0aW9uXCIpXHJcbiAgICAgICAgZm9yICh2YXIgaSA9IDAsIHAgPSBPYmplY3QuZ2V0T3duUHJvcGVydHlTeW1ib2xzKHMpOyBpIDwgcC5sZW5ndGg7IGkrKykge1xyXG4gICAgICAgICAgICBpZiAoZS5pbmRleE9mKHBbaV0pIDwgMCAmJiBPYmplY3QucHJvdG90eXBlLnByb3BlcnR5SXNFbnVtZXJhYmxlLmNhbGwocywgcFtpXSkpXHJcbiAgICAgICAgICAgICAgICB0W3BbaV1dID0gc1twW2ldXTtcclxuICAgICAgICB9XHJcbiAgICByZXR1cm4gdDtcclxufVxyXG5cclxuZXhwb3J0IGZ1bmN0aW9uIF9fZGVjb3JhdGUoZGVjb3JhdG9ycywgdGFyZ2V0LCBrZXksIGRlc2MpIHtcclxuICAgIHZhciBjID0gYXJndW1lbnRzLmxlbmd0aCwgciA9IGMgPCAzID8gdGFyZ2V0IDogZGVzYyA9PT0gbnVsbCA/IGRlc2MgPSBPYmplY3QuZ2V0T3duUHJvcGVydHlEZXNjcmlwdG9yKHRhcmdldCwga2V5KSA6IGRlc2MsIGQ7XHJcbiAgICBpZiAodHlwZW9mIFJlZmxlY3QgPT09IFwib2JqZWN0XCIgJiYgdHlwZW9mIFJlZmxlY3QuZGVjb3JhdGUgPT09IFwiZnVuY3Rpb25cIikgciA9IFJlZmxlY3QuZGVjb3JhdGUoZGVjb3JhdG9ycywgdGFyZ2V0LCBrZXksIGRlc2MpO1xyXG4gICAgZWxzZSBmb3IgKHZhciBpID0gZGVjb3JhdG9ycy5sZW5ndGggLSAxOyBpID49IDA7IGktLSkgaWYgKGQgPSBkZWNvcmF0b3JzW2ldKSByID0gKGMgPCAzID8gZChyKSA6IGMgPiAzID8gZCh0YXJnZXQsIGtleSwgcikgOiBkKHRhcmdldCwga2V5KSkgfHwgcjtcclxuICAgIHJldHVybiBjID4gMyAmJiByICYmIE9iamVjdC5kZWZpbmVQcm9wZXJ0eSh0YXJnZXQsIGtleSwgciksIHI7XHJcbn1cclxuXHJcbmV4cG9ydCBmdW5jdGlvbiBfX3BhcmFtKHBhcmFtSW5kZXgsIGRlY29yYXRvcikge1xyXG4gICAgcmV0dXJuIGZ1bmN0aW9uICh0YXJnZXQsIGtleSkgeyBkZWNvcmF0b3IodGFyZ2V0LCBrZXksIHBhcmFtSW5kZXgpOyB9XHJcbn1cclxuXHJcbmV4cG9ydCBmdW5jdGlvbiBfX21ldGFkYXRhKG1ldGFkYXRhS2V5LCBtZXRhZGF0YVZhbHVlKSB7XHJcbiAgICBpZiAodHlwZW9mIFJlZmxlY3QgPT09IFwib2JqZWN0XCIgJiYgdHlwZW9mIFJlZmxlY3QubWV0YWRhdGEgPT09IFwiZnVuY3Rpb25cIikgcmV0dXJuIFJlZmxlY3QubWV0YWRhdGEobWV0YWRhdGFLZXksIG1ldGFkYXRhVmFsdWUpO1xyXG59XHJcblxyXG5leHBvcnQgZnVuY3Rpb24gX19hd2FpdGVyKHRoaXNBcmcsIF9hcmd1bWVudHMsIFAsIGdlbmVyYXRvcikge1xyXG4gICAgZnVuY3Rpb24gYWRvcHQodmFsdWUpIHsgcmV0dXJuIHZhbHVlIGluc3RhbmNlb2YgUCA/IHZhbHVlIDogbmV3IFAoZnVuY3Rpb24gKHJlc29sdmUpIHsgcmVzb2x2ZSh2YWx1ZSk7IH0pOyB9XHJcbiAgICByZXR1cm4gbmV3IChQIHx8IChQID0gUHJvbWlzZSkpKGZ1bmN0aW9uIChyZXNvbHZlLCByZWplY3QpIHtcclxuICAgICAgICBmdW5jdGlvbiBmdWxmaWxsZWQodmFsdWUpIHsgdHJ5IHsgc3RlcChnZW5lcmF0b3IubmV4dCh2YWx1ZSkpOyB9IGNhdGNoIChlKSB7IHJlamVjdChlKTsgfSB9XHJcbiAgICAgICAgZnVuY3Rpb24gcmVqZWN0ZWQodmFsdWUpIHsgdHJ5IHsgc3RlcChnZW5lcmF0b3JbXCJ0aHJvd1wiXSh2YWx1ZSkpOyB9IGNhdGNoIChlKSB7IHJlamVjdChlKTsgfSB9XHJcbiAgICAgICAgZnVuY3Rpb24gc3RlcChyZXN1bHQpIHsgcmVzdWx0LmRvbmUgPyByZXNvbHZlKHJlc3VsdC52YWx1ZSkgOiBhZG9wdChyZXN1bHQudmFsdWUpLnRoZW4oZnVsZmlsbGVkLCByZWplY3RlZCk7IH1cclxuICAgICAgICBzdGVwKChnZW5lcmF0b3IgPSBnZW5lcmF0b3IuYXBwbHkodGhpc0FyZywgX2FyZ3VtZW50cyB8fCBbXSkpLm5leHQoKSk7XHJcbiAgICB9KTtcclxufVxyXG5cclxuZXhwb3J0IGZ1bmN0aW9uIF9fZ2VuZXJhdG9yKHRoaXNBcmcsIGJvZHkpIHtcclxuICAgIHZhciBfID0geyBsYWJlbDogMCwgc2VudDogZnVuY3Rpb24oKSB7IGlmICh0WzBdICYgMSkgdGhyb3cgdFsxXTsgcmV0dXJuIHRbMV07IH0sIHRyeXM6IFtdLCBvcHM6IFtdIH0sIGYsIHksIHQsIGc7XHJcbiAgICByZXR1cm4gZyA9IHsgbmV4dDogdmVyYigwKSwgXCJ0aHJvd1wiOiB2ZXJiKDEpLCBcInJldHVyblwiOiB2ZXJiKDIpIH0sIHR5cGVvZiBTeW1ib2wgPT09IFwiZnVuY3Rpb25cIiAmJiAoZ1tTeW1ib2wuaXRlcmF0b3JdID0gZnVuY3Rpb24oKSB7IHJldHVybiB0aGlzOyB9KSwgZztcclxuICAgIGZ1bmN0aW9uIHZlcmIobikgeyByZXR1cm4gZnVuY3Rpb24gKHYpIHsgcmV0dXJuIHN0ZXAoW24sIHZdKTsgfTsgfVxyXG4gICAgZnVuY3Rpb24gc3RlcChvcCkge1xyXG4gICAgICAgIGlmIChmKSB0aHJvdyBuZXcgVHlwZUVycm9yKFwiR2VuZXJhdG9yIGlzIGFscmVhZHkgZXhlY3V0aW5nLlwiKTtcclxuICAgICAgICB3aGlsZSAoXykgdHJ5IHtcclxuICAgICAgICAgICAgaWYgKGYgPSAxLCB5ICYmICh0ID0gb3BbMF0gJiAyID8geVtcInJldHVyblwiXSA6IG9wWzBdID8geVtcInRocm93XCJdIHx8ICgodCA9IHlbXCJyZXR1cm5cIl0pICYmIHQuY2FsbCh5KSwgMCkgOiB5Lm5leHQpICYmICEodCA9IHQuY2FsbCh5LCBvcFsxXSkpLmRvbmUpIHJldHVybiB0O1xyXG4gICAgICAgICAgICBpZiAoeSA9IDAsIHQpIG9wID0gW29wWzBdICYgMiwgdC52YWx1ZV07XHJcbiAgICAgICAgICAgIHN3aXRjaCAob3BbMF0pIHtcclxuICAgICAgICAgICAgICAgIGNhc2UgMDogY2FzZSAxOiB0ID0gb3A7IGJyZWFrO1xyXG4gICAgICAgICAgICAgICAgY2FzZSA0OiBfLmxhYmVsKys7IHJldHVybiB7IHZhbHVlOiBvcFsxXSwgZG9uZTogZmFsc2UgfTtcclxuICAgICAgICAgICAgICAgIGNhc2UgNTogXy5sYWJlbCsrOyB5ID0gb3BbMV07IG9wID0gWzBdOyBjb250aW51ZTtcclxuICAgICAgICAgICAgICAgIGNhc2UgNzogb3AgPSBfLm9wcy5wb3AoKTsgXy50cnlzLnBvcCgpOyBjb250aW51ZTtcclxuICAgICAgICAgICAgICAgIGRlZmF1bHQ6XHJcbiAgICAgICAgICAgICAgICAgICAgaWYgKCEodCA9IF8udHJ5cywgdCA9IHQubGVuZ3RoID4gMCAmJiB0W3QubGVuZ3RoIC0gMV0pICYmIChvcFswXSA9PT0gNiB8fCBvcFswXSA9PT0gMikpIHsgXyA9IDA7IGNvbnRpbnVlOyB9XHJcbiAgICAgICAgICAgICAgICAgICAgaWYgKG9wWzBdID09PSAzICYmICghdCB8fCAob3BbMV0gPiB0WzBdICYmIG9wWzFdIDwgdFszXSkpKSB7IF8ubGFiZWwgPSBvcFsxXTsgYnJlYWs7IH1cclxuICAgICAgICAgICAgICAgICAgICBpZiAob3BbMF0gPT09IDYgJiYgXy5sYWJlbCA8IHRbMV0pIHsgXy5sYWJlbCA9IHRbMV07IHQgPSBvcDsgYnJlYWs7IH1cclxuICAgICAgICAgICAgICAgICAgICBpZiAodCAmJiBfLmxhYmVsIDwgdFsyXSkgeyBfLmxhYmVsID0gdFsyXTsgXy5vcHMucHVzaChvcCk7IGJyZWFrOyB9XHJcbiAgICAgICAgICAgICAgICAgICAgaWYgKHRbMl0pIF8ub3BzLnBvcCgpO1xyXG4gICAgICAgICAgICAgICAgICAgIF8udHJ5cy5wb3AoKTsgY29udGludWU7XHJcbiAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgb3AgPSBib2R5LmNhbGwodGhpc0FyZywgXyk7XHJcbiAgICAgICAgfSBjYXRjaCAoZSkgeyBvcCA9IFs2LCBlXTsgeSA9IDA7IH0gZmluYWxseSB7IGYgPSB0ID0gMDsgfVxyXG4gICAgICAgIGlmIChvcFswXSAmIDUpIHRocm93IG9wWzFdOyByZXR1cm4geyB2YWx1ZTogb3BbMF0gPyBvcFsxXSA6IHZvaWQgMCwgZG9uZTogdHJ1ZSB9O1xyXG4gICAgfVxyXG59XHJcblxyXG5leHBvcnQgdmFyIF9fY3JlYXRlQmluZGluZyA9IE9iamVjdC5jcmVhdGUgPyAoZnVuY3Rpb24obywgbSwgaywgazIpIHtcclxuICAgIGlmIChrMiA9PT0gdW5kZWZpbmVkKSBrMiA9IGs7XHJcbiAgICBPYmplY3QuZGVmaW5lUHJvcGVydHkobywgazIsIHsgZW51bWVyYWJsZTogdHJ1ZSwgZ2V0OiBmdW5jdGlvbigpIHsgcmV0dXJuIG1ba107IH0gfSk7XHJcbn0pIDogKGZ1bmN0aW9uKG8sIG0sIGssIGsyKSB7XHJcbiAgICBpZiAoazIgPT09IHVuZGVmaW5lZCkgazIgPSBrO1xyXG4gICAgb1trMl0gPSBtW2tdO1xyXG59KTtcclxuXHJcbmV4cG9ydCBmdW5jdGlvbiBfX2V4cG9ydFN0YXIobSwgbykge1xyXG4gICAgZm9yICh2YXIgcCBpbiBtKSBpZiAocCAhPT0gXCJkZWZhdWx0XCIgJiYgIU9iamVjdC5wcm90b3R5cGUuaGFzT3duUHJvcGVydHkuY2FsbChvLCBwKSkgX19jcmVhdGVCaW5kaW5nKG8sIG0sIHApO1xyXG59XHJcblxyXG5leHBvcnQgZnVuY3Rpb24gX192YWx1ZXMobykge1xyXG4gICAgdmFyIHMgPSB0eXBlb2YgU3ltYm9sID09PSBcImZ1bmN0aW9uXCIgJiYgU3ltYm9sLml0ZXJhdG9yLCBtID0gcyAmJiBvW3NdLCBpID0gMDtcclxuICAgIGlmIChtKSByZXR1cm4gbS5jYWxsKG8pO1xyXG4gICAgaWYgKG8gJiYgdHlwZW9mIG8ubGVuZ3RoID09PSBcIm51bWJlclwiKSByZXR1cm4ge1xyXG4gICAgICAgIG5leHQ6IGZ1bmN0aW9uICgpIHtcclxuICAgICAgICAgICAgaWYgKG8gJiYgaSA+PSBvLmxlbmd0aCkgbyA9IHZvaWQgMDtcclxuICAgICAgICAgICAgcmV0dXJuIHsgdmFsdWU6IG8gJiYgb1tpKytdLCBkb25lOiAhbyB9O1xyXG4gICAgICAgIH1cclxuICAgIH07XHJcbiAgICB0aHJvdyBuZXcgVHlwZUVycm9yKHMgPyBcIk9iamVjdCBpcyBub3QgaXRlcmFibGUuXCIgOiBcIlN5bWJvbC5pdGVyYXRvciBpcyBub3QgZGVmaW5lZC5cIik7XHJcbn1cclxuXHJcbmV4cG9ydCBmdW5jdGlvbiBfX3JlYWQobywgbikge1xyXG4gICAgdmFyIG0gPSB0eXBlb2YgU3ltYm9sID09PSBcImZ1bmN0aW9uXCIgJiYgb1tTeW1ib2wuaXRlcmF0b3JdO1xyXG4gICAgaWYgKCFtKSByZXR1cm4gbztcclxuICAgIHZhciBpID0gbS5jYWxsKG8pLCByLCBhciA9IFtdLCBlO1xyXG4gICAgdHJ5IHtcclxuICAgICAgICB3aGlsZSAoKG4gPT09IHZvaWQgMCB8fCBuLS0gPiAwKSAmJiAhKHIgPSBpLm5leHQoKSkuZG9uZSkgYXIucHVzaChyLnZhbHVlKTtcclxuICAgIH1cclxuICAgIGNhdGNoIChlcnJvcikgeyBlID0geyBlcnJvcjogZXJyb3IgfTsgfVxyXG4gICAgZmluYWxseSB7XHJcbiAgICAgICAgdHJ5IHtcclxuICAgICAgICAgICAgaWYgKHIgJiYgIXIuZG9uZSAmJiAobSA9IGlbXCJyZXR1cm5cIl0pKSBtLmNhbGwoaSk7XHJcbiAgICAgICAgfVxyXG4gICAgICAgIGZpbmFsbHkgeyBpZiAoZSkgdGhyb3cgZS5lcnJvcjsgfVxyXG4gICAgfVxyXG4gICAgcmV0dXJuIGFyO1xyXG59XHJcblxyXG4vKiogQGRlcHJlY2F0ZWQgKi9cclxuZXhwb3J0IGZ1bmN0aW9uIF9fc3ByZWFkKCkge1xyXG4gICAgZm9yICh2YXIgYXIgPSBbXSwgaSA9IDA7IGkgPCBhcmd1bWVudHMubGVuZ3RoOyBpKyspXHJcbiAgICAgICAgYXIgPSBhci5jb25jYXQoX19yZWFkKGFyZ3VtZW50c1tpXSkpO1xyXG4gICAgcmV0dXJuIGFyO1xyXG59XHJcblxyXG4vKiogQGRlcHJlY2F0ZWQgKi9cclxuZXhwb3J0IGZ1bmN0aW9uIF9fc3ByZWFkQXJyYXlzKCkge1xyXG4gICAgZm9yICh2YXIgcyA9IDAsIGkgPSAwLCBpbCA9IGFyZ3VtZW50cy5sZW5ndGg7IGkgPCBpbDsgaSsrKSBzICs9IGFyZ3VtZW50c1tpXS5sZW5ndGg7XHJcbiAgICBmb3IgKHZhciByID0gQXJyYXkocyksIGsgPSAwLCBpID0gMDsgaSA8IGlsOyBpKyspXHJcbiAgICAgICAgZm9yICh2YXIgYSA9IGFyZ3VtZW50c1tpXSwgaiA9IDAsIGpsID0gYS5sZW5ndGg7IGogPCBqbDsgaisrLCBrKyspXHJcbiAgICAgICAgICAgIHJba10gPSBhW2pdO1xyXG4gICAgcmV0dXJuIHI7XHJcbn1cclxuXHJcbmV4cG9ydCBmdW5jdGlvbiBfX3NwcmVhZEFycmF5KHRvLCBmcm9tKSB7XHJcbiAgICBmb3IgKHZhciBpID0gMCwgaWwgPSBmcm9tLmxlbmd0aCwgaiA9IHRvLmxlbmd0aDsgaSA8IGlsOyBpKyssIGorKylcclxuICAgICAgICB0b1tqXSA9IGZyb21baV07XHJcbiAgICByZXR1cm4gdG87XHJcbn1cclxuXHJcbmV4cG9ydCBmdW5jdGlvbiBfX2F3YWl0KHYpIHtcclxuICAgIHJldHVybiB0aGlzIGluc3RhbmNlb2YgX19hd2FpdCA/ICh0aGlzLnYgPSB2LCB0aGlzKSA6IG5ldyBfX2F3YWl0KHYpO1xyXG59XHJcblxyXG5leHBvcnQgZnVuY3Rpb24gX19hc3luY0dlbmVyYXRvcih0aGlzQXJnLCBfYXJndW1lbnRzLCBnZW5lcmF0b3IpIHtcclxuICAgIGlmICghU3ltYm9sLmFzeW5jSXRlcmF0b3IpIHRocm93IG5ldyBUeXBlRXJyb3IoXCJTeW1ib2wuYXN5bmNJdGVyYXRvciBpcyBub3QgZGVmaW5lZC5cIik7XHJcbiAgICB2YXIgZyA9IGdlbmVyYXRvci5hcHBseSh0aGlzQXJnLCBfYXJndW1lbnRzIHx8IFtdKSwgaSwgcSA9IFtdO1xyXG4gICAgcmV0dXJuIGkgPSB7fSwgdmVyYihcIm5leHRcIiksIHZlcmIoXCJ0aHJvd1wiKSwgdmVyYihcInJldHVyblwiKSwgaVtTeW1ib2wuYXN5bmNJdGVyYXRvcl0gPSBmdW5jdGlvbiAoKSB7IHJldHVybiB0aGlzOyB9LCBpO1xyXG4gICAgZnVuY3Rpb24gdmVyYihuKSB7IGlmIChnW25dKSBpW25dID0gZnVuY3Rpb24gKHYpIHsgcmV0dXJuIG5ldyBQcm9taXNlKGZ1bmN0aW9uIChhLCBiKSB7IHEucHVzaChbbiwgdiwgYSwgYl0pID4gMSB8fCByZXN1bWUobiwgdik7IH0pOyB9OyB9XHJcbiAgICBmdW5jdGlvbiByZXN1bWUobiwgdikgeyB0cnkgeyBzdGVwKGdbbl0odikpOyB9IGNhdGNoIChlKSB7IHNldHRsZShxWzBdWzNdLCBlKTsgfSB9XHJcbiAgICBmdW5jdGlvbiBzdGVwKHIpIHsgci52YWx1ZSBpbnN0YW5jZW9mIF9fYXdhaXQgPyBQcm9taXNlLnJlc29sdmUoci52YWx1ZS52KS50aGVuKGZ1bGZpbGwsIHJlamVjdCkgOiBzZXR0bGUocVswXVsyXSwgcik7IH1cclxuICAgIGZ1bmN0aW9uIGZ1bGZpbGwodmFsdWUpIHsgcmVzdW1lKFwibmV4dFwiLCB2YWx1ZSk7IH1cclxuICAgIGZ1bmN0aW9uIHJlamVjdCh2YWx1ZSkgeyByZXN1bWUoXCJ0aHJvd1wiLCB2YWx1ZSk7IH1cclxuICAgIGZ1bmN0aW9uIHNldHRsZShmLCB2KSB7IGlmIChmKHYpLCBxLnNoaWZ0KCksIHEubGVuZ3RoKSByZXN1bWUocVswXVswXSwgcVswXVsxXSk7IH1cclxufVxyXG5cclxuZXhwb3J0IGZ1bmN0aW9uIF9fYXN5bmNEZWxlZ2F0b3Iobykge1xyXG4gICAgdmFyIGksIHA7XHJcbiAgICByZXR1cm4gaSA9IHt9LCB2ZXJiKFwibmV4dFwiKSwgdmVyYihcInRocm93XCIsIGZ1bmN0aW9uIChlKSB7IHRocm93IGU7IH0pLCB2ZXJiKFwicmV0dXJuXCIpLCBpW1N5bWJvbC5pdGVyYXRvcl0gPSBmdW5jdGlvbiAoKSB7IHJldHVybiB0aGlzOyB9LCBpO1xyXG4gICAgZnVuY3Rpb24gdmVyYihuLCBmKSB7IGlbbl0gPSBvW25dID8gZnVuY3Rpb24gKHYpIHsgcmV0dXJuIChwID0gIXApID8geyB2YWx1ZTogX19hd2FpdChvW25dKHYpKSwgZG9uZTogbiA9PT0gXCJyZXR1cm5cIiB9IDogZiA/IGYodikgOiB2OyB9IDogZjsgfVxyXG59XHJcblxyXG5leHBvcnQgZnVuY3Rpb24gX19hc3luY1ZhbHVlcyhvKSB7XHJcbiAgICBpZiAoIVN5bWJvbC5hc3luY0l0ZXJhdG9yKSB0aHJvdyBuZXcgVHlwZUVycm9yKFwiU3ltYm9sLmFzeW5jSXRlcmF0b3IgaXMgbm90IGRlZmluZWQuXCIpO1xyXG4gICAgdmFyIG0gPSBvW1N5bWJvbC5hc3luY0l0ZXJhdG9yXSwgaTtcclxuICAgIHJldHVybiBtID8gbS5jYWxsKG8pIDogKG8gPSB0eXBlb2YgX192YWx1ZXMgPT09IFwiZnVuY3Rpb25cIiA/IF9fdmFsdWVzKG8pIDogb1tTeW1ib2wuaXRlcmF0b3JdKCksIGkgPSB7fSwgdmVyYihcIm5leHRcIiksIHZlcmIoXCJ0aHJvd1wiKSwgdmVyYihcInJldHVyblwiKSwgaVtTeW1ib2wuYXN5bmNJdGVyYXRvcl0gPSBmdW5jdGlvbiAoKSB7IHJldHVybiB0aGlzOyB9LCBpKTtcclxuICAgIGZ1bmN0aW9uIHZlcmIobikgeyBpW25dID0gb1tuXSAmJiBmdW5jdGlvbiAodikgeyByZXR1cm4gbmV3IFByb21pc2UoZnVuY3Rpb24gKHJlc29sdmUsIHJlamVjdCkgeyB2ID0gb1tuXSh2KSwgc2V0dGxlKHJlc29sdmUsIHJlamVjdCwgdi5kb25lLCB2LnZhbHVlKTsgfSk7IH07IH1cclxuICAgIGZ1bmN0aW9uIHNldHRsZShyZXNvbHZlLCByZWplY3QsIGQsIHYpIHsgUHJvbWlzZS5yZXNvbHZlKHYpLnRoZW4oZnVuY3Rpb24odikgeyByZXNvbHZlKHsgdmFsdWU6IHYsIGRvbmU6IGQgfSk7IH0sIHJlamVjdCk7IH1cclxufVxyXG5cclxuZXhwb3J0IGZ1bmN0aW9uIF9fbWFrZVRlbXBsYXRlT2JqZWN0KGNvb2tlZCwgcmF3KSB7XHJcbiAgICBpZiAoT2JqZWN0LmRlZmluZVByb3BlcnR5KSB7IE9iamVjdC5kZWZpbmVQcm9wZXJ0eShjb29rZWQsIFwicmF3XCIsIHsgdmFsdWU6IHJhdyB9KTsgfSBlbHNlIHsgY29va2VkLnJhdyA9IHJhdzsgfVxyXG4gICAgcmV0dXJuIGNvb2tlZDtcclxufTtcclxuXHJcbnZhciBfX3NldE1vZHVsZURlZmF1bHQgPSBPYmplY3QuY3JlYXRlID8gKGZ1bmN0aW9uKG8sIHYpIHtcclxuICAgIE9iamVjdC5kZWZpbmVQcm9wZXJ0eShvLCBcImRlZmF1bHRcIiwgeyBlbnVtZXJhYmxlOiB0cnVlLCB2YWx1ZTogdiB9KTtcclxufSkgOiBmdW5jdGlvbihvLCB2KSB7XHJcbiAgICBvW1wiZGVmYXVsdFwiXSA9IHY7XHJcbn07XHJcblxyXG5leHBvcnQgZnVuY3Rpb24gX19pbXBvcnRTdGFyKG1vZCkge1xyXG4gICAgaWYgKG1vZCAmJiBtb2QuX19lc01vZHVsZSkgcmV0dXJuIG1vZDtcclxuICAgIHZhciByZXN1bHQgPSB7fTtcclxuICAgIGlmIChtb2QgIT0gbnVsbCkgZm9yICh2YXIgayBpbiBtb2QpIGlmIChrICE9PSBcImRlZmF1bHRcIiAmJiBPYmplY3QucHJvdG90eXBlLmhhc093blByb3BlcnR5LmNhbGwobW9kLCBrKSkgX19jcmVhdGVCaW5kaW5nKHJlc3VsdCwgbW9kLCBrKTtcclxuICAgIF9fc2V0TW9kdWxlRGVmYXVsdChyZXN1bHQsIG1vZCk7XHJcbiAgICByZXR1cm4gcmVzdWx0O1xyXG59XHJcblxyXG5leHBvcnQgZnVuY3Rpb24gX19pbXBvcnREZWZhdWx0KG1vZCkge1xyXG4gICAgcmV0dXJuIChtb2QgJiYgbW9kLl9fZXNNb2R1bGUpID8gbW9kIDogeyBkZWZhdWx0OiBtb2QgfTtcclxufVxyXG5cclxuZXhwb3J0IGZ1bmN0aW9uIF9fY2xhc3NQcml2YXRlRmllbGRHZXQocmVjZWl2ZXIsIHByaXZhdGVNYXApIHtcclxuICAgIGlmICghcHJpdmF0ZU1hcC5oYXMocmVjZWl2ZXIpKSB7XHJcbiAgICAgICAgdGhyb3cgbmV3IFR5cGVFcnJvcihcImF0dGVtcHRlZCB0byBnZXQgcHJpdmF0ZSBmaWVsZCBvbiBub24taW5zdGFuY2VcIik7XHJcbiAgICB9XHJcbiAgICByZXR1cm4gcHJpdmF0ZU1hcC5nZXQocmVjZWl2ZXIpO1xyXG59XHJcblxyXG5leHBvcnQgZnVuY3Rpb24gX19jbGFzc1ByaXZhdGVGaWVsZFNldChyZWNlaXZlciwgcHJpdmF0ZU1hcCwgdmFsdWUpIHtcclxuICAgIGlmICghcHJpdmF0ZU1hcC5oYXMocmVjZWl2ZXIpKSB7XHJcbiAgICAgICAgdGhyb3cgbmV3IFR5cGVFcnJvcihcImF0dGVtcHRlZCB0byBzZXQgcHJpdmF0ZSBmaWVsZCBvbiBub24taW5zdGFuY2VcIik7XHJcbiAgICB9XHJcbiAgICBwcml2YXRlTWFwLnNldChyZWNlaXZlciwgdmFsdWUpO1xyXG4gICAgcmV0dXJuIHZhbHVlO1xyXG59XHJcbiIsImV4cG9ydCBmdW5jdGlvbiBpc0Z1bmN0aW9uKHZhbHVlKSB7XG4gICAgcmV0dXJuIHR5cGVvZiB2YWx1ZSA9PT0gJ2Z1bmN0aW9uJztcbn1cbi8vIyBzb3VyY2VNYXBwaW5nVVJMPWlzRnVuY3Rpb24uanMubWFwIiwiaW1wb3J0IHsgY3JlYXRlRXJyb3JDbGFzcyB9IGZyb20gJy4vY3JlYXRlRXJyb3JDbGFzcyc7XG5leHBvcnQgdmFyIFVuc3Vic2NyaXB0aW9uRXJyb3IgPSBjcmVhdGVFcnJvckNsYXNzKGZ1bmN0aW9uIChfc3VwZXIpIHtcbiAgICByZXR1cm4gZnVuY3Rpb24gVW5zdWJzY3JpcHRpb25FcnJvckltcGwoZXJyb3JzKSB7XG4gICAgICAgIF9zdXBlcih0aGlzKTtcbiAgICAgICAgdGhpcy5tZXNzYWdlID0gZXJyb3JzXG4gICAgICAgICAgICA/IGVycm9ycy5sZW5ndGggKyBcIiBlcnJvcnMgb2NjdXJyZWQgZHVyaW5nIHVuc3Vic2NyaXB0aW9uOlxcblwiICsgZXJyb3JzLm1hcChmdW5jdGlvbiAoZXJyLCBpKSB7IHJldHVybiBpICsgMSArIFwiKSBcIiArIGVyci50b1N0cmluZygpOyB9KS5qb2luKCdcXG4gICcpXG4gICAgICAgICAgICA6ICcnO1xuICAgICAgICB0aGlzLm5hbWUgPSAnVW5zdWJzY3JpcHRpb25FcnJvcic7XG4gICAgICAgIHRoaXMuZXJyb3JzID0gZXJyb3JzO1xuICAgIH07XG59KTtcbi8vIyBzb3VyY2VNYXBwaW5nVVJMPVVuc3Vic2NyaXB0aW9uRXJyb3IuanMubWFwIiwiZXhwb3J0IGZ1bmN0aW9uIGNyZWF0ZUVycm9yQ2xhc3MoY3JlYXRlSW1wbCkge1xuICAgIHZhciBfc3VwZXIgPSBmdW5jdGlvbiAoaW5zdGFuY2UpIHtcbiAgICAgICAgRXJyb3IuY2FsbChpbnN0YW5jZSk7XG4gICAgICAgIGluc3RhbmNlLnN0YWNrID0gbmV3IEVycm9yKCkuc3RhY2s7XG4gICAgfTtcbiAgICB2YXIgY3RvckZ1bmMgPSBjcmVhdGVJbXBsKF9zdXBlcik7XG4gICAgY3RvckZ1bmMucHJvdG90eXBlID0gT2JqZWN0LmNyZWF0ZShFcnJvci5wcm90b3R5cGUpO1xuICAgIGN0b3JGdW5jLnByb3RvdHlwZS5jb25zdHJ1Y3RvciA9IGN0b3JGdW5jO1xuICAgIHJldHVybiBjdG9yRnVuYztcbn1cbi8vIyBzb3VyY2VNYXBwaW5nVVJMPWNyZWF0ZUVycm9yQ2xhc3MuanMubWFwIiwiZXhwb3J0IGZ1bmN0aW9uIGFyclJlbW92ZShhcnIsIGl0ZW0pIHtcbiAgICBpZiAoYXJyKSB7XG4gICAgICAgIHZhciBpbmRleCA9IGFyci5pbmRleE9mKGl0ZW0pO1xuICAgICAgICAwIDw9IGluZGV4ICYmIGFyci5zcGxpY2UoaW5kZXgsIDEpO1xuICAgIH1cbn1cbi8vIyBzb3VyY2VNYXBwaW5nVVJMPWFyclJlbW92ZS5qcy5tYXAiLCJpbXBvcnQgeyBfX3JlYWQsIF9fc3ByZWFkQXJyYXksIF9fdmFsdWVzIH0gZnJvbSBcInRzbGliXCI7XG5pbXBvcnQgeyBpc0Z1bmN0aW9uIH0gZnJvbSAnLi91dGlsL2lzRnVuY3Rpb24nO1xuaW1wb3J0IHsgVW5zdWJzY3JpcHRpb25FcnJvciB9IGZyb20gJy4vdXRpbC9VbnN1YnNjcmlwdGlvbkVycm9yJztcbmltcG9ydCB7IGFyclJlbW92ZSB9IGZyb20gJy4vdXRpbC9hcnJSZW1vdmUnO1xudmFyIFN1YnNjcmlwdGlvbiA9IChmdW5jdGlvbiAoKSB7XG4gICAgZnVuY3Rpb24gU3Vic2NyaXB0aW9uKGluaXRpYWxUZWFyZG93bikge1xuICAgICAgICB0aGlzLmluaXRpYWxUZWFyZG93biA9IGluaXRpYWxUZWFyZG93bjtcbiAgICAgICAgdGhpcy5jbG9zZWQgPSBmYWxzZTtcbiAgICAgICAgdGhpcy5fcGFyZW50YWdlID0gbnVsbDtcbiAgICAgICAgdGhpcy5fdGVhcmRvd25zID0gbnVsbDtcbiAgICB9XG4gICAgU3Vic2NyaXB0aW9uLnByb3RvdHlwZS51bnN1YnNjcmliZSA9IGZ1bmN0aW9uICgpIHtcbiAgICAgICAgdmFyIGVfMSwgX2EsIGVfMiwgX2I7XG4gICAgICAgIHZhciBlcnJvcnM7XG4gICAgICAgIGlmICghdGhpcy5jbG9zZWQpIHtcbiAgICAgICAgICAgIHRoaXMuY2xvc2VkID0gdHJ1ZTtcbiAgICAgICAgICAgIHZhciBfcGFyZW50YWdlID0gdGhpcy5fcGFyZW50YWdlO1xuICAgICAgICAgICAgaWYgKF9wYXJlbnRhZ2UpIHtcbiAgICAgICAgICAgICAgICB0aGlzLl9wYXJlbnRhZ2UgPSBudWxsO1xuICAgICAgICAgICAgICAgIGlmIChBcnJheS5pc0FycmF5KF9wYXJlbnRhZ2UpKSB7XG4gICAgICAgICAgICAgICAgICAgIHRyeSB7XG4gICAgICAgICAgICAgICAgICAgICAgICBmb3IgKHZhciBfcGFyZW50YWdlXzEgPSBfX3ZhbHVlcyhfcGFyZW50YWdlKSwgX3BhcmVudGFnZV8xXzEgPSBfcGFyZW50YWdlXzEubmV4dCgpOyAhX3BhcmVudGFnZV8xXzEuZG9uZTsgX3BhcmVudGFnZV8xXzEgPSBfcGFyZW50YWdlXzEubmV4dCgpKSB7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgdmFyIHBhcmVudF8xID0gX3BhcmVudGFnZV8xXzEudmFsdWU7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgcGFyZW50XzEucmVtb3ZlKHRoaXMpO1xuICAgICAgICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgICAgIGNhdGNoIChlXzFfMSkgeyBlXzEgPSB7IGVycm9yOiBlXzFfMSB9OyB9XG4gICAgICAgICAgICAgICAgICAgIGZpbmFsbHkge1xuICAgICAgICAgICAgICAgICAgICAgICAgdHJ5IHtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBpZiAoX3BhcmVudGFnZV8xXzEgJiYgIV9wYXJlbnRhZ2VfMV8xLmRvbmUgJiYgKF9hID0gX3BhcmVudGFnZV8xLnJldHVybikpIF9hLmNhbGwoX3BhcmVudGFnZV8xKTtcbiAgICAgICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICAgICAgICAgIGZpbmFsbHkgeyBpZiAoZV8xKSB0aHJvdyBlXzEuZXJyb3I7IH1cbiAgICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICBlbHNlIHtcbiAgICAgICAgICAgICAgICAgICAgX3BhcmVudGFnZS5yZW1vdmUodGhpcyk7XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgfVxuICAgICAgICAgICAgdmFyIGluaXRpYWxUZWFyZG93biA9IHRoaXMuaW5pdGlhbFRlYXJkb3duO1xuICAgICAgICAgICAgaWYgKGlzRnVuY3Rpb24oaW5pdGlhbFRlYXJkb3duKSkge1xuICAgICAgICAgICAgICAgIHRyeSB7XG4gICAgICAgICAgICAgICAgICAgIGluaXRpYWxUZWFyZG93bigpO1xuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICBjYXRjaCAoZSkge1xuICAgICAgICAgICAgICAgICAgICBlcnJvcnMgPSBlIGluc3RhbmNlb2YgVW5zdWJzY3JpcHRpb25FcnJvciA/IGUuZXJyb3JzIDogW2VdO1xuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIHZhciBfdGVhcmRvd25zID0gdGhpcy5fdGVhcmRvd25zO1xuICAgICAgICAgICAgaWYgKF90ZWFyZG93bnMpIHtcbiAgICAgICAgICAgICAgICB0aGlzLl90ZWFyZG93bnMgPSBudWxsO1xuICAgICAgICAgICAgICAgIHRyeSB7XG4gICAgICAgICAgICAgICAgICAgIGZvciAodmFyIF90ZWFyZG93bnNfMSA9IF9fdmFsdWVzKF90ZWFyZG93bnMpLCBfdGVhcmRvd25zXzFfMSA9IF90ZWFyZG93bnNfMS5uZXh0KCk7ICFfdGVhcmRvd25zXzFfMS5kb25lOyBfdGVhcmRvd25zXzFfMSA9IF90ZWFyZG93bnNfMS5uZXh0KCkpIHtcbiAgICAgICAgICAgICAgICAgICAgICAgIHZhciB0ZWFyZG93bl8xID0gX3RlYXJkb3duc18xXzEudmFsdWU7XG4gICAgICAgICAgICAgICAgICAgICAgICB0cnkge1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgIGV4ZWNUZWFyZG93bih0ZWFyZG93bl8xKTtcbiAgICAgICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICAgICAgICAgIGNhdGNoIChlcnIpIHtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBlcnJvcnMgPSBlcnJvcnMgIT09IG51bGwgJiYgZXJyb3JzICE9PSB2b2lkIDAgPyBlcnJvcnMgOiBbXTtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBpZiAoZXJyIGluc3RhbmNlb2YgVW5zdWJzY3JpcHRpb25FcnJvcikge1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBlcnJvcnMgPSBfX3NwcmVhZEFycmF5KF9fc3ByZWFkQXJyYXkoW10sIF9fcmVhZChlcnJvcnMpKSwgX19yZWFkKGVyci5lcnJvcnMpKTtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgZWxzZSB7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGVycm9ycy5wdXNoKGVycik7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgIGNhdGNoIChlXzJfMSkgeyBlXzIgPSB7IGVycm9yOiBlXzJfMSB9OyB9XG4gICAgICAgICAgICAgICAgZmluYWxseSB7XG4gICAgICAgICAgICAgICAgICAgIHRyeSB7XG4gICAgICAgICAgICAgICAgICAgICAgICBpZiAoX3RlYXJkb3duc18xXzEgJiYgIV90ZWFyZG93bnNfMV8xLmRvbmUgJiYgKF9iID0gX3RlYXJkb3duc18xLnJldHVybikpIF9iLmNhbGwoX3RlYXJkb3duc18xKTtcbiAgICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgICAgICBmaW5hbGx5IHsgaWYgKGVfMikgdGhyb3cgZV8yLmVycm9yOyB9XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgfVxuICAgICAgICAgICAgaWYgKGVycm9ycykge1xuICAgICAgICAgICAgICAgIHRocm93IG5ldyBVbnN1YnNjcmlwdGlvbkVycm9yKGVycm9ycyk7XG4gICAgICAgICAgICB9XG4gICAgICAgIH1cbiAgICB9O1xuICAgIFN1YnNjcmlwdGlvbi5wcm90b3R5cGUuYWRkID0gZnVuY3Rpb24gKHRlYXJkb3duKSB7XG4gICAgICAgIHZhciBfYTtcbiAgICAgICAgaWYgKHRlYXJkb3duICYmIHRlYXJkb3duICE9PSB0aGlzKSB7XG4gICAgICAgICAgICBpZiAodGhpcy5jbG9zZWQpIHtcbiAgICAgICAgICAgICAgICBleGVjVGVhcmRvd24odGVhcmRvd24pO1xuICAgICAgICAgICAgfVxuICAgICAgICAgICAgZWxzZSB7XG4gICAgICAgICAgICAgICAgaWYgKHRlYXJkb3duIGluc3RhbmNlb2YgU3Vic2NyaXB0aW9uKSB7XG4gICAgICAgICAgICAgICAgICAgIGlmICh0ZWFyZG93bi5jbG9zZWQgfHwgdGVhcmRvd24uX2hhc1BhcmVudCh0aGlzKSkge1xuICAgICAgICAgICAgICAgICAgICAgICAgcmV0dXJuO1xuICAgICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgICAgIHRlYXJkb3duLl9hZGRQYXJlbnQodGhpcyk7XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgICh0aGlzLl90ZWFyZG93bnMgPSAoX2EgPSB0aGlzLl90ZWFyZG93bnMpICE9PSBudWxsICYmIF9hICE9PSB2b2lkIDAgPyBfYSA6IFtdKS5wdXNoKHRlYXJkb3duKTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgfVxuICAgIH07XG4gICAgU3Vic2NyaXB0aW9uLnByb3RvdHlwZS5faGFzUGFyZW50ID0gZnVuY3Rpb24gKHBhcmVudCkge1xuICAgICAgICB2YXIgX3BhcmVudGFnZSA9IHRoaXMuX3BhcmVudGFnZTtcbiAgICAgICAgcmV0dXJuIF9wYXJlbnRhZ2UgPT09IHBhcmVudCB8fCAoQXJyYXkuaXNBcnJheShfcGFyZW50YWdlKSAmJiBfcGFyZW50YWdlLmluY2x1ZGVzKHBhcmVudCkpO1xuICAgIH07XG4gICAgU3Vic2NyaXB0aW9uLnByb3RvdHlwZS5fYWRkUGFyZW50ID0gZnVuY3Rpb24gKHBhcmVudCkge1xuICAgICAgICB2YXIgX3BhcmVudGFnZSA9IHRoaXMuX3BhcmVudGFnZTtcbiAgICAgICAgdGhpcy5fcGFyZW50YWdlID0gQXJyYXkuaXNBcnJheShfcGFyZW50YWdlKSA/IChfcGFyZW50YWdlLnB1c2gocGFyZW50KSwgX3BhcmVudGFnZSkgOiBfcGFyZW50YWdlID8gW19wYXJlbnRhZ2UsIHBhcmVudF0gOiBwYXJlbnQ7XG4gICAgfTtcbiAgICBTdWJzY3JpcHRpb24ucHJvdG90eXBlLl9yZW1vdmVQYXJlbnQgPSBmdW5jdGlvbiAocGFyZW50KSB7XG4gICAgICAgIHZhciBfcGFyZW50YWdlID0gdGhpcy5fcGFyZW50YWdlO1xuICAgICAgICBpZiAoX3BhcmVudGFnZSA9PT0gcGFyZW50KSB7XG4gICAgICAgICAgICB0aGlzLl9wYXJlbnRhZ2UgPSBudWxsO1xuICAgICAgICB9XG4gICAgICAgIGVsc2UgaWYgKEFycmF5LmlzQXJyYXkoX3BhcmVudGFnZSkpIHtcbiAgICAgICAgICAgIGFyclJlbW92ZShfcGFyZW50YWdlLCBwYXJlbnQpO1xuICAgICAgICB9XG4gICAgfTtcbiAgICBTdWJzY3JpcHRpb24ucHJvdG90eXBlLnJlbW92ZSA9IGZ1bmN0aW9uICh0ZWFyZG93bikge1xuICAgICAgICB2YXIgX3RlYXJkb3ducyA9IHRoaXMuX3RlYXJkb3ducztcbiAgICAgICAgX3RlYXJkb3ducyAmJiBhcnJSZW1vdmUoX3RlYXJkb3ducywgdGVhcmRvd24pO1xuICAgICAgICBpZiAodGVhcmRvd24gaW5zdGFuY2VvZiBTdWJzY3JpcHRpb24pIHtcbiAgICAgICAgICAgIHRlYXJkb3duLl9yZW1vdmVQYXJlbnQodGhpcyk7XG4gICAgICAgIH1cbiAgICB9O1xuICAgIFN1YnNjcmlwdGlvbi5FTVBUWSA9IChmdW5jdGlvbiAoKSB7XG4gICAgICAgIHZhciBlbXB0eSA9IG5ldyBTdWJzY3JpcHRpb24oKTtcbiAgICAgICAgZW1wdHkuY2xvc2VkID0gdHJ1ZTtcbiAgICAgICAgcmV0dXJuIGVtcHR5O1xuICAgIH0pKCk7XG4gICAgcmV0dXJuIFN1YnNjcmlwdGlvbjtcbn0oKSk7XG5leHBvcnQgeyBTdWJzY3JpcHRpb24gfTtcbmV4cG9ydCB2YXIgRU1QVFlfU1VCU0NSSVBUSU9OID0gU3Vic2NyaXB0aW9uLkVNUFRZO1xuZXhwb3J0IGZ1bmN0aW9uIGlzU3Vic2NyaXB0aW9uKHZhbHVlKSB7XG4gICAgcmV0dXJuICh2YWx1ZSBpbnN0YW5jZW9mIFN1YnNjcmlwdGlvbiB8fFxuICAgICAgICAodmFsdWUgJiYgJ2Nsb3NlZCcgaW4gdmFsdWUgJiYgaXNGdW5jdGlvbih2YWx1ZS5yZW1vdmUpICYmIGlzRnVuY3Rpb24odmFsdWUuYWRkKSAmJiBpc0Z1bmN0aW9uKHZhbHVlLnVuc3Vic2NyaWJlKSkpO1xufVxuZnVuY3Rpb24gZXhlY1RlYXJkb3duKHRlYXJkb3duKSB7XG4gICAgaWYgKGlzRnVuY3Rpb24odGVhcmRvd24pKSB7XG4gICAgICAgIHRlYXJkb3duKCk7XG4gICAgfVxuICAgIGVsc2Uge1xuICAgICAgICB0ZWFyZG93bi51bnN1YnNjcmliZSgpO1xuICAgIH1cbn1cbi8vIyBzb3VyY2VNYXBwaW5nVVJMPVN1YnNjcmlwdGlvbi5qcy5tYXAiLCJleHBvcnQgdmFyIGNvbmZpZyA9IHtcbiAgICBvblVuaGFuZGxlZEVycm9yOiBudWxsLFxuICAgIG9uU3RvcHBlZE5vdGlmaWNhdGlvbjogbnVsbCxcbiAgICBQcm9taXNlOiB1bmRlZmluZWQsXG4gICAgdXNlRGVwcmVjYXRlZFN5bmNocm9ub3VzRXJyb3JIYW5kbGluZzogZmFsc2UsXG4gICAgdXNlRGVwcmVjYXRlZE5leHRDb250ZXh0OiBmYWxzZSxcbn07XG4vLyMgc291cmNlTWFwcGluZ1VSTD1jb25maWcuanMubWFwIiwiaW1wb3J0IHsgX19yZWFkLCBfX3NwcmVhZEFycmF5IH0gZnJvbSBcInRzbGliXCI7XG5leHBvcnQgdmFyIHRpbWVvdXRQcm92aWRlciA9IHtcbiAgICBzZXRUaW1lb3V0OiBmdW5jdGlvbiAoKSB7XG4gICAgICAgIHZhciBhcmdzID0gW107XG4gICAgICAgIGZvciAodmFyIF9pID0gMDsgX2kgPCBhcmd1bWVudHMubGVuZ3RoOyBfaSsrKSB7XG4gICAgICAgICAgICBhcmdzW19pXSA9IGFyZ3VtZW50c1tfaV07XG4gICAgICAgIH1cbiAgICAgICAgdmFyIGRlbGVnYXRlID0gdGltZW91dFByb3ZpZGVyLmRlbGVnYXRlO1xuICAgICAgICByZXR1cm4gKChkZWxlZ2F0ZSA9PT0gbnVsbCB8fCBkZWxlZ2F0ZSA9PT0gdm9pZCAwID8gdm9pZCAwIDogZGVsZWdhdGUuc2V0VGltZW91dCkgfHwgc2V0VGltZW91dCkuYXBwbHkodm9pZCAwLCBfX3NwcmVhZEFycmF5KFtdLCBfX3JlYWQoYXJncykpKTtcbiAgICB9LFxuICAgIGNsZWFyVGltZW91dDogZnVuY3Rpb24gKGhhbmRsZSkge1xuICAgICAgICB2YXIgZGVsZWdhdGUgPSB0aW1lb3V0UHJvdmlkZXIuZGVsZWdhdGU7XG4gICAgICAgIHJldHVybiAoKGRlbGVnYXRlID09PSBudWxsIHx8IGRlbGVnYXRlID09PSB2b2lkIDAgPyB2b2lkIDAgOiBkZWxlZ2F0ZS5jbGVhclRpbWVvdXQpIHx8IGNsZWFyVGltZW91dCkoaGFuZGxlKTtcbiAgICB9LFxuICAgIGRlbGVnYXRlOiB1bmRlZmluZWQsXG59O1xuLy8jIHNvdXJjZU1hcHBpbmdVUkw9dGltZW91dFByb3ZpZGVyLmpzLm1hcCIsImltcG9ydCB7IGNvbmZpZyB9IGZyb20gJy4uL2NvbmZpZyc7XG5pbXBvcnQgeyB0aW1lb3V0UHJvdmlkZXIgfSBmcm9tICcuLi9zY2hlZHVsZXIvdGltZW91dFByb3ZpZGVyJztcbmV4cG9ydCBmdW5jdGlvbiByZXBvcnRVbmhhbmRsZWRFcnJvcihlcnIpIHtcbiAgICB0aW1lb3V0UHJvdmlkZXIuc2V0VGltZW91dChmdW5jdGlvbiAoKSB7XG4gICAgICAgIHZhciBvblVuaGFuZGxlZEVycm9yID0gY29uZmlnLm9uVW5oYW5kbGVkRXJyb3I7XG4gICAgICAgIGlmIChvblVuaGFuZGxlZEVycm9yKSB7XG4gICAgICAgICAgICBvblVuaGFuZGxlZEVycm9yKGVycik7XG4gICAgICAgIH1cbiAgICAgICAgZWxzZSB7XG4gICAgICAgICAgICB0aHJvdyBlcnI7XG4gICAgICAgIH1cbiAgICB9KTtcbn1cbi8vIyBzb3VyY2VNYXBwaW5nVVJMPXJlcG9ydFVuaGFuZGxlZEVycm9yLmpzLm1hcCIsImV4cG9ydCBmdW5jdGlvbiBub29wKCkgeyB9XG4vLyMgc291cmNlTWFwcGluZ1VSTD1ub29wLmpzLm1hcCIsImV4cG9ydCB2YXIgQ09NUExFVEVfTk9USUZJQ0FUSU9OID0gKGZ1bmN0aW9uICgpIHsgcmV0dXJuIGNyZWF0ZU5vdGlmaWNhdGlvbignQycsIHVuZGVmaW5lZCwgdW5kZWZpbmVkKTsgfSkoKTtcbmV4cG9ydCBmdW5jdGlvbiBlcnJvck5vdGlmaWNhdGlvbihlcnJvcikge1xuICAgIHJldHVybiBjcmVhdGVOb3RpZmljYXRpb24oJ0UnLCB1bmRlZmluZWQsIGVycm9yKTtcbn1cbmV4cG9ydCBmdW5jdGlvbiBuZXh0Tm90aWZpY2F0aW9uKHZhbHVlKSB7XG4gICAgcmV0dXJuIGNyZWF0ZU5vdGlmaWNhdGlvbignTicsIHZhbHVlLCB1bmRlZmluZWQpO1xufVxuZXhwb3J0IGZ1bmN0aW9uIGNyZWF0ZU5vdGlmaWNhdGlvbihraW5kLCB2YWx1ZSwgZXJyb3IpIHtcbiAgICByZXR1cm4ge1xuICAgICAgICBraW5kOiBraW5kLFxuICAgICAgICB2YWx1ZTogdmFsdWUsXG4gICAgICAgIGVycm9yOiBlcnJvcixcbiAgICB9O1xufVxuLy8jIHNvdXJjZU1hcHBpbmdVUkw9Tm90aWZpY2F0aW9uRmFjdG9yaWVzLmpzLm1hcCIsImltcG9ydCB7IF9fZXh0ZW5kcywgX19yZWFkLCBfX3NwcmVhZEFycmF5IH0gZnJvbSBcInRzbGliXCI7XG5pbXBvcnQgeyBpc0Z1bmN0aW9uIH0gZnJvbSAnLi91dGlsL2lzRnVuY3Rpb24nO1xuaW1wb3J0IHsgaXNTdWJzY3JpcHRpb24sIFN1YnNjcmlwdGlvbiB9IGZyb20gJy4vU3Vic2NyaXB0aW9uJztcbmltcG9ydCB7IGNvbmZpZyB9IGZyb20gJy4vY29uZmlnJztcbmltcG9ydCB7IHJlcG9ydFVuaGFuZGxlZEVycm9yIH0gZnJvbSAnLi91dGlsL3JlcG9ydFVuaGFuZGxlZEVycm9yJztcbmltcG9ydCB7IG5vb3AgfSBmcm9tICcuL3V0aWwvbm9vcCc7XG5pbXBvcnQgeyBuZXh0Tm90aWZpY2F0aW9uLCBlcnJvck5vdGlmaWNhdGlvbiwgQ09NUExFVEVfTk9USUZJQ0FUSU9OIH0gZnJvbSAnLi9Ob3RpZmljYXRpb25GYWN0b3JpZXMnO1xuaW1wb3J0IHsgdGltZW91dFByb3ZpZGVyIH0gZnJvbSAnLi9zY2hlZHVsZXIvdGltZW91dFByb3ZpZGVyJztcbnZhciBTdWJzY3JpYmVyID0gKGZ1bmN0aW9uIChfc3VwZXIpIHtcbiAgICBfX2V4dGVuZHMoU3Vic2NyaWJlciwgX3N1cGVyKTtcbiAgICBmdW5jdGlvbiBTdWJzY3JpYmVyKGRlc3RpbmF0aW9uKSB7XG4gICAgICAgIHZhciBfdGhpcyA9IF9zdXBlci5jYWxsKHRoaXMpIHx8IHRoaXM7XG4gICAgICAgIF90aGlzLmlzU3RvcHBlZCA9IGZhbHNlO1xuICAgICAgICBpZiAoZGVzdGluYXRpb24pIHtcbiAgICAgICAgICAgIF90aGlzLmRlc3RpbmF0aW9uID0gZGVzdGluYXRpb247XG4gICAgICAgICAgICBpZiAoaXNTdWJzY3JpcHRpb24oZGVzdGluYXRpb24pKSB7XG4gICAgICAgICAgICAgICAgZGVzdGluYXRpb24uYWRkKF90aGlzKTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgfVxuICAgICAgICBlbHNlIHtcbiAgICAgICAgICAgIF90aGlzLmRlc3RpbmF0aW9uID0gRU1QVFlfT0JTRVJWRVI7XG4gICAgICAgIH1cbiAgICAgICAgcmV0dXJuIF90aGlzO1xuICAgIH1cbiAgICBTdWJzY3JpYmVyLmNyZWF0ZSA9IGZ1bmN0aW9uIChuZXh0LCBlcnJvciwgY29tcGxldGUpIHtcbiAgICAgICAgcmV0dXJuIG5ldyBTYWZlU3Vic2NyaWJlcihuZXh0LCBlcnJvciwgY29tcGxldGUpO1xuICAgIH07XG4gICAgU3Vic2NyaWJlci5wcm90b3R5cGUubmV4dCA9IGZ1bmN0aW9uICh2YWx1ZSkge1xuICAgICAgICBpZiAodGhpcy5pc1N0b3BwZWQpIHtcbiAgICAgICAgICAgIGhhbmRsZVN0b3BwZWROb3RpZmljYXRpb24obmV4dE5vdGlmaWNhdGlvbih2YWx1ZSksIHRoaXMpO1xuICAgICAgICB9XG4gICAgICAgIGVsc2Uge1xuICAgICAgICAgICAgdGhpcy5fbmV4dCh2YWx1ZSk7XG4gICAgICAgIH1cbiAgICB9O1xuICAgIFN1YnNjcmliZXIucHJvdG90eXBlLmVycm9yID0gZnVuY3Rpb24gKGVycikge1xuICAgICAgICBpZiAodGhpcy5pc1N0b3BwZWQpIHtcbiAgICAgICAgICAgIGhhbmRsZVN0b3BwZWROb3RpZmljYXRpb24oZXJyb3JOb3RpZmljYXRpb24oZXJyKSwgdGhpcyk7XG4gICAgICAgIH1cbiAgICAgICAgZWxzZSB7XG4gICAgICAgICAgICB0aGlzLmlzU3RvcHBlZCA9IHRydWU7XG4gICAgICAgICAgICB0aGlzLl9lcnJvcihlcnIpO1xuICAgICAgICB9XG4gICAgfTtcbiAgICBTdWJzY3JpYmVyLnByb3RvdHlwZS5jb21wbGV0ZSA9IGZ1bmN0aW9uICgpIHtcbiAgICAgICAgaWYgKHRoaXMuaXNTdG9wcGVkKSB7XG4gICAgICAgICAgICBoYW5kbGVTdG9wcGVkTm90aWZpY2F0aW9uKENPTVBMRVRFX05PVElGSUNBVElPTiwgdGhpcyk7XG4gICAgICAgIH1cbiAgICAgICAgZWxzZSB7XG4gICAgICAgICAgICB0aGlzLmlzU3RvcHBlZCA9IHRydWU7XG4gICAgICAgICAgICB0aGlzLl9jb21wbGV0ZSgpO1xuICAgICAgICB9XG4gICAgfTtcbiAgICBTdWJzY3JpYmVyLnByb3RvdHlwZS51bnN1YnNjcmliZSA9IGZ1bmN0aW9uICgpIHtcbiAgICAgICAgaWYgKCF0aGlzLmNsb3NlZCkge1xuICAgICAgICAgICAgdGhpcy5pc1N0b3BwZWQgPSB0cnVlO1xuICAgICAgICAgICAgX3N1cGVyLnByb3RvdHlwZS51bnN1YnNjcmliZS5jYWxsKHRoaXMpO1xuICAgICAgICAgICAgdGhpcy5kZXN0aW5hdGlvbiA9IG51bGw7XG4gICAgICAgIH1cbiAgICB9O1xuICAgIFN1YnNjcmliZXIucHJvdG90eXBlLl9uZXh0ID0gZnVuY3Rpb24gKHZhbHVlKSB7XG4gICAgICAgIHRoaXMuZGVzdGluYXRpb24ubmV4dCh2YWx1ZSk7XG4gICAgfTtcbiAgICBTdWJzY3JpYmVyLnByb3RvdHlwZS5fZXJyb3IgPSBmdW5jdGlvbiAoZXJyKSB7XG4gICAgICAgIHRyeSB7XG4gICAgICAgICAgICB0aGlzLmRlc3RpbmF0aW9uLmVycm9yKGVycik7XG4gICAgICAgIH1cbiAgICAgICAgZmluYWxseSB7XG4gICAgICAgICAgICB0aGlzLnVuc3Vic2NyaWJlKCk7XG4gICAgICAgIH1cbiAgICB9O1xuICAgIFN1YnNjcmliZXIucHJvdG90eXBlLl9jb21wbGV0ZSA9IGZ1bmN0aW9uICgpIHtcbiAgICAgICAgdHJ5IHtcbiAgICAgICAgICAgIHRoaXMuZGVzdGluYXRpb24uY29tcGxldGUoKTtcbiAgICAgICAgfVxuICAgICAgICBmaW5hbGx5IHtcbiAgICAgICAgICAgIHRoaXMudW5zdWJzY3JpYmUoKTtcbiAgICAgICAgfVxuICAgIH07XG4gICAgcmV0dXJuIFN1YnNjcmliZXI7XG59KFN1YnNjcmlwdGlvbikpO1xuZXhwb3J0IHsgU3Vic2NyaWJlciB9O1xudmFyIFNhZmVTdWJzY3JpYmVyID0gKGZ1bmN0aW9uIChfc3VwZXIpIHtcbiAgICBfX2V4dGVuZHMoU2FmZVN1YnNjcmliZXIsIF9zdXBlcik7XG4gICAgZnVuY3Rpb24gU2FmZVN1YnNjcmliZXIob2JzZXJ2ZXJPck5leHQsIGVycm9yLCBjb21wbGV0ZSkge1xuICAgICAgICB2YXIgX3RoaXMgPSBfc3VwZXIuY2FsbCh0aGlzKSB8fCB0aGlzO1xuICAgICAgICB2YXIgbmV4dDtcbiAgICAgICAgaWYgKGlzRnVuY3Rpb24ob2JzZXJ2ZXJPck5leHQpKSB7XG4gICAgICAgICAgICBuZXh0ID0gb2JzZXJ2ZXJPck5leHQ7XG4gICAgICAgIH1cbiAgICAgICAgZWxzZSBpZiAob2JzZXJ2ZXJPck5leHQpIHtcbiAgICAgICAgICAgIChuZXh0ID0gb2JzZXJ2ZXJPck5leHQubmV4dCwgZXJyb3IgPSBvYnNlcnZlck9yTmV4dC5lcnJvciwgY29tcGxldGUgPSBvYnNlcnZlck9yTmV4dC5jb21wbGV0ZSk7XG4gICAgICAgICAgICB2YXIgY29udGV4dF8xO1xuICAgICAgICAgICAgaWYgKF90aGlzICYmIGNvbmZpZy51c2VEZXByZWNhdGVkTmV4dENvbnRleHQpIHtcbiAgICAgICAgICAgICAgICBjb250ZXh0XzEgPSBPYmplY3QuY3JlYXRlKG9ic2VydmVyT3JOZXh0KTtcbiAgICAgICAgICAgICAgICBjb250ZXh0XzEudW5zdWJzY3JpYmUgPSBmdW5jdGlvbiAoKSB7IHJldHVybiBfdGhpcy51bnN1YnNjcmliZSgpOyB9O1xuICAgICAgICAgICAgfVxuICAgICAgICAgICAgZWxzZSB7XG4gICAgICAgICAgICAgICAgY29udGV4dF8xID0gb2JzZXJ2ZXJPck5leHQ7XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICBuZXh0ID0gbmV4dCA9PT0gbnVsbCB8fCBuZXh0ID09PSB2b2lkIDAgPyB2b2lkIDAgOiBuZXh0LmJpbmQoY29udGV4dF8xKTtcbiAgICAgICAgICAgIGVycm9yID0gZXJyb3IgPT09IG51bGwgfHwgZXJyb3IgPT09IHZvaWQgMCA/IHZvaWQgMCA6IGVycm9yLmJpbmQoY29udGV4dF8xKTtcbiAgICAgICAgICAgIGNvbXBsZXRlID0gY29tcGxldGUgPT09IG51bGwgfHwgY29tcGxldGUgPT09IHZvaWQgMCA/IHZvaWQgMCA6IGNvbXBsZXRlLmJpbmQoY29udGV4dF8xKTtcbiAgICAgICAgfVxuICAgICAgICBfdGhpcy5kZXN0aW5hdGlvbiA9IHtcbiAgICAgICAgICAgIG5leHQ6IG5leHQgPyB3cmFwRm9yRXJyb3JIYW5kbGluZyhuZXh0LCBfdGhpcykgOiBub29wLFxuICAgICAgICAgICAgZXJyb3I6IHdyYXBGb3JFcnJvckhhbmRsaW5nKGVycm9yICE9PSBudWxsICYmIGVycm9yICE9PSB2b2lkIDAgPyBlcnJvciA6IGRlZmF1bHRFcnJvckhhbmRsZXIsIF90aGlzKSxcbiAgICAgICAgICAgIGNvbXBsZXRlOiBjb21wbGV0ZSA/IHdyYXBGb3JFcnJvckhhbmRsaW5nKGNvbXBsZXRlLCBfdGhpcykgOiBub29wLFxuICAgICAgICB9O1xuICAgICAgICByZXR1cm4gX3RoaXM7XG4gICAgfVxuICAgIHJldHVybiBTYWZlU3Vic2NyaWJlcjtcbn0oU3Vic2NyaWJlcikpO1xuZXhwb3J0IHsgU2FmZVN1YnNjcmliZXIgfTtcbmZ1bmN0aW9uIHdyYXBGb3JFcnJvckhhbmRsaW5nKGhhbmRsZXIsIGluc3RhbmNlKSB7XG4gICAgcmV0dXJuIGZ1bmN0aW9uICgpIHtcbiAgICAgICAgdmFyIGFyZ3MgPSBbXTtcbiAgICAgICAgZm9yICh2YXIgX2kgPSAwOyBfaSA8IGFyZ3VtZW50cy5sZW5ndGg7IF9pKyspIHtcbiAgICAgICAgICAgIGFyZ3NbX2ldID0gYXJndW1lbnRzW19pXTtcbiAgICAgICAgfVxuICAgICAgICB0cnkge1xuICAgICAgICAgICAgaGFuZGxlci5hcHBseSh2b2lkIDAsIF9fc3ByZWFkQXJyYXkoW10sIF9fcmVhZChhcmdzKSkpO1xuICAgICAgICB9XG4gICAgICAgIGNhdGNoIChlcnIpIHtcbiAgICAgICAgICAgIGlmIChjb25maWcudXNlRGVwcmVjYXRlZFN5bmNocm9ub3VzRXJyb3JIYW5kbGluZykge1xuICAgICAgICAgICAgICAgIGlmIChpbnN0YW5jZS5fc3luY0Vycm9ySGFja19pc1N1YnNjcmliaW5nKSB7XG4gICAgICAgICAgICAgICAgICAgIGluc3RhbmNlLl9fc3luY0Vycm9yID0gZXJyO1xuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICBlbHNlIHtcbiAgICAgICAgICAgICAgICAgICAgdGhyb3cgZXJyO1xuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIGVsc2Uge1xuICAgICAgICAgICAgICAgIHJlcG9ydFVuaGFuZGxlZEVycm9yKGVycik7XG4gICAgICAgICAgICB9XG4gICAgICAgIH1cbiAgICB9O1xufVxuZnVuY3Rpb24gZGVmYXVsdEVycm9ySGFuZGxlcihlcnIpIHtcbiAgICB0aHJvdyBlcnI7XG59XG5mdW5jdGlvbiBoYW5kbGVTdG9wcGVkTm90aWZpY2F0aW9uKG5vdGlmaWNhdGlvbiwgc3Vic2NyaWJlcikge1xuICAgIHZhciBvblN0b3BwZWROb3RpZmljYXRpb24gPSBjb25maWcub25TdG9wcGVkTm90aWZpY2F0aW9uO1xuICAgIG9uU3RvcHBlZE5vdGlmaWNhdGlvbiAmJiB0aW1lb3V0UHJvdmlkZXIuc2V0VGltZW91dChmdW5jdGlvbiAoKSB7IHJldHVybiBvblN0b3BwZWROb3RpZmljYXRpb24obm90aWZpY2F0aW9uLCBzdWJzY3JpYmVyKTsgfSk7XG59XG5leHBvcnQgdmFyIEVNUFRZX09CU0VSVkVSID0ge1xuICAgIGNsb3NlZDogdHJ1ZSxcbiAgICBuZXh0OiBub29wLFxuICAgIGVycm9yOiBkZWZhdWx0RXJyb3JIYW5kbGVyLFxuICAgIGNvbXBsZXRlOiBub29wLFxufTtcbi8vIyBzb3VyY2VNYXBwaW5nVVJMPVN1YnNjcmliZXIuanMubWFwIiwiZXhwb3J0IHZhciBvYnNlcnZhYmxlID0gKGZ1bmN0aW9uICgpIHsgcmV0dXJuICh0eXBlb2YgU3ltYm9sID09PSAnZnVuY3Rpb24nICYmIFN5bWJvbC5vYnNlcnZhYmxlKSB8fCAnQEBvYnNlcnZhYmxlJzsgfSkoKTtcbi8vIyBzb3VyY2VNYXBwaW5nVVJMPW9ic2VydmFibGUuanMubWFwIiwiZXhwb3J0IGZ1bmN0aW9uIGlkZW50aXR5KHgpIHtcbiAgICByZXR1cm4geDtcbn1cbi8vIyBzb3VyY2VNYXBwaW5nVVJMPWlkZW50aXR5LmpzLm1hcCIsImltcG9ydCB7IGlkZW50aXR5IH0gZnJvbSAnLi9pZGVudGl0eSc7XG5leHBvcnQgZnVuY3Rpb24gcGlwZSgpIHtcbiAgICB2YXIgZm5zID0gW107XG4gICAgZm9yICh2YXIgX2kgPSAwOyBfaSA8IGFyZ3VtZW50cy5sZW5ndGg7IF9pKyspIHtcbiAgICAgICAgZm5zW19pXSA9IGFyZ3VtZW50c1tfaV07XG4gICAgfVxuICAgIHJldHVybiBwaXBlRnJvbUFycmF5KGZucyk7XG59XG5leHBvcnQgZnVuY3Rpb24gcGlwZUZyb21BcnJheShmbnMpIHtcbiAgICBpZiAoZm5zLmxlbmd0aCA9PT0gMCkge1xuICAgICAgICByZXR1cm4gaWRlbnRpdHk7XG4gICAgfVxuICAgIGlmIChmbnMubGVuZ3RoID09PSAxKSB7XG4gICAgICAgIHJldHVybiBmbnNbMF07XG4gICAgfVxuICAgIHJldHVybiBmdW5jdGlvbiBwaXBlZChpbnB1dCkge1xuICAgICAgICByZXR1cm4gZm5zLnJlZHVjZShmdW5jdGlvbiAocHJldiwgZm4pIHsgcmV0dXJuIGZuKHByZXYpOyB9LCBpbnB1dCk7XG4gICAgfTtcbn1cbi8vIyBzb3VyY2VNYXBwaW5nVVJMPXBpcGUuanMubWFwIiwiaW1wb3J0IHsgU2FmZVN1YnNjcmliZXIsIFN1YnNjcmliZXIgfSBmcm9tICcuL1N1YnNjcmliZXInO1xuaW1wb3J0IHsgaXNTdWJzY3JpcHRpb24gfSBmcm9tICcuL1N1YnNjcmlwdGlvbic7XG5pbXBvcnQgeyBvYnNlcnZhYmxlIGFzIFN5bWJvbF9vYnNlcnZhYmxlIH0gZnJvbSAnLi9zeW1ib2wvb2JzZXJ2YWJsZSc7XG5pbXBvcnQgeyBwaXBlRnJvbUFycmF5IH0gZnJvbSAnLi91dGlsL3BpcGUnO1xuaW1wb3J0IHsgY29uZmlnIH0gZnJvbSAnLi9jb25maWcnO1xuaW1wb3J0IHsgaXNGdW5jdGlvbiB9IGZyb20gJy4vdXRpbC9pc0Z1bmN0aW9uJztcbnZhciBPYnNlcnZhYmxlID0gKGZ1bmN0aW9uICgpIHtcbiAgICBmdW5jdGlvbiBPYnNlcnZhYmxlKHN1YnNjcmliZSkge1xuICAgICAgICBpZiAoc3Vic2NyaWJlKSB7XG4gICAgICAgICAgICB0aGlzLl9zdWJzY3JpYmUgPSBzdWJzY3JpYmU7XG4gICAgICAgIH1cbiAgICB9XG4gICAgT2JzZXJ2YWJsZS5wcm90b3R5cGUubGlmdCA9IGZ1bmN0aW9uIChvcGVyYXRvcikge1xuICAgICAgICB2YXIgb2JzZXJ2YWJsZSA9IG5ldyBPYnNlcnZhYmxlKCk7XG4gICAgICAgIG9ic2VydmFibGUuc291cmNlID0gdGhpcztcbiAgICAgICAgb2JzZXJ2YWJsZS5vcGVyYXRvciA9IG9wZXJhdG9yO1xuICAgICAgICByZXR1cm4gb2JzZXJ2YWJsZTtcbiAgICB9O1xuICAgIE9ic2VydmFibGUucHJvdG90eXBlLnN1YnNjcmliZSA9IGZ1bmN0aW9uIChvYnNlcnZlck9yTmV4dCwgZXJyb3IsIGNvbXBsZXRlKSB7XG4gICAgICAgIHZhciBzdWJzY3JpYmVyID0gaXNTdWJzY3JpYmVyKG9ic2VydmVyT3JOZXh0KSA/IG9ic2VydmVyT3JOZXh0IDogbmV3IFNhZmVTdWJzY3JpYmVyKG9ic2VydmVyT3JOZXh0LCBlcnJvciwgY29tcGxldGUpO1xuICAgICAgICBpZiAoY29uZmlnLnVzZURlcHJlY2F0ZWRTeW5jaHJvbm91c0Vycm9ySGFuZGxpbmcpIHtcbiAgICAgICAgICAgIHRoaXMuX2RlcHJlY2F0ZWRTeW5jRXJyb3JTdWJzY3JpYmUoc3Vic2NyaWJlcik7XG4gICAgICAgIH1cbiAgICAgICAgZWxzZSB7XG4gICAgICAgICAgICB2YXIgX2EgPSB0aGlzLCBvcGVyYXRvciA9IF9hLm9wZXJhdG9yLCBzb3VyY2UgPSBfYS5zb3VyY2U7XG4gICAgICAgICAgICBzdWJzY3JpYmVyLmFkZChvcGVyYXRvclxuICAgICAgICAgICAgICAgID9cbiAgICAgICAgICAgICAgICAgICAgb3BlcmF0b3IuY2FsbChzdWJzY3JpYmVyLCBzb3VyY2UpXG4gICAgICAgICAgICAgICAgOiBzb3VyY2VcbiAgICAgICAgICAgICAgICAgICAgP1xuICAgICAgICAgICAgICAgICAgICAgICAgdGhpcy5fc3Vic2NyaWJlKHN1YnNjcmliZXIpXG4gICAgICAgICAgICAgICAgICAgIDpcbiAgICAgICAgICAgICAgICAgICAgICAgIHRoaXMuX3RyeVN1YnNjcmliZShzdWJzY3JpYmVyKSk7XG4gICAgICAgIH1cbiAgICAgICAgcmV0dXJuIHN1YnNjcmliZXI7XG4gICAgfTtcbiAgICBPYnNlcnZhYmxlLnByb3RvdHlwZS5fZGVwcmVjYXRlZFN5bmNFcnJvclN1YnNjcmliZSA9IGZ1bmN0aW9uIChzdWJzY3JpYmVyKSB7XG4gICAgICAgIHZhciBsb2NhbFN1YnNjcmliZXIgPSBzdWJzY3JpYmVyO1xuICAgICAgICBsb2NhbFN1YnNjcmliZXIuX3N5bmNFcnJvckhhY2tfaXNTdWJzY3JpYmluZyA9IHRydWU7XG4gICAgICAgIHZhciBvcGVyYXRvciA9IHRoaXMub3BlcmF0b3I7XG4gICAgICAgIGlmIChvcGVyYXRvcikge1xuICAgICAgICAgICAgc3Vic2NyaWJlci5hZGQob3BlcmF0b3IuY2FsbChzdWJzY3JpYmVyLCB0aGlzLnNvdXJjZSkpO1xuICAgICAgICB9XG4gICAgICAgIGVsc2Uge1xuICAgICAgICAgICAgdHJ5IHtcbiAgICAgICAgICAgICAgICBzdWJzY3JpYmVyLmFkZCh0aGlzLl9zdWJzY3JpYmUoc3Vic2NyaWJlcikpO1xuICAgICAgICAgICAgfVxuICAgICAgICAgICAgY2F0Y2ggKGVycikge1xuICAgICAgICAgICAgICAgIGxvY2FsU3Vic2NyaWJlci5fX3N5bmNFcnJvciA9IGVycjtcbiAgICAgICAgICAgIH1cbiAgICAgICAgfVxuICAgICAgICB2YXIgZGVzdCA9IGxvY2FsU3Vic2NyaWJlcjtcbiAgICAgICAgd2hpbGUgKGRlc3QpIHtcbiAgICAgICAgICAgIGlmICgnX19zeW5jRXJyb3InIGluIGRlc3QpIHtcbiAgICAgICAgICAgICAgICB0cnkge1xuICAgICAgICAgICAgICAgICAgICB0aHJvdyBkZXN0Ll9fc3luY0Vycm9yO1xuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICBmaW5hbGx5IHtcbiAgICAgICAgICAgICAgICAgICAgc3Vic2NyaWJlci51bnN1YnNjcmliZSgpO1xuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIGRlc3QgPSBkZXN0LmRlc3RpbmF0aW9uO1xuICAgICAgICB9XG4gICAgICAgIGxvY2FsU3Vic2NyaWJlci5fc3luY0Vycm9ySGFja19pc1N1YnNjcmliaW5nID0gZmFsc2U7XG4gICAgfTtcbiAgICBPYnNlcnZhYmxlLnByb3RvdHlwZS5fdHJ5U3Vic2NyaWJlID0gZnVuY3Rpb24gKHNpbmspIHtcbiAgICAgICAgdHJ5IHtcbiAgICAgICAgICAgIHJldHVybiB0aGlzLl9zdWJzY3JpYmUoc2luayk7XG4gICAgICAgIH1cbiAgICAgICAgY2F0Y2ggKGVycikge1xuICAgICAgICAgICAgc2luay5lcnJvcihlcnIpO1xuICAgICAgICB9XG4gICAgfTtcbiAgICBPYnNlcnZhYmxlLnByb3RvdHlwZS5mb3JFYWNoID0gZnVuY3Rpb24gKG5leHQsIHByb21pc2VDdG9yKSB7XG4gICAgICAgIHZhciBfdGhpcyA9IHRoaXM7XG4gICAgICAgIHByb21pc2VDdG9yID0gZ2V0UHJvbWlzZUN0b3IocHJvbWlzZUN0b3IpO1xuICAgICAgICByZXR1cm4gbmV3IHByb21pc2VDdG9yKGZ1bmN0aW9uIChyZXNvbHZlLCByZWplY3QpIHtcbiAgICAgICAgICAgIHZhciBzdWJzY3JpcHRpb247XG4gICAgICAgICAgICBzdWJzY3JpcHRpb24gPSBfdGhpcy5zdWJzY3JpYmUoZnVuY3Rpb24gKHZhbHVlKSB7XG4gICAgICAgICAgICAgICAgdHJ5IHtcbiAgICAgICAgICAgICAgICAgICAgbmV4dCh2YWx1ZSk7XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgIGNhdGNoIChlcnIpIHtcbiAgICAgICAgICAgICAgICAgICAgcmVqZWN0KGVycik7XG4gICAgICAgICAgICAgICAgICAgIHN1YnNjcmlwdGlvbiA9PT0gbnVsbCB8fCBzdWJzY3JpcHRpb24gPT09IHZvaWQgMCA/IHZvaWQgMCA6IHN1YnNjcmlwdGlvbi51bnN1YnNjcmliZSgpO1xuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgIH0sIHJlamVjdCwgcmVzb2x2ZSk7XG4gICAgICAgIH0pO1xuICAgIH07XG4gICAgT2JzZXJ2YWJsZS5wcm90b3R5cGUuX3N1YnNjcmliZSA9IGZ1bmN0aW9uIChzdWJzY3JpYmVyKSB7XG4gICAgICAgIHZhciBfYTtcbiAgICAgICAgcmV0dXJuIChfYSA9IHRoaXMuc291cmNlKSA9PT0gbnVsbCB8fCBfYSA9PT0gdm9pZCAwID8gdm9pZCAwIDogX2Euc3Vic2NyaWJlKHN1YnNjcmliZXIpO1xuICAgIH07XG4gICAgT2JzZXJ2YWJsZS5wcm90b3R5cGVbU3ltYm9sX29ic2VydmFibGVdID0gZnVuY3Rpb24gKCkge1xuICAgICAgICByZXR1cm4gdGhpcztcbiAgICB9O1xuICAgIE9ic2VydmFibGUucHJvdG90eXBlLnBpcGUgPSBmdW5jdGlvbiAoKSB7XG4gICAgICAgIHZhciBvcGVyYXRpb25zID0gW107XG4gICAgICAgIGZvciAodmFyIF9pID0gMDsgX2kgPCBhcmd1bWVudHMubGVuZ3RoOyBfaSsrKSB7XG4gICAgICAgICAgICBvcGVyYXRpb25zW19pXSA9IGFyZ3VtZW50c1tfaV07XG4gICAgICAgIH1cbiAgICAgICAgcmV0dXJuIG9wZXJhdGlvbnMubGVuZ3RoID8gcGlwZUZyb21BcnJheShvcGVyYXRpb25zKSh0aGlzKSA6IHRoaXM7XG4gICAgfTtcbiAgICBPYnNlcnZhYmxlLnByb3RvdHlwZS50b1Byb21pc2UgPSBmdW5jdGlvbiAocHJvbWlzZUN0b3IpIHtcbiAgICAgICAgdmFyIF90aGlzID0gdGhpcztcbiAgICAgICAgcHJvbWlzZUN0b3IgPSBnZXRQcm9taXNlQ3Rvcihwcm9taXNlQ3Rvcik7XG4gICAgICAgIHJldHVybiBuZXcgcHJvbWlzZUN0b3IoZnVuY3Rpb24gKHJlc29sdmUsIHJlamVjdCkge1xuICAgICAgICAgICAgdmFyIHZhbHVlO1xuICAgICAgICAgICAgX3RoaXMuc3Vic2NyaWJlKGZ1bmN0aW9uICh4KSB7IHJldHVybiAodmFsdWUgPSB4KTsgfSwgZnVuY3Rpb24gKGVycikgeyByZXR1cm4gcmVqZWN0KGVycik7IH0sIGZ1bmN0aW9uICgpIHsgcmV0dXJuIHJlc29sdmUodmFsdWUpOyB9KTtcbiAgICAgICAgfSk7XG4gICAgfTtcbiAgICBPYnNlcnZhYmxlLmNyZWF0ZSA9IGZ1bmN0aW9uIChzdWJzY3JpYmUpIHtcbiAgICAgICAgcmV0dXJuIG5ldyBPYnNlcnZhYmxlKHN1YnNjcmliZSk7XG4gICAgfTtcbiAgICByZXR1cm4gT2JzZXJ2YWJsZTtcbn0oKSk7XG5leHBvcnQgeyBPYnNlcnZhYmxlIH07XG5mdW5jdGlvbiBnZXRQcm9taXNlQ3Rvcihwcm9taXNlQ3Rvcikge1xuICAgIHZhciBfYTtcbiAgICByZXR1cm4gKF9hID0gcHJvbWlzZUN0b3IgIT09IG51bGwgJiYgcHJvbWlzZUN0b3IgIT09IHZvaWQgMCA/IHByb21pc2VDdG9yIDogY29uZmlnLlByb21pc2UpICE9PSBudWxsICYmIF9hICE9PSB2b2lkIDAgPyBfYSA6IFByb21pc2U7XG59XG5mdW5jdGlvbiBpc09ic2VydmVyKHZhbHVlKSB7XG4gICAgcmV0dXJuIHZhbHVlICYmIGlzRnVuY3Rpb24odmFsdWUubmV4dCkgJiYgaXNGdW5jdGlvbih2YWx1ZS5lcnJvcikgJiYgaXNGdW5jdGlvbih2YWx1ZS5jb21wbGV0ZSk7XG59XG5mdW5jdGlvbiBpc1N1YnNjcmliZXIodmFsdWUpIHtcbiAgICByZXR1cm4gKHZhbHVlICYmIHZhbHVlIGluc3RhbmNlb2YgU3Vic2NyaWJlcikgfHwgKGlzT2JzZXJ2ZXIodmFsdWUpICYmIGlzU3Vic2NyaXB0aW9uKHZhbHVlKSk7XG59XG4vLyMgc291cmNlTWFwcGluZ1VSTD1PYnNlcnZhYmxlLmpzLm1hcCIsImV4cG9ydCB2YXIgaXNBcnJheUxpa2UgPSAoZnVuY3Rpb24gKHgpIHsgcmV0dXJuIHggJiYgdHlwZW9mIHgubGVuZ3RoID09PSAnbnVtYmVyJyAmJiB0eXBlb2YgeCAhPT0gJ2Z1bmN0aW9uJzsgfSk7XG4vLyMgc291cmNlTWFwcGluZ1VSTD1pc0FycmF5TGlrZS5qcy5tYXAiLCJpbXBvcnQgeyBpc0Z1bmN0aW9uIH0gZnJvbSBcIi4vaXNGdW5jdGlvblwiO1xuZXhwb3J0IGZ1bmN0aW9uIGlzUHJvbWlzZSh2YWx1ZSkge1xuICAgIHJldHVybiBpc0Z1bmN0aW9uKHZhbHVlID09PSBudWxsIHx8IHZhbHVlID09PSB2b2lkIDAgPyB2b2lkIDAgOiB2YWx1ZS50aGVuKTtcbn1cbi8vIyBzb3VyY2VNYXBwaW5nVVJMPWlzUHJvbWlzZS5qcy5tYXAiLCJpbXBvcnQgeyBPYnNlcnZhYmxlIH0gZnJvbSAnLi4vT2JzZXJ2YWJsZSc7XG5leHBvcnQgZnVuY3Rpb24gc2NoZWR1bGVBcnJheShpbnB1dCwgc2NoZWR1bGVyKSB7XG4gICAgcmV0dXJuIG5ldyBPYnNlcnZhYmxlKGZ1bmN0aW9uIChzdWJzY3JpYmVyKSB7XG4gICAgICAgIHZhciBpID0gMDtcbiAgICAgICAgcmV0dXJuIHNjaGVkdWxlci5zY2hlZHVsZShmdW5jdGlvbiAoKSB7XG4gICAgICAgICAgICBpZiAoaSA9PT0gaW5wdXQubGVuZ3RoKSB7XG4gICAgICAgICAgICAgICAgc3Vic2NyaWJlci5jb21wbGV0ZSgpO1xuICAgICAgICAgICAgfVxuICAgICAgICAgICAgZWxzZSB7XG4gICAgICAgICAgICAgICAgc3Vic2NyaWJlci5uZXh0KGlucHV0W2krK10pO1xuICAgICAgICAgICAgICAgIGlmICghc3Vic2NyaWJlci5jbG9zZWQpIHtcbiAgICAgICAgICAgICAgICAgICAgdGhpcy5zY2hlZHVsZSgpO1xuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgIH1cbiAgICAgICAgfSk7XG4gICAgfSk7XG59XG4vLyMgc291cmNlTWFwcGluZ1VSTD1zY2hlZHVsZUFycmF5LmpzLm1hcCIsImV4cG9ydCBmdW5jdGlvbiBnZXRTeW1ib2xJdGVyYXRvcigpIHtcbiAgICBpZiAodHlwZW9mIFN5bWJvbCAhPT0gJ2Z1bmN0aW9uJyB8fCAhU3ltYm9sLml0ZXJhdG9yKSB7XG4gICAgICAgIHJldHVybiAnQEBpdGVyYXRvcic7XG4gICAgfVxuICAgIHJldHVybiBTeW1ib2wuaXRlcmF0b3I7XG59XG5leHBvcnQgdmFyIGl0ZXJhdG9yID0gZ2V0U3ltYm9sSXRlcmF0b3IoKTtcbi8vIyBzb3VyY2VNYXBwaW5nVVJMPWl0ZXJhdG9yLmpzLm1hcCIsImltcG9ydCB7IE9ic2VydmFibGUgfSBmcm9tICcuLi9PYnNlcnZhYmxlJztcbmltcG9ydCB7IFN1YnNjcmlwdGlvbiB9IGZyb20gJy4uL1N1YnNjcmlwdGlvbic7XG5leHBvcnQgZnVuY3Rpb24gc2NoZWR1bGVBc3luY0l0ZXJhYmxlKGlucHV0LCBzY2hlZHVsZXIpIHtcbiAgICBpZiAoIWlucHV0KSB7XG4gICAgICAgIHRocm93IG5ldyBFcnJvcignSXRlcmFibGUgY2Fubm90IGJlIG51bGwnKTtcbiAgICB9XG4gICAgcmV0dXJuIG5ldyBPYnNlcnZhYmxlKGZ1bmN0aW9uIChzdWJzY3JpYmVyKSB7XG4gICAgICAgIHZhciBzdWIgPSBuZXcgU3Vic2NyaXB0aW9uKCk7XG4gICAgICAgIHN1Yi5hZGQoc2NoZWR1bGVyLnNjaGVkdWxlKGZ1bmN0aW9uICgpIHtcbiAgICAgICAgICAgIHZhciBpdGVyYXRvciA9IGlucHV0W1N5bWJvbC5hc3luY0l0ZXJhdG9yXSgpO1xuICAgICAgICAgICAgc3ViLmFkZChzY2hlZHVsZXIuc2NoZWR1bGUoZnVuY3Rpb24gKCkge1xuICAgICAgICAgICAgICAgIHZhciBfdGhpcyA9IHRoaXM7XG4gICAgICAgICAgICAgICAgaXRlcmF0b3IubmV4dCgpLnRoZW4oZnVuY3Rpb24gKHJlc3VsdCkge1xuICAgICAgICAgICAgICAgICAgICBpZiAocmVzdWx0LmRvbmUpIHtcbiAgICAgICAgICAgICAgICAgICAgICAgIHN1YnNjcmliZXIuY29tcGxldGUoKTtcbiAgICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgICAgICBlbHNlIHtcbiAgICAgICAgICAgICAgICAgICAgICAgIHN1YnNjcmliZXIubmV4dChyZXN1bHQudmFsdWUpO1xuICAgICAgICAgICAgICAgICAgICAgICAgX3RoaXMuc2NoZWR1bGUoKTtcbiAgICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgIH0pO1xuICAgICAgICAgICAgfSkpO1xuICAgICAgICB9KSk7XG4gICAgICAgIHJldHVybiBzdWI7XG4gICAgfSk7XG59XG4vLyMgc291cmNlTWFwcGluZ1VSTD1zY2hlZHVsZUFzeW5jSXRlcmFibGUuanMubWFwIiwiaW1wb3J0IHsgb2JzZXJ2YWJsZSBhcyBTeW1ib2xfb2JzZXJ2YWJsZSB9IGZyb20gJy4uL3N5bWJvbC9vYnNlcnZhYmxlJztcbmltcG9ydCB7IGlzRnVuY3Rpb24gfSBmcm9tICcuL2lzRnVuY3Rpb24nO1xuZXhwb3J0IGZ1bmN0aW9uIGlzSW50ZXJvcE9ic2VydmFibGUoaW5wdXQpIHtcbiAgICByZXR1cm4gaXNGdW5jdGlvbihpbnB1dFtTeW1ib2xfb2JzZXJ2YWJsZV0pO1xufVxuLy8jIHNvdXJjZU1hcHBpbmdVUkw9aXNJbnRlcm9wT2JzZXJ2YWJsZS5qcy5tYXAiLCJpbXBvcnQgeyBpdGVyYXRvciBhcyBTeW1ib2xfaXRlcmF0b3IgfSBmcm9tICcuLi9zeW1ib2wvaXRlcmF0b3InO1xuaW1wb3J0IHsgaXNGdW5jdGlvbiB9IGZyb20gJy4vaXNGdW5jdGlvbic7XG5leHBvcnQgZnVuY3Rpb24gaXNJdGVyYWJsZShpbnB1dCkge1xuICAgIHJldHVybiBpc0Z1bmN0aW9uKGlucHV0ID09PSBudWxsIHx8IGlucHV0ID09PSB2b2lkIDAgPyB2b2lkIDAgOiBpbnB1dFtTeW1ib2xfaXRlcmF0b3JdKTtcbn1cbi8vIyBzb3VyY2VNYXBwaW5nVVJMPWlzSXRlcmFibGUuanMubWFwIiwiaW1wb3J0IHsgaXNGdW5jdGlvbiB9IGZyb20gJy4vaXNGdW5jdGlvbic7XG5leHBvcnQgZnVuY3Rpb24gaXNBc3luY0l0ZXJhYmxlKG9iaikge1xuICAgIHJldHVybiBTeW1ib2wuYXN5bmNJdGVyYXRvciAmJiBpc0Z1bmN0aW9uKG9iaiA9PT0gbnVsbCB8fCBvYmogPT09IHZvaWQgMCA/IHZvaWQgMCA6IG9ialtTeW1ib2wuYXN5bmNJdGVyYXRvcl0pO1xufVxuLy8jIHNvdXJjZU1hcHBpbmdVUkw9aXNBc3luY0l0ZXJhYmxlLmpzLm1hcCIsImV4cG9ydCBmdW5jdGlvbiBjcmVhdGVJbnZhbGlkT2JzZXJ2YWJsZVR5cGVFcnJvcihpbnB1dCkge1xuICAgIHJldHVybiBuZXcgVHlwZUVycm9yKFwiWW91IHByb3ZpZGVkIFwiICsgKGlucHV0ICE9PSBudWxsICYmIHR5cGVvZiBpbnB1dCA9PT0gJ29iamVjdCcgPyAnYW4gaW52YWxpZCBvYmplY3QnIDogXCInXCIgKyBpbnB1dCArIFwiJ1wiKSArIFwiIHdoZXJlIGEgc3RyZWFtIHdhcyBleHBlY3RlZC4gWW91IGNhbiBwcm92aWRlIGFuIE9ic2VydmFibGUsIFByb21pc2UsIFJlYWRhYmxlU3RyZWFtLCBBcnJheSwgQXN5bmNJdGVyYWJsZSwgb3IgSXRlcmFibGUuXCIpO1xufVxuLy8jIHNvdXJjZU1hcHBpbmdVUkw9dGhyb3dVbm9ic2VydmFibGVFcnJvci5qcy5tYXAiLCJpbXBvcnQgeyBfX2FzeW5jR2VuZXJhdG9yLCBfX2F3YWl0LCBfX2dlbmVyYXRvciB9IGZyb20gXCJ0c2xpYlwiO1xuaW1wb3J0IHsgaXNGdW5jdGlvbiB9IGZyb20gJy4vaXNGdW5jdGlvbic7XG5leHBvcnQgZnVuY3Rpb24gcmVhZGFibGVTdHJlYW1MaWtlVG9Bc3luY0dlbmVyYXRvcihyZWFkYWJsZVN0cmVhbSkge1xuICAgIHJldHVybiBfX2FzeW5jR2VuZXJhdG9yKHRoaXMsIGFyZ3VtZW50cywgZnVuY3Rpb24gcmVhZGFibGVTdHJlYW1MaWtlVG9Bc3luY0dlbmVyYXRvcl8xKCkge1xuICAgICAgICB2YXIgcmVhZGVyLCBfYSwgdmFsdWUsIGRvbmU7XG4gICAgICAgIHJldHVybiBfX2dlbmVyYXRvcih0aGlzLCBmdW5jdGlvbiAoX2IpIHtcbiAgICAgICAgICAgIHN3aXRjaCAoX2IubGFiZWwpIHtcbiAgICAgICAgICAgICAgICBjYXNlIDA6XG4gICAgICAgICAgICAgICAgICAgIHJlYWRlciA9IHJlYWRhYmxlU3RyZWFtLmdldFJlYWRlcigpO1xuICAgICAgICAgICAgICAgICAgICBfYi5sYWJlbCA9IDE7XG4gICAgICAgICAgICAgICAgY2FzZSAxOlxuICAgICAgICAgICAgICAgICAgICBfYi50cnlzLnB1c2goWzEsICwgOSwgMTBdKTtcbiAgICAgICAgICAgICAgICAgICAgX2IubGFiZWwgPSAyO1xuICAgICAgICAgICAgICAgIGNhc2UgMjpcbiAgICAgICAgICAgICAgICAgICAgaWYgKCF0cnVlKSByZXR1cm4gWzMsIDhdO1xuICAgICAgICAgICAgICAgICAgICByZXR1cm4gWzQsIF9fYXdhaXQocmVhZGVyLnJlYWQoKSldO1xuICAgICAgICAgICAgICAgIGNhc2UgMzpcbiAgICAgICAgICAgICAgICAgICAgX2EgPSBfYi5zZW50KCksIHZhbHVlID0gX2EudmFsdWUsIGRvbmUgPSBfYS5kb25lO1xuICAgICAgICAgICAgICAgICAgICBpZiAoIWRvbmUpIHJldHVybiBbMywgNV07XG4gICAgICAgICAgICAgICAgICAgIHJldHVybiBbNCwgX19hd2FpdCh2b2lkIDApXTtcbiAgICAgICAgICAgICAgICBjYXNlIDQ6IHJldHVybiBbMiwgX2Iuc2VudCgpXTtcbiAgICAgICAgICAgICAgICBjYXNlIDU6IHJldHVybiBbNCwgX19hd2FpdCh2YWx1ZSldO1xuICAgICAgICAgICAgICAgIGNhc2UgNjogcmV0dXJuIFs0LCBfYi5zZW50KCldO1xuICAgICAgICAgICAgICAgIGNhc2UgNzpcbiAgICAgICAgICAgICAgICAgICAgX2Iuc2VudCgpO1xuICAgICAgICAgICAgICAgICAgICByZXR1cm4gWzMsIDJdO1xuICAgICAgICAgICAgICAgIGNhc2UgODogcmV0dXJuIFszLCAxMF07XG4gICAgICAgICAgICAgICAgY2FzZSA5OlxuICAgICAgICAgICAgICAgICAgICByZWFkZXIucmVsZWFzZUxvY2soKTtcbiAgICAgICAgICAgICAgICAgICAgcmV0dXJuIFs3XTtcbiAgICAgICAgICAgICAgICBjYXNlIDEwOiByZXR1cm4gWzJdO1xuICAgICAgICAgICAgfVxuICAgICAgICB9KTtcbiAgICB9KTtcbn1cbmV4cG9ydCBmdW5jdGlvbiBpc1JlYWRhYmxlU3RyZWFtTGlrZShvYmopIHtcbiAgICByZXR1cm4gaXNGdW5jdGlvbihvYmogPT09IG51bGwgfHwgb2JqID09PSB2b2lkIDAgPyB2b2lkIDAgOiBvYmouZ2V0UmVhZGVyKTtcbn1cbi8vIyBzb3VyY2VNYXBwaW5nVVJMPWlzUmVhZGFibGVTdHJlYW1MaWtlLmpzLm1hcCIsImltcG9ydCB7IF9fYXN5bmNWYWx1ZXMsIF9fYXdhaXRlciwgX19nZW5lcmF0b3IsIF9fdmFsdWVzIH0gZnJvbSBcInRzbGliXCI7XG5pbXBvcnQgeyBpc0FycmF5TGlrZSB9IGZyb20gJy4uL3V0aWwvaXNBcnJheUxpa2UnO1xuaW1wb3J0IHsgaXNQcm9taXNlIH0gZnJvbSAnLi4vdXRpbC9pc1Byb21pc2UnO1xuaW1wb3J0IHsgb2JzZXJ2YWJsZSBhcyBTeW1ib2xfb2JzZXJ2YWJsZSB9IGZyb20gJy4uL3N5bWJvbC9vYnNlcnZhYmxlJztcbmltcG9ydCB7IE9ic2VydmFibGUgfSBmcm9tICcuLi9PYnNlcnZhYmxlJztcbmltcG9ydCB7IHNjaGVkdWxlZCB9IGZyb20gJy4uL3NjaGVkdWxlZC9zY2hlZHVsZWQnO1xuaW1wb3J0IHsgaXNGdW5jdGlvbiB9IGZyb20gJy4uL3V0aWwvaXNGdW5jdGlvbic7XG5pbXBvcnQgeyByZXBvcnRVbmhhbmRsZWRFcnJvciB9IGZyb20gJy4uL3V0aWwvcmVwb3J0VW5oYW5kbGVkRXJyb3InO1xuaW1wb3J0IHsgaXNJbnRlcm9wT2JzZXJ2YWJsZSB9IGZyb20gJy4uL3V0aWwvaXNJbnRlcm9wT2JzZXJ2YWJsZSc7XG5pbXBvcnQgeyBpc0FzeW5jSXRlcmFibGUgfSBmcm9tICcuLi91dGlsL2lzQXN5bmNJdGVyYWJsZSc7XG5pbXBvcnQgeyBjcmVhdGVJbnZhbGlkT2JzZXJ2YWJsZVR5cGVFcnJvciB9IGZyb20gJy4uL3V0aWwvdGhyb3dVbm9ic2VydmFibGVFcnJvcic7XG5pbXBvcnQgeyBpc0l0ZXJhYmxlIH0gZnJvbSAnLi4vdXRpbC9pc0l0ZXJhYmxlJztcbmltcG9ydCB7IGlzUmVhZGFibGVTdHJlYW1MaWtlLCByZWFkYWJsZVN0cmVhbUxpa2VUb0FzeW5jR2VuZXJhdG9yIH0gZnJvbSAnLi4vdXRpbC9pc1JlYWRhYmxlU3RyZWFtTGlrZSc7XG5leHBvcnQgZnVuY3Rpb24gZnJvbShpbnB1dCwgc2NoZWR1bGVyKSB7XG4gICAgcmV0dXJuIHNjaGVkdWxlciA/IHNjaGVkdWxlZChpbnB1dCwgc2NoZWR1bGVyKSA6IGlubmVyRnJvbShpbnB1dCk7XG59XG5leHBvcnQgZnVuY3Rpb24gaW5uZXJGcm9tKGlucHV0KSB7XG4gICAgaWYgKGlucHV0IGluc3RhbmNlb2YgT2JzZXJ2YWJsZSkge1xuICAgICAgICByZXR1cm4gaW5wdXQ7XG4gICAgfVxuICAgIGlmIChpbnB1dCAhPSBudWxsKSB7XG4gICAgICAgIGlmIChpc0ludGVyb3BPYnNlcnZhYmxlKGlucHV0KSkge1xuICAgICAgICAgICAgcmV0dXJuIGZyb21JbnRlcm9wT2JzZXJ2YWJsZShpbnB1dCk7XG4gICAgICAgIH1cbiAgICAgICAgaWYgKGlzQXJyYXlMaWtlKGlucHV0KSkge1xuICAgICAgICAgICAgcmV0dXJuIGZyb21BcnJheUxpa2UoaW5wdXQpO1xuICAgICAgICB9XG4gICAgICAgIGlmIChpc1Byb21pc2UoaW5wdXQpKSB7XG4gICAgICAgICAgICByZXR1cm4gZnJvbVByb21pc2UoaW5wdXQpO1xuICAgICAgICB9XG4gICAgICAgIGlmIChpc0FzeW5jSXRlcmFibGUoaW5wdXQpKSB7XG4gICAgICAgICAgICByZXR1cm4gZnJvbUFzeW5jSXRlcmFibGUoaW5wdXQpO1xuICAgICAgICB9XG4gICAgICAgIGlmIChpc0l0ZXJhYmxlKGlucHV0KSkge1xuICAgICAgICAgICAgcmV0dXJuIGZyb21JdGVyYWJsZShpbnB1dCk7XG4gICAgICAgIH1cbiAgICAgICAgaWYgKGlzUmVhZGFibGVTdHJlYW1MaWtlKGlucHV0KSkge1xuICAgICAgICAgICAgcmV0dXJuIGZyb21SZWFkYWJsZVN0cmVhbUxpa2UoaW5wdXQpO1xuICAgICAgICB9XG4gICAgfVxuICAgIHRocm93IGNyZWF0ZUludmFsaWRPYnNlcnZhYmxlVHlwZUVycm9yKGlucHV0KTtcbn1cbmZ1bmN0aW9uIGZyb21JbnRlcm9wT2JzZXJ2YWJsZShvYmopIHtcbiAgICByZXR1cm4gbmV3IE9ic2VydmFibGUoZnVuY3Rpb24gKHN1YnNjcmliZXIpIHtcbiAgICAgICAgdmFyIG9icyA9IG9ialtTeW1ib2xfb2JzZXJ2YWJsZV0oKTtcbiAgICAgICAgaWYgKGlzRnVuY3Rpb24ob2JzLnN1YnNjcmliZSkpIHtcbiAgICAgICAgICAgIHJldHVybiBvYnMuc3Vic2NyaWJlKHN1YnNjcmliZXIpO1xuICAgICAgICB9XG4gICAgICAgIHRocm93IG5ldyBUeXBlRXJyb3IoJ1Byb3ZpZGVkIG9iamVjdCBkb2VzIG5vdCBjb3JyZWN0bHkgaW1wbGVtZW50IFN5bWJvbC5vYnNlcnZhYmxlJyk7XG4gICAgfSk7XG59XG5leHBvcnQgZnVuY3Rpb24gZnJvbUFycmF5TGlrZShhcnJheSkge1xuICAgIHJldHVybiBuZXcgT2JzZXJ2YWJsZShmdW5jdGlvbiAoc3Vic2NyaWJlcikge1xuICAgICAgICBmb3IgKHZhciBpID0gMDsgaSA8IGFycmF5Lmxlbmd0aCAmJiAhc3Vic2NyaWJlci5jbG9zZWQ7IGkrKykge1xuICAgICAgICAgICAgc3Vic2NyaWJlci5uZXh0KGFycmF5W2ldKTtcbiAgICAgICAgfVxuICAgICAgICBzdWJzY3JpYmVyLmNvbXBsZXRlKCk7XG4gICAgfSk7XG59XG5mdW5jdGlvbiBmcm9tUHJvbWlzZShwcm9taXNlKSB7XG4gICAgcmV0dXJuIG5ldyBPYnNlcnZhYmxlKGZ1bmN0aW9uIChzdWJzY3JpYmVyKSB7XG4gICAgICAgIHByb21pc2VcbiAgICAgICAgICAgIC50aGVuKGZ1bmN0aW9uICh2YWx1ZSkge1xuICAgICAgICAgICAgaWYgKCFzdWJzY3JpYmVyLmNsb3NlZCkge1xuICAgICAgICAgICAgICAgIHN1YnNjcmliZXIubmV4dCh2YWx1ZSk7XG4gICAgICAgICAgICAgICAgc3Vic2NyaWJlci5jb21wbGV0ZSgpO1xuICAgICAgICAgICAgfVxuICAgICAgICB9LCBmdW5jdGlvbiAoZXJyKSB7IHJldHVybiBzdWJzY3JpYmVyLmVycm9yKGVycik7IH0pXG4gICAgICAgICAgICAudGhlbihudWxsLCByZXBvcnRVbmhhbmRsZWRFcnJvcik7XG4gICAgfSk7XG59XG5mdW5jdGlvbiBmcm9tSXRlcmFibGUoaXRlcmFibGUpIHtcbiAgICByZXR1cm4gbmV3IE9ic2VydmFibGUoZnVuY3Rpb24gKHN1YnNjcmliZXIpIHtcbiAgICAgICAgdmFyIGVfMSwgX2E7XG4gICAgICAgIHRyeSB7XG4gICAgICAgICAgICBmb3IgKHZhciBpdGVyYWJsZV8xID0gX192YWx1ZXMoaXRlcmFibGUpLCBpdGVyYWJsZV8xXzEgPSBpdGVyYWJsZV8xLm5leHQoKTsgIWl0ZXJhYmxlXzFfMS5kb25lOyBpdGVyYWJsZV8xXzEgPSBpdGVyYWJsZV8xLm5leHQoKSkge1xuICAgICAgICAgICAgICAgIHZhciB2YWx1ZSA9IGl0ZXJhYmxlXzFfMS52YWx1ZTtcbiAgICAgICAgICAgICAgICBzdWJzY3JpYmVyLm5leHQodmFsdWUpO1xuICAgICAgICAgICAgICAgIGlmIChzdWJzY3JpYmVyLmNsb3NlZCkge1xuICAgICAgICAgICAgICAgICAgICByZXR1cm47XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgfVxuICAgICAgICB9XG4gICAgICAgIGNhdGNoIChlXzFfMSkgeyBlXzEgPSB7IGVycm9yOiBlXzFfMSB9OyB9XG4gICAgICAgIGZpbmFsbHkge1xuICAgICAgICAgICAgdHJ5IHtcbiAgICAgICAgICAgICAgICBpZiAoaXRlcmFibGVfMV8xICYmICFpdGVyYWJsZV8xXzEuZG9uZSAmJiAoX2EgPSBpdGVyYWJsZV8xLnJldHVybikpIF9hLmNhbGwoaXRlcmFibGVfMSk7XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICBmaW5hbGx5IHsgaWYgKGVfMSkgdGhyb3cgZV8xLmVycm9yOyB9XG4gICAgICAgIH1cbiAgICAgICAgc3Vic2NyaWJlci5jb21wbGV0ZSgpO1xuICAgIH0pO1xufVxuZnVuY3Rpb24gZnJvbUFzeW5jSXRlcmFibGUoYXN5bmNJdGVyYWJsZSkge1xuICAgIHJldHVybiBuZXcgT2JzZXJ2YWJsZShmdW5jdGlvbiAoc3Vic2NyaWJlcikge1xuICAgICAgICBwcm9jZXNzKGFzeW5jSXRlcmFibGUsIHN1YnNjcmliZXIpLmNhdGNoKGZ1bmN0aW9uIChlcnIpIHsgcmV0dXJuIHN1YnNjcmliZXIuZXJyb3IoZXJyKTsgfSk7XG4gICAgfSk7XG59XG5mdW5jdGlvbiBmcm9tUmVhZGFibGVTdHJlYW1MaWtlKHJlYWRhYmxlU3RyZWFtKSB7XG4gICAgcmV0dXJuIGZyb21Bc3luY0l0ZXJhYmxlKHJlYWRhYmxlU3RyZWFtTGlrZVRvQXN5bmNHZW5lcmF0b3IocmVhZGFibGVTdHJlYW0pKTtcbn1cbmZ1bmN0aW9uIHByb2Nlc3MoYXN5bmNJdGVyYWJsZSwgc3Vic2NyaWJlcikge1xuICAgIHZhciBhc3luY0l0ZXJhYmxlXzEsIGFzeW5jSXRlcmFibGVfMV8xO1xuICAgIHZhciBlXzIsIF9hO1xuICAgIHJldHVybiBfX2F3YWl0ZXIodGhpcywgdm9pZCAwLCB2b2lkIDAsIGZ1bmN0aW9uICgpIHtcbiAgICAgICAgdmFyIHZhbHVlLCBlXzJfMTtcbiAgICAgICAgcmV0dXJuIF9fZ2VuZXJhdG9yKHRoaXMsIGZ1bmN0aW9uIChfYikge1xuICAgICAgICAgICAgc3dpdGNoIChfYi5sYWJlbCkge1xuICAgICAgICAgICAgICAgIGNhc2UgMDpcbiAgICAgICAgICAgICAgICAgICAgX2IudHJ5cy5wdXNoKFswLCA1LCA2LCAxMV0pO1xuICAgICAgICAgICAgICAgICAgICBhc3luY0l0ZXJhYmxlXzEgPSBfX2FzeW5jVmFsdWVzKGFzeW5jSXRlcmFibGUpO1xuICAgICAgICAgICAgICAgICAgICBfYi5sYWJlbCA9IDE7XG4gICAgICAgICAgICAgICAgY2FzZSAxOiByZXR1cm4gWzQsIGFzeW5jSXRlcmFibGVfMS5uZXh0KCldO1xuICAgICAgICAgICAgICAgIGNhc2UgMjpcbiAgICAgICAgICAgICAgICAgICAgaWYgKCEoYXN5bmNJdGVyYWJsZV8xXzEgPSBfYi5zZW50KCksICFhc3luY0l0ZXJhYmxlXzFfMS5kb25lKSkgcmV0dXJuIFszLCA0XTtcbiAgICAgICAgICAgICAgICAgICAgdmFsdWUgPSBhc3luY0l0ZXJhYmxlXzFfMS52YWx1ZTtcbiAgICAgICAgICAgICAgICAgICAgc3Vic2NyaWJlci5uZXh0KHZhbHVlKTtcbiAgICAgICAgICAgICAgICAgICAgaWYgKHN1YnNjcmliZXIuY2xvc2VkKSB7XG4gICAgICAgICAgICAgICAgICAgICAgICByZXR1cm4gWzJdO1xuICAgICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgICAgIF9iLmxhYmVsID0gMztcbiAgICAgICAgICAgICAgICBjYXNlIDM6IHJldHVybiBbMywgMV07XG4gICAgICAgICAgICAgICAgY2FzZSA0OiByZXR1cm4gWzMsIDExXTtcbiAgICAgICAgICAgICAgICBjYXNlIDU6XG4gICAgICAgICAgICAgICAgICAgIGVfMl8xID0gX2Iuc2VudCgpO1xuICAgICAgICAgICAgICAgICAgICBlXzIgPSB7IGVycm9yOiBlXzJfMSB9O1xuICAgICAgICAgICAgICAgICAgICByZXR1cm4gWzMsIDExXTtcbiAgICAgICAgICAgICAgICBjYXNlIDY6XG4gICAgICAgICAgICAgICAgICAgIF9iLnRyeXMucHVzaChbNiwgLCA5LCAxMF0pO1xuICAgICAgICAgICAgICAgICAgICBpZiAoIShhc3luY0l0ZXJhYmxlXzFfMSAmJiAhYXN5bmNJdGVyYWJsZV8xXzEuZG9uZSAmJiAoX2EgPSBhc3luY0l0ZXJhYmxlXzEucmV0dXJuKSkpIHJldHVybiBbMywgOF07XG4gICAgICAgICAgICAgICAgICAgIHJldHVybiBbNCwgX2EuY2FsbChhc3luY0l0ZXJhYmxlXzEpXTtcbiAgICAgICAgICAgICAgICBjYXNlIDc6XG4gICAgICAgICAgICAgICAgICAgIF9iLnNlbnQoKTtcbiAgICAgICAgICAgICAgICAgICAgX2IubGFiZWwgPSA4O1xuICAgICAgICAgICAgICAgIGNhc2UgODogcmV0dXJuIFszLCAxMF07XG4gICAgICAgICAgICAgICAgY2FzZSA5OlxuICAgICAgICAgICAgICAgICAgICBpZiAoZV8yKSB0aHJvdyBlXzIuZXJyb3I7XG4gICAgICAgICAgICAgICAgICAgIHJldHVybiBbN107XG4gICAgICAgICAgICAgICAgY2FzZSAxMDogcmV0dXJuIFs3XTtcbiAgICAgICAgICAgICAgICBjYXNlIDExOlxuICAgICAgICAgICAgICAgICAgICBzdWJzY3JpYmVyLmNvbXBsZXRlKCk7XG4gICAgICAgICAgICAgICAgICAgIHJldHVybiBbMl07XG4gICAgICAgICAgICB9XG4gICAgICAgIH0pO1xuICAgIH0pO1xufVxuLy8jIHNvdXJjZU1hcHBpbmdVUkw9ZnJvbS5qcy5tYXAiLCJpbXBvcnQgeyBzY2hlZHVsZU9ic2VydmFibGUgfSBmcm9tICcuL3NjaGVkdWxlT2JzZXJ2YWJsZSc7XG5pbXBvcnQgeyBzY2hlZHVsZVByb21pc2UgfSBmcm9tICcuL3NjaGVkdWxlUHJvbWlzZSc7XG5pbXBvcnQgeyBzY2hlZHVsZUFycmF5IH0gZnJvbSAnLi9zY2hlZHVsZUFycmF5JztcbmltcG9ydCB7IHNjaGVkdWxlSXRlcmFibGUgfSBmcm9tICcuL3NjaGVkdWxlSXRlcmFibGUnO1xuaW1wb3J0IHsgc2NoZWR1bGVBc3luY0l0ZXJhYmxlIH0gZnJvbSAnLi9zY2hlZHVsZUFzeW5jSXRlcmFibGUnO1xuaW1wb3J0IHsgaXNJbnRlcm9wT2JzZXJ2YWJsZSB9IGZyb20gJy4uL3V0aWwvaXNJbnRlcm9wT2JzZXJ2YWJsZSc7XG5pbXBvcnQgeyBpc1Byb21pc2UgfSBmcm9tICcuLi91dGlsL2lzUHJvbWlzZSc7XG5pbXBvcnQgeyBpc0FycmF5TGlrZSB9IGZyb20gJy4uL3V0aWwvaXNBcnJheUxpa2UnO1xuaW1wb3J0IHsgaXNJdGVyYWJsZSB9IGZyb20gJy4uL3V0aWwvaXNJdGVyYWJsZSc7XG5pbXBvcnQgeyBpc0FzeW5jSXRlcmFibGUgfSBmcm9tICcuLi91dGlsL2lzQXN5bmNJdGVyYWJsZSc7XG5pbXBvcnQgeyBjcmVhdGVJbnZhbGlkT2JzZXJ2YWJsZVR5cGVFcnJvciB9IGZyb20gJy4uL3V0aWwvdGhyb3dVbm9ic2VydmFibGVFcnJvcic7XG5pbXBvcnQgeyBpc1JlYWRhYmxlU3RyZWFtTGlrZSB9IGZyb20gJy4uL3V0aWwvaXNSZWFkYWJsZVN0cmVhbUxpa2UnO1xuaW1wb3J0IHsgc2NoZWR1bGVSZWFkYWJsZVN0cmVhbUxpa2UgfSBmcm9tICcuL3NjaGVkdWxlUmVhZGFibGVTdHJlYW1MaWtlJztcbmV4cG9ydCBmdW5jdGlvbiBzY2hlZHVsZWQoaW5wdXQsIHNjaGVkdWxlcikge1xuICAgIGlmIChpbnB1dCAhPSBudWxsKSB7XG4gICAgICAgIGlmIChpc0ludGVyb3BPYnNlcnZhYmxlKGlucHV0KSkge1xuICAgICAgICAgICAgcmV0dXJuIHNjaGVkdWxlT2JzZXJ2YWJsZShpbnB1dCwgc2NoZWR1bGVyKTtcbiAgICAgICAgfVxuICAgICAgICBpZiAoaXNBcnJheUxpa2UoaW5wdXQpKSB7XG4gICAgICAgICAgICByZXR1cm4gc2NoZWR1bGVBcnJheShpbnB1dCwgc2NoZWR1bGVyKTtcbiAgICAgICAgfVxuICAgICAgICBpZiAoaXNQcm9taXNlKGlucHV0KSkge1xuICAgICAgICAgICAgcmV0dXJuIHNjaGVkdWxlUHJvbWlzZShpbnB1dCwgc2NoZWR1bGVyKTtcbiAgICAgICAgfVxuICAgICAgICBpZiAoaXNBc3luY0l0ZXJhYmxlKGlucHV0KSkge1xuICAgICAgICAgICAgcmV0dXJuIHNjaGVkdWxlQXN5bmNJdGVyYWJsZShpbnB1dCwgc2NoZWR1bGVyKTtcbiAgICAgICAgfVxuICAgICAgICBpZiAoaXNJdGVyYWJsZShpbnB1dCkpIHtcbiAgICAgICAgICAgIHJldHVybiBzY2hlZHVsZUl0ZXJhYmxlKGlucHV0LCBzY2hlZHVsZXIpO1xuICAgICAgICB9XG4gICAgICAgIGlmIChpc1JlYWRhYmxlU3RyZWFtTGlrZShpbnB1dCkpIHtcbiAgICAgICAgICAgIHJldHVybiBzY2hlZHVsZVJlYWRhYmxlU3RyZWFtTGlrZShpbnB1dCwgc2NoZWR1bGVyKTtcbiAgICAgICAgfVxuICAgIH1cbiAgICB0aHJvdyBjcmVhdGVJbnZhbGlkT2JzZXJ2YWJsZVR5cGVFcnJvcihpbnB1dCk7XG59XG4vLyMgc291cmNlTWFwcGluZ1VSTD1zY2hlZHVsZWQuanMubWFwIiwiaW1wb3J0IHsgT2JzZXJ2YWJsZSB9IGZyb20gJy4uL09ic2VydmFibGUnO1xuaW1wb3J0IHsgU3Vic2NyaXB0aW9uIH0gZnJvbSAnLi4vU3Vic2NyaXB0aW9uJztcbmltcG9ydCB7IG9ic2VydmFibGUgYXMgU3ltYm9sX29ic2VydmFibGUgfSBmcm9tICcuLi9zeW1ib2wvb2JzZXJ2YWJsZSc7XG5leHBvcnQgZnVuY3Rpb24gc2NoZWR1bGVPYnNlcnZhYmxlKGlucHV0LCBzY2hlZHVsZXIpIHtcbiAgICByZXR1cm4gbmV3IE9ic2VydmFibGUoZnVuY3Rpb24gKHN1YnNjcmliZXIpIHtcbiAgICAgICAgdmFyIHN1YiA9IG5ldyBTdWJzY3JpcHRpb24oKTtcbiAgICAgICAgc3ViLmFkZChzY2hlZHVsZXIuc2NoZWR1bGUoZnVuY3Rpb24gKCkge1xuICAgICAgICAgICAgdmFyIG9ic2VydmFibGUgPSBpbnB1dFtTeW1ib2xfb2JzZXJ2YWJsZV0oKTtcbiAgICAgICAgICAgIHN1Yi5hZGQob2JzZXJ2YWJsZS5zdWJzY3JpYmUoe1xuICAgICAgICAgICAgICAgIG5leHQ6IGZ1bmN0aW9uICh2YWx1ZSkgeyBzdWIuYWRkKHNjaGVkdWxlci5zY2hlZHVsZShmdW5jdGlvbiAoKSB7IHJldHVybiBzdWJzY3JpYmVyLm5leHQodmFsdWUpOyB9KSk7IH0sXG4gICAgICAgICAgICAgICAgZXJyb3I6IGZ1bmN0aW9uIChlcnIpIHsgc3ViLmFkZChzY2hlZHVsZXIuc2NoZWR1bGUoZnVuY3Rpb24gKCkgeyByZXR1cm4gc3Vic2NyaWJlci5lcnJvcihlcnIpOyB9KSk7IH0sXG4gICAgICAgICAgICAgICAgY29tcGxldGU6IGZ1bmN0aW9uICgpIHsgc3ViLmFkZChzY2hlZHVsZXIuc2NoZWR1bGUoZnVuY3Rpb24gKCkgeyByZXR1cm4gc3Vic2NyaWJlci5jb21wbGV0ZSgpOyB9KSk7IH0sXG4gICAgICAgICAgICB9KSk7XG4gICAgICAgIH0pKTtcbiAgICAgICAgcmV0dXJuIHN1YjtcbiAgICB9KTtcbn1cbi8vIyBzb3VyY2VNYXBwaW5nVVJMPXNjaGVkdWxlT2JzZXJ2YWJsZS5qcy5tYXAiLCJpbXBvcnQgeyBPYnNlcnZhYmxlIH0gZnJvbSAnLi4vT2JzZXJ2YWJsZSc7XG5leHBvcnQgZnVuY3Rpb24gc2NoZWR1bGVQcm9taXNlKGlucHV0LCBzY2hlZHVsZXIpIHtcbiAgICByZXR1cm4gbmV3IE9ic2VydmFibGUoZnVuY3Rpb24gKHN1YnNjcmliZXIpIHtcbiAgICAgICAgcmV0dXJuIHNjaGVkdWxlci5zY2hlZHVsZShmdW5jdGlvbiAoKSB7XG4gICAgICAgICAgICByZXR1cm4gaW5wdXQudGhlbihmdW5jdGlvbiAodmFsdWUpIHtcbiAgICAgICAgICAgICAgICBzdWJzY3JpYmVyLmFkZChzY2hlZHVsZXIuc2NoZWR1bGUoZnVuY3Rpb24gKCkge1xuICAgICAgICAgICAgICAgICAgICBzdWJzY3JpYmVyLm5leHQodmFsdWUpO1xuICAgICAgICAgICAgICAgICAgICBzdWJzY3JpYmVyLmFkZChzY2hlZHVsZXIuc2NoZWR1bGUoZnVuY3Rpb24gKCkgeyByZXR1cm4gc3Vic2NyaWJlci5jb21wbGV0ZSgpOyB9KSk7XG4gICAgICAgICAgICAgICAgfSkpO1xuICAgICAgICAgICAgfSwgZnVuY3Rpb24gKGVycikge1xuICAgICAgICAgICAgICAgIHN1YnNjcmliZXIuYWRkKHNjaGVkdWxlci5zY2hlZHVsZShmdW5jdGlvbiAoKSB7IHJldHVybiBzdWJzY3JpYmVyLmVycm9yKGVycik7IH0pKTtcbiAgICAgICAgICAgIH0pO1xuICAgICAgICB9KTtcbiAgICB9KTtcbn1cbi8vIyBzb3VyY2VNYXBwaW5nVVJMPXNjaGVkdWxlUHJvbWlzZS5qcy5tYXAiLCJpbXBvcnQgeyBPYnNlcnZhYmxlIH0gZnJvbSAnLi4vT2JzZXJ2YWJsZSc7XG5pbXBvcnQgeyBpdGVyYXRvciBhcyBTeW1ib2xfaXRlcmF0b3IgfSBmcm9tICcuLi9zeW1ib2wvaXRlcmF0b3InO1xuaW1wb3J0IHsgaXNGdW5jdGlvbiB9IGZyb20gJy4uL3V0aWwvaXNGdW5jdGlvbic7XG5pbXBvcnQgeyBjYXVnaHRTY2hlZHVsZSB9IGZyb20gJy4uL3V0aWwvY2F1Z2h0U2NoZWR1bGUnO1xuZXhwb3J0IGZ1bmN0aW9uIHNjaGVkdWxlSXRlcmFibGUoaW5wdXQsIHNjaGVkdWxlcikge1xuICAgIHJldHVybiBuZXcgT2JzZXJ2YWJsZShmdW5jdGlvbiAoc3Vic2NyaWJlcikge1xuICAgICAgICB2YXIgaXRlcmF0b3I7XG4gICAgICAgIHN1YnNjcmliZXIuYWRkKHNjaGVkdWxlci5zY2hlZHVsZShmdW5jdGlvbiAoKSB7XG4gICAgICAgICAgICBpdGVyYXRvciA9IGlucHV0W1N5bWJvbF9pdGVyYXRvcl0oKTtcbiAgICAgICAgICAgIGNhdWdodFNjaGVkdWxlKHN1YnNjcmliZXIsIHNjaGVkdWxlciwgZnVuY3Rpb24gKCkge1xuICAgICAgICAgICAgICAgIHZhciBfYSA9IGl0ZXJhdG9yLm5leHQoKSwgdmFsdWUgPSBfYS52YWx1ZSwgZG9uZSA9IF9hLmRvbmU7XG4gICAgICAgICAgICAgICAgaWYgKGRvbmUpIHtcbiAgICAgICAgICAgICAgICAgICAgc3Vic2NyaWJlci5jb21wbGV0ZSgpO1xuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICBlbHNlIHtcbiAgICAgICAgICAgICAgICAgICAgc3Vic2NyaWJlci5uZXh0KHZhbHVlKTtcbiAgICAgICAgICAgICAgICAgICAgdGhpcy5zY2hlZHVsZSgpO1xuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgIH0pO1xuICAgICAgICB9KSk7XG4gICAgICAgIHJldHVybiBmdW5jdGlvbiAoKSB7IHJldHVybiBpc0Z1bmN0aW9uKGl0ZXJhdG9yID09PSBudWxsIHx8IGl0ZXJhdG9yID09PSB2b2lkIDAgPyB2b2lkIDAgOiBpdGVyYXRvci5yZXR1cm4pICYmIGl0ZXJhdG9yLnJldHVybigpOyB9O1xuICAgIH0pO1xufVxuLy8jIHNvdXJjZU1hcHBpbmdVUkw9c2NoZWR1bGVJdGVyYWJsZS5qcy5tYXAiLCJleHBvcnQgZnVuY3Rpb24gY2F1Z2h0U2NoZWR1bGUoc3Vic2NyaWJlciwgc2NoZWR1bGVyLCBleGVjdXRlLCBkZWxheSkge1xuICAgIGlmIChkZWxheSA9PT0gdm9pZCAwKSB7IGRlbGF5ID0gMDsgfVxuICAgIHZhciBzdWJzY3JpcHRpb24gPSBzY2hlZHVsZXIuc2NoZWR1bGUoZnVuY3Rpb24gKCkge1xuICAgICAgICB0cnkge1xuICAgICAgICAgICAgZXhlY3V0ZS5jYWxsKHRoaXMpO1xuICAgICAgICB9XG4gICAgICAgIGNhdGNoIChlcnIpIHtcbiAgICAgICAgICAgIHN1YnNjcmliZXIuZXJyb3IoZXJyKTtcbiAgICAgICAgfVxuICAgIH0sIGRlbGF5KTtcbiAgICBzdWJzY3JpYmVyLmFkZChzdWJzY3JpcHRpb24pO1xuICAgIHJldHVybiBzdWJzY3JpcHRpb247XG59XG4vLyMgc291cmNlTWFwcGluZ1VSTD1jYXVnaHRTY2hlZHVsZS5qcy5tYXAiLCJpbXBvcnQgeyBzY2hlZHVsZUFzeW5jSXRlcmFibGUgfSBmcm9tICcuL3NjaGVkdWxlQXN5bmNJdGVyYWJsZSc7XG5pbXBvcnQgeyByZWFkYWJsZVN0cmVhbUxpa2VUb0FzeW5jR2VuZXJhdG9yIH0gZnJvbSAnLi4vdXRpbC9pc1JlYWRhYmxlU3RyZWFtTGlrZSc7XG5leHBvcnQgZnVuY3Rpb24gc2NoZWR1bGVSZWFkYWJsZVN0cmVhbUxpa2UoaW5wdXQsIHNjaGVkdWxlcikge1xuICAgIHJldHVybiBzY2hlZHVsZUFzeW5jSXRlcmFibGUocmVhZGFibGVTdHJlYW1MaWtlVG9Bc3luY0dlbmVyYXRvcihpbnB1dCksIHNjaGVkdWxlcik7XG59XG4vLyMgc291cmNlTWFwcGluZ1VSTD1zY2hlZHVsZVJlYWRhYmxlU3RyZWFtTGlrZS5qcy5tYXAiLCJ2YXIgaXNBcnJheSA9IEFycmF5LmlzQXJyYXk7XG5leHBvcnQgZnVuY3Rpb24gYXJnc09yQXJnQXJyYXkoYXJncykge1xuICAgIHJldHVybiBhcmdzLmxlbmd0aCA9PT0gMSAmJiBpc0FycmF5KGFyZ3NbMF0pID8gYXJnc1swXSA6IGFyZ3M7XG59XG4vLyMgc291cmNlTWFwcGluZ1VSTD1hcmdzT3JBcmdBcnJheS5qcy5tYXAiLCJpbXBvcnQgeyBPYnNlcnZhYmxlIH0gZnJvbSAnLi4vT2JzZXJ2YWJsZSc7XG5leHBvcnQgdmFyIEVNUFRZID0gbmV3IE9ic2VydmFibGUoZnVuY3Rpb24gKHN1YnNjcmliZXIpIHsgcmV0dXJuIHN1YnNjcmliZXIuY29tcGxldGUoKTsgfSk7XG5leHBvcnQgZnVuY3Rpb24gZW1wdHkoc2NoZWR1bGVyKSB7XG4gICAgcmV0dXJuIHNjaGVkdWxlciA/IGVtcHR5U2NoZWR1bGVkKHNjaGVkdWxlcikgOiBFTVBUWTtcbn1cbmZ1bmN0aW9uIGVtcHR5U2NoZWR1bGVkKHNjaGVkdWxlcikge1xuICAgIHJldHVybiBuZXcgT2JzZXJ2YWJsZShmdW5jdGlvbiAoc3Vic2NyaWJlcikgeyByZXR1cm4gc2NoZWR1bGVyLnNjaGVkdWxlKGZ1bmN0aW9uICgpIHsgcmV0dXJuIHN1YnNjcmliZXIuY29tcGxldGUoKTsgfSk7IH0pO1xufVxuLy8jIHNvdXJjZU1hcHBpbmdVUkw9ZW1wdHkuanMubWFwIiwiaW1wb3J0IHsgX19leHRlbmRzIH0gZnJvbSBcInRzbGliXCI7XG5pbXBvcnQgeyBTdWJzY3JpYmVyIH0gZnJvbSAnLi4vU3Vic2NyaWJlcic7XG52YXIgT3BlcmF0b3JTdWJzY3JpYmVyID0gKGZ1bmN0aW9uIChfc3VwZXIpIHtcbiAgICBfX2V4dGVuZHMoT3BlcmF0b3JTdWJzY3JpYmVyLCBfc3VwZXIpO1xuICAgIGZ1bmN0aW9uIE9wZXJhdG9yU3Vic2NyaWJlcihkZXN0aW5hdGlvbiwgb25OZXh0LCBvbkNvbXBsZXRlLCBvbkVycm9yLCBvbkZpbmFsaXplKSB7XG4gICAgICAgIHZhciBfdGhpcyA9IF9zdXBlci5jYWxsKHRoaXMsIGRlc3RpbmF0aW9uKSB8fCB0aGlzO1xuICAgICAgICBfdGhpcy5vbkZpbmFsaXplID0gb25GaW5hbGl6ZTtcbiAgICAgICAgX3RoaXMuX25leHQgPSBvbk5leHRcbiAgICAgICAgICAgID8gZnVuY3Rpb24gKHZhbHVlKSB7XG4gICAgICAgICAgICAgICAgdHJ5IHtcbiAgICAgICAgICAgICAgICAgICAgb25OZXh0KHZhbHVlKTtcbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgY2F0Y2ggKGVycikge1xuICAgICAgICAgICAgICAgICAgICBkZXN0aW5hdGlvbi5lcnJvcihlcnIpO1xuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIDogX3N1cGVyLnByb3RvdHlwZS5fbmV4dDtcbiAgICAgICAgX3RoaXMuX2Vycm9yID0gb25FcnJvclxuICAgICAgICAgICAgPyBmdW5jdGlvbiAoZXJyKSB7XG4gICAgICAgICAgICAgICAgdHJ5IHtcbiAgICAgICAgICAgICAgICAgICAgb25FcnJvcihlcnIpO1xuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICBjYXRjaCAoZXJyKSB7XG4gICAgICAgICAgICAgICAgICAgIGRlc3RpbmF0aW9uLmVycm9yKGVycik7XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgIGZpbmFsbHkge1xuICAgICAgICAgICAgICAgICAgICB0aGlzLnVuc3Vic2NyaWJlKCk7XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgfVxuICAgICAgICAgICAgOiBfc3VwZXIucHJvdG90eXBlLl9lcnJvcjtcbiAgICAgICAgX3RoaXMuX2NvbXBsZXRlID0gb25Db21wbGV0ZVxuICAgICAgICAgICAgPyBmdW5jdGlvbiAoKSB7XG4gICAgICAgICAgICAgICAgdHJ5IHtcbiAgICAgICAgICAgICAgICAgICAgb25Db21wbGV0ZSgpO1xuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICBjYXRjaCAoZXJyKSB7XG4gICAgICAgICAgICAgICAgICAgIGRlc3RpbmF0aW9uLmVycm9yKGVycik7XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgIGZpbmFsbHkge1xuICAgICAgICAgICAgICAgICAgICB0aGlzLnVuc3Vic2NyaWJlKCk7XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgfVxuICAgICAgICAgICAgOiBfc3VwZXIucHJvdG90eXBlLl9jb21wbGV0ZTtcbiAgICAgICAgcmV0dXJuIF90aGlzO1xuICAgIH1cbiAgICBPcGVyYXRvclN1YnNjcmliZXIucHJvdG90eXBlLnVuc3Vic2NyaWJlID0gZnVuY3Rpb24gKCkge1xuICAgICAgICB2YXIgX2E7XG4gICAgICAgIHZhciBjbG9zZWQgPSB0aGlzLmNsb3NlZDtcbiAgICAgICAgX3N1cGVyLnByb3RvdHlwZS51bnN1YnNjcmliZS5jYWxsKHRoaXMpO1xuICAgICAgICAhY2xvc2VkICYmICgoX2EgPSB0aGlzLm9uRmluYWxpemUpID09PSBudWxsIHx8IF9hID09PSB2b2lkIDAgPyB2b2lkIDAgOiBfYS5jYWxsKHRoaXMpKTtcbiAgICB9O1xuICAgIHJldHVybiBPcGVyYXRvclN1YnNjcmliZXI7XG59KFN1YnNjcmliZXIpKTtcbmV4cG9ydCB7IE9wZXJhdG9yU3Vic2NyaWJlciB9O1xuLy8jIHNvdXJjZU1hcHBpbmdVUkw9T3BlcmF0b3JTdWJzY3JpYmVyLmpzLm1hcCIsImltcG9ydCB7IGlzRnVuY3Rpb24gfSBmcm9tICcuL2lzRnVuY3Rpb24nO1xuZXhwb3J0IGZ1bmN0aW9uIGlzU2NoZWR1bGVyKHZhbHVlKSB7XG4gICAgcmV0dXJuIHZhbHVlICYmIGlzRnVuY3Rpb24odmFsdWUuc2NoZWR1bGUpO1xufVxuLy8jIHNvdXJjZU1hcHBpbmdVUkw9aXNTY2hlZHVsZXIuanMubWFwIiwiaW1wb3J0IHsgaXNGdW5jdGlvbiB9IGZyb20gJy4vaXNGdW5jdGlvbic7XG5pbXBvcnQgeyBpc1NjaGVkdWxlciB9IGZyb20gJy4vaXNTY2hlZHVsZXInO1xuZnVuY3Rpb24gbGFzdChhcnIpIHtcbiAgICByZXR1cm4gYXJyW2Fyci5sZW5ndGggLSAxXTtcbn1cbmV4cG9ydCBmdW5jdGlvbiBwb3BSZXN1bHRTZWxlY3RvcihhcmdzKSB7XG4gICAgcmV0dXJuIGlzRnVuY3Rpb24obGFzdChhcmdzKSkgPyBhcmdzLnBvcCgpIDogdW5kZWZpbmVkO1xufVxuZXhwb3J0IGZ1bmN0aW9uIHBvcFNjaGVkdWxlcihhcmdzKSB7XG4gICAgcmV0dXJuIGlzU2NoZWR1bGVyKGxhc3QoYXJncykpID8gYXJncy5wb3AoKSA6IHVuZGVmaW5lZDtcbn1cbmV4cG9ydCBmdW5jdGlvbiBwb3BOdW1iZXIoYXJncywgZGVmYXVsdFZhbHVlKSB7XG4gICAgcmV0dXJuIHR5cGVvZiBsYXN0KGFyZ3MpID09PSAnbnVtYmVyJyA/IGFyZ3MucG9wKCkgOiBkZWZhdWx0VmFsdWU7XG59XG4vLyMgc291cmNlTWFwcGluZ1VSTD1hcmdzLmpzLm1hcCIsImltcG9ydCB7IGlzRnVuY3Rpb24gfSBmcm9tICcuL2lzRnVuY3Rpb24nO1xuZXhwb3J0IGZ1bmN0aW9uIGhhc0xpZnQoc291cmNlKSB7XG4gICAgcmV0dXJuIGlzRnVuY3Rpb24oc291cmNlID09PSBudWxsIHx8IHNvdXJjZSA9PT0gdm9pZCAwID8gdm9pZCAwIDogc291cmNlLmxpZnQpO1xufVxuZXhwb3J0IGZ1bmN0aW9uIG9wZXJhdGUoaW5pdCkge1xuICAgIHJldHVybiBmdW5jdGlvbiAoc291cmNlKSB7XG4gICAgICAgIGlmIChoYXNMaWZ0KHNvdXJjZSkpIHtcbiAgICAgICAgICAgIHJldHVybiBzb3VyY2UubGlmdChmdW5jdGlvbiAobGlmdGVkU291cmNlKSB7XG4gICAgICAgICAgICAgICAgdHJ5IHtcbiAgICAgICAgICAgICAgICAgICAgcmV0dXJuIGluaXQobGlmdGVkU291cmNlLCB0aGlzKTtcbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgY2F0Y2ggKGVycikge1xuICAgICAgICAgICAgICAgICAgICB0aGlzLmVycm9yKGVycik7XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgfSk7XG4gICAgICAgIH1cbiAgICAgICAgdGhyb3cgbmV3IFR5cGVFcnJvcignVW5hYmxlIHRvIGxpZnQgdW5rbm93biBPYnNlcnZhYmxlIHR5cGUnKTtcbiAgICB9O1xufVxuLy8jIHNvdXJjZU1hcHBpbmdVUkw9bGlmdC5qcy5tYXAiLCJpbXBvcnQgeyBvcGVyYXRlIH0gZnJvbSAnLi4vdXRpbC9saWZ0JztcbmltcG9ydCB7IE9wZXJhdG9yU3Vic2NyaWJlciB9IGZyb20gJy4vT3BlcmF0b3JTdWJzY3JpYmVyJztcbmV4cG9ydCBmdW5jdGlvbiBtYXAocHJvamVjdCwgdGhpc0FyZykge1xuICAgIHJldHVybiBvcGVyYXRlKGZ1bmN0aW9uIChzb3VyY2UsIHN1YnNjcmliZXIpIHtcbiAgICAgICAgdmFyIGluZGV4ID0gMDtcbiAgICAgICAgc291cmNlLnN1YnNjcmliZShuZXcgT3BlcmF0b3JTdWJzY3JpYmVyKHN1YnNjcmliZXIsIGZ1bmN0aW9uICh2YWx1ZSkge1xuICAgICAgICAgICAgc3Vic2NyaWJlci5uZXh0KHByb2plY3QuY2FsbCh0aGlzQXJnLCB2YWx1ZSwgaW5kZXgrKykpO1xuICAgICAgICB9KSk7XG4gICAgfSk7XG59XG4vLyMgc291cmNlTWFwcGluZ1VSTD1tYXAuanMubWFwIiwiaW1wb3J0IHsgbWFwIH0gZnJvbSAnLi9tYXAnO1xuaW1wb3J0IHsgaW5uZXJGcm9tIH0gZnJvbSAnLi4vb2JzZXJ2YWJsZS9mcm9tJztcbmltcG9ydCB7IG9wZXJhdGUgfSBmcm9tICcuLi91dGlsL2xpZnQnO1xuaW1wb3J0IHsgbWVyZ2VJbnRlcm5hbHMgfSBmcm9tICcuL21lcmdlSW50ZXJuYWxzJztcbmltcG9ydCB7IGlzRnVuY3Rpb24gfSBmcm9tICcuLi91dGlsL2lzRnVuY3Rpb24nO1xuZXhwb3J0IGZ1bmN0aW9uIG1lcmdlTWFwKHByb2plY3QsIHJlc3VsdFNlbGVjdG9yLCBjb25jdXJyZW50KSB7XG4gICAgaWYgKGNvbmN1cnJlbnQgPT09IHZvaWQgMCkgeyBjb25jdXJyZW50ID0gSW5maW5pdHk7IH1cbiAgICBpZiAoaXNGdW5jdGlvbihyZXN1bHRTZWxlY3RvcikpIHtcbiAgICAgICAgcmV0dXJuIG1lcmdlTWFwKGZ1bmN0aW9uIChhLCBpKSB7IHJldHVybiBtYXAoZnVuY3Rpb24gKGIsIGlpKSB7IHJldHVybiByZXN1bHRTZWxlY3RvcihhLCBiLCBpLCBpaSk7IH0pKGlubmVyRnJvbShwcm9qZWN0KGEsIGkpKSk7IH0sIGNvbmN1cnJlbnQpO1xuICAgIH1cbiAgICBlbHNlIGlmICh0eXBlb2YgcmVzdWx0U2VsZWN0b3IgPT09ICdudW1iZXInKSB7XG4gICAgICAgIGNvbmN1cnJlbnQgPSByZXN1bHRTZWxlY3RvcjtcbiAgICB9XG4gICAgcmV0dXJuIG9wZXJhdGUoZnVuY3Rpb24gKHNvdXJjZSwgc3Vic2NyaWJlcikgeyByZXR1cm4gbWVyZ2VJbnRlcm5hbHMoc291cmNlLCBzdWJzY3JpYmVyLCBwcm9qZWN0LCBjb25jdXJyZW50KTsgfSk7XG59XG4vLyMgc291cmNlTWFwcGluZ1VSTD1tZXJnZU1hcC5qcy5tYXAiLCJpbXBvcnQgeyBpbm5lckZyb20gfSBmcm9tICcuLi9vYnNlcnZhYmxlL2Zyb20nO1xuaW1wb3J0IHsgT3BlcmF0b3JTdWJzY3JpYmVyIH0gZnJvbSAnLi9PcGVyYXRvclN1YnNjcmliZXInO1xuZXhwb3J0IGZ1bmN0aW9uIG1lcmdlSW50ZXJuYWxzKHNvdXJjZSwgc3Vic2NyaWJlciwgcHJvamVjdCwgY29uY3VycmVudCwgb25CZWZvcmVOZXh0LCBleHBhbmQsIGlubmVyU3ViU2NoZWR1bGVyLCBhZGRpdGlvbmFsVGVhcmRvd24pIHtcbiAgICB2YXIgYnVmZmVyID0gW107XG4gICAgdmFyIGFjdGl2ZSA9IDA7XG4gICAgdmFyIGluZGV4ID0gMDtcbiAgICB2YXIgaXNDb21wbGV0ZSA9IGZhbHNlO1xuICAgIHZhciBjaGVja0NvbXBsZXRlID0gZnVuY3Rpb24gKCkge1xuICAgICAgICBpZiAoaXNDb21wbGV0ZSAmJiAhYnVmZmVyLmxlbmd0aCAmJiAhYWN0aXZlKSB7XG4gICAgICAgICAgICBzdWJzY3JpYmVyLmNvbXBsZXRlKCk7XG4gICAgICAgIH1cbiAgICB9O1xuICAgIHZhciBvdXRlck5leHQgPSBmdW5jdGlvbiAodmFsdWUpIHsgcmV0dXJuIChhY3RpdmUgPCBjb25jdXJyZW50ID8gZG9Jbm5lclN1Yih2YWx1ZSkgOiBidWZmZXIucHVzaCh2YWx1ZSkpOyB9O1xuICAgIHZhciBkb0lubmVyU3ViID0gZnVuY3Rpb24gKHZhbHVlKSB7XG4gICAgICAgIGV4cGFuZCAmJiBzdWJzY3JpYmVyLm5leHQodmFsdWUpO1xuICAgICAgICBhY3RpdmUrKztcbiAgICAgICAgdmFyIGlubmVyQ29tcGxldGUgPSBmYWxzZTtcbiAgICAgICAgaW5uZXJGcm9tKHByb2plY3QodmFsdWUsIGluZGV4KyspKS5zdWJzY3JpYmUobmV3IE9wZXJhdG9yU3Vic2NyaWJlcihzdWJzY3JpYmVyLCBmdW5jdGlvbiAoaW5uZXJWYWx1ZSkge1xuICAgICAgICAgICAgb25CZWZvcmVOZXh0ID09PSBudWxsIHx8IG9uQmVmb3JlTmV4dCA9PT0gdm9pZCAwID8gdm9pZCAwIDogb25CZWZvcmVOZXh0KGlubmVyVmFsdWUpO1xuICAgICAgICAgICAgaWYgKGV4cGFuZCkge1xuICAgICAgICAgICAgICAgIG91dGVyTmV4dChpbm5lclZhbHVlKTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIGVsc2Uge1xuICAgICAgICAgICAgICAgIHN1YnNjcmliZXIubmV4dChpbm5lclZhbHVlKTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgfSwgZnVuY3Rpb24gKCkge1xuICAgICAgICAgICAgaW5uZXJDb21wbGV0ZSA9IHRydWU7XG4gICAgICAgIH0sIHVuZGVmaW5lZCwgZnVuY3Rpb24gKCkge1xuICAgICAgICAgICAgaWYgKGlubmVyQ29tcGxldGUpIHtcbiAgICAgICAgICAgICAgICB0cnkge1xuICAgICAgICAgICAgICAgICAgICBhY3RpdmUtLTtcbiAgICAgICAgICAgICAgICAgICAgdmFyIF9sb29wXzEgPSBmdW5jdGlvbiAoKSB7XG4gICAgICAgICAgICAgICAgICAgICAgICB2YXIgYnVmZmVyZWRWYWx1ZSA9IGJ1ZmZlci5zaGlmdCgpO1xuICAgICAgICAgICAgICAgICAgICAgICAgaW5uZXJTdWJTY2hlZHVsZXIgPyBzdWJzY3JpYmVyLmFkZChpbm5lclN1YlNjaGVkdWxlci5zY2hlZHVsZShmdW5jdGlvbiAoKSB7IHJldHVybiBkb0lubmVyU3ViKGJ1ZmZlcmVkVmFsdWUpOyB9KSkgOiBkb0lubmVyU3ViKGJ1ZmZlcmVkVmFsdWUpO1xuICAgICAgICAgICAgICAgICAgICB9O1xuICAgICAgICAgICAgICAgICAgICB3aGlsZSAoYnVmZmVyLmxlbmd0aCAmJiBhY3RpdmUgPCBjb25jdXJyZW50KSB7XG4gICAgICAgICAgICAgICAgICAgICAgICBfbG9vcF8xKCk7XG4gICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICAgICAgY2hlY2tDb21wbGV0ZSgpO1xuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICBjYXRjaCAoZXJyKSB7XG4gICAgICAgICAgICAgICAgICAgIHN1YnNjcmliZXIuZXJyb3IoZXJyKTtcbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICB9XG4gICAgICAgIH0pKTtcbiAgICB9O1xuICAgIHNvdXJjZS5zdWJzY3JpYmUobmV3IE9wZXJhdG9yU3Vic2NyaWJlcihzdWJzY3JpYmVyLCBvdXRlck5leHQsIGZ1bmN0aW9uICgpIHtcbiAgICAgICAgaXNDb21wbGV0ZSA9IHRydWU7XG4gICAgICAgIGNoZWNrQ29tcGxldGUoKTtcbiAgICB9KSk7XG4gICAgcmV0dXJuIGZ1bmN0aW9uICgpIHtcbiAgICAgICAgYWRkaXRpb25hbFRlYXJkb3duID09PSBudWxsIHx8IGFkZGl0aW9uYWxUZWFyZG93biA9PT0gdm9pZCAwID8gdm9pZCAwIDogYWRkaXRpb25hbFRlYXJkb3duKCk7XG4gICAgfTtcbn1cbi8vIyBzb3VyY2VNYXBwaW5nVVJMPW1lcmdlSW50ZXJuYWxzLmpzLm1hcCIsImltcG9ydCB7IF9fcmVhZCwgX19zcHJlYWRBcnJheSB9IGZyb20gXCJ0c2xpYlwiO1xuaW1wb3J0IHsgbWFwIH0gZnJvbSBcIi4uL29wZXJhdG9ycy9tYXBcIjtcbnZhciBpc0FycmF5ID0gQXJyYXkuaXNBcnJheTtcbmZ1bmN0aW9uIGNhbGxPckFwcGx5KGZuLCBhcmdzKSB7XG4gICAgcmV0dXJuIGlzQXJyYXkoYXJncykgPyBmbi5hcHBseSh2b2lkIDAsIF9fc3ByZWFkQXJyYXkoW10sIF9fcmVhZChhcmdzKSkpIDogZm4oYXJncyk7XG59XG5leHBvcnQgZnVuY3Rpb24gbWFwT25lT3JNYW55QXJncyhmbikge1xuICAgIHJldHVybiBtYXAoZnVuY3Rpb24gKGFyZ3MpIHsgcmV0dXJuIGNhbGxPckFwcGx5KGZuLCBhcmdzKTsgfSk7XG59XG4vLyMgc291cmNlTWFwcGluZ1VSTD1tYXBPbmVPck1hbnlBcmdzLmpzLm1hcCIsImltcG9ydCB7IF9fcmVhZCB9IGZyb20gXCJ0c2xpYlwiO1xuaW1wb3J0IHsgT2JzZXJ2YWJsZSB9IGZyb20gJy4uL09ic2VydmFibGUnO1xuaW1wb3J0IHsgbWVyZ2VNYXAgfSBmcm9tICcuLi9vcGVyYXRvcnMvbWVyZ2VNYXAnO1xuaW1wb3J0IHsgaXNBcnJheUxpa2UgfSBmcm9tICcuLi91dGlsL2lzQXJyYXlMaWtlJztcbmltcG9ydCB7IGlzRnVuY3Rpb24gfSBmcm9tICcuLi91dGlsL2lzRnVuY3Rpb24nO1xuaW1wb3J0IHsgbWFwT25lT3JNYW55QXJncyB9IGZyb20gJy4uL3V0aWwvbWFwT25lT3JNYW55QXJncyc7XG5pbXBvcnQgeyBpbnRlcm5hbEZyb21BcnJheSB9IGZyb20gJy4vZnJvbUFycmF5JztcbnZhciBub2RlRXZlbnRFbWl0dGVyTWV0aG9kcyA9IFsnYWRkTGlzdGVuZXInLCAncmVtb3ZlTGlzdGVuZXInXTtcbnZhciBldmVudFRhcmdldE1ldGhvZHMgPSBbJ2FkZEV2ZW50TGlzdGVuZXInLCAncmVtb3ZlRXZlbnRMaXN0ZW5lciddO1xudmFyIGpxdWVyeU1ldGhvZHMgPSBbJ29uJywgJ29mZiddO1xuZXhwb3J0IGZ1bmN0aW9uIGZyb21FdmVudCh0YXJnZXQsIGV2ZW50TmFtZSwgb3B0aW9ucywgcmVzdWx0U2VsZWN0b3IpIHtcbiAgICBpZiAoaXNGdW5jdGlvbihvcHRpb25zKSkge1xuICAgICAgICByZXN1bHRTZWxlY3RvciA9IG9wdGlvbnM7XG4gICAgICAgIG9wdGlvbnMgPSB1bmRlZmluZWQ7XG4gICAgfVxuICAgIGlmIChyZXN1bHRTZWxlY3Rvcikge1xuICAgICAgICByZXR1cm4gZnJvbUV2ZW50KHRhcmdldCwgZXZlbnROYW1lLCBvcHRpb25zKS5waXBlKG1hcE9uZU9yTWFueUFyZ3MocmVzdWx0U2VsZWN0b3IpKTtcbiAgICB9XG4gICAgdmFyIF9hID0gX19yZWFkKGlzRXZlbnRUYXJnZXQodGFyZ2V0KVxuICAgICAgICA/IGV2ZW50VGFyZ2V0TWV0aG9kcy5tYXAoZnVuY3Rpb24gKG1ldGhvZE5hbWUpIHsgcmV0dXJuIGZ1bmN0aW9uIChoYW5kbGVyKSB7IHJldHVybiB0YXJnZXRbbWV0aG9kTmFtZV0oZXZlbnROYW1lLCBoYW5kbGVyLCBvcHRpb25zKTsgfTsgfSlcbiAgICAgICAgOlxuICAgICAgICAgICAgaXNOb2RlU3R5bGVFdmVudEVtaXR0ZXIodGFyZ2V0KVxuICAgICAgICAgICAgICAgID8gbm9kZUV2ZW50RW1pdHRlck1ldGhvZHMubWFwKHRvQ29tbW9uSGFuZGxlclJlZ2lzdHJ5KHRhcmdldCwgZXZlbnROYW1lKSlcbiAgICAgICAgICAgICAgICA6IGlzSlF1ZXJ5U3R5bGVFdmVudEVtaXR0ZXIodGFyZ2V0KVxuICAgICAgICAgICAgICAgICAgICA/IGpxdWVyeU1ldGhvZHMubWFwKHRvQ29tbW9uSGFuZGxlclJlZ2lzdHJ5KHRhcmdldCwgZXZlbnROYW1lKSlcbiAgICAgICAgICAgICAgICAgICAgOiBbXSwgMiksIGFkZCA9IF9hWzBdLCByZW1vdmUgPSBfYVsxXTtcbiAgICBpZiAoIWFkZCkge1xuICAgICAgICBpZiAoaXNBcnJheUxpa2UodGFyZ2V0KSkge1xuICAgICAgICAgICAgcmV0dXJuIG1lcmdlTWFwKGZ1bmN0aW9uIChzdWJUYXJnZXQpIHsgcmV0dXJuIGZyb21FdmVudChzdWJUYXJnZXQsIGV2ZW50TmFtZSwgb3B0aW9ucyk7IH0pKGludGVybmFsRnJvbUFycmF5KHRhcmdldCkpO1xuICAgICAgICB9XG4gICAgfVxuICAgIGlmICghYWRkKSB7XG4gICAgICAgIHRocm93IG5ldyBUeXBlRXJyb3IoJ0ludmFsaWQgZXZlbnQgdGFyZ2V0Jyk7XG4gICAgfVxuICAgIHJldHVybiBuZXcgT2JzZXJ2YWJsZShmdW5jdGlvbiAoc3Vic2NyaWJlcikge1xuICAgICAgICB2YXIgaGFuZGxlciA9IGZ1bmN0aW9uICgpIHtcbiAgICAgICAgICAgIHZhciBhcmdzID0gW107XG4gICAgICAgICAgICBmb3IgKHZhciBfaSA9IDA7IF9pIDwgYXJndW1lbnRzLmxlbmd0aDsgX2krKykge1xuICAgICAgICAgICAgICAgIGFyZ3NbX2ldID0gYXJndW1lbnRzW19pXTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIHJldHVybiBzdWJzY3JpYmVyLm5leHQoMSA8IGFyZ3MubGVuZ3RoID8gYXJncyA6IGFyZ3NbMF0pO1xuICAgICAgICB9O1xuICAgICAgICBhZGQoaGFuZGxlcik7XG4gICAgICAgIHJldHVybiBmdW5jdGlvbiAoKSB7IHJldHVybiByZW1vdmUoaGFuZGxlcik7IH07XG4gICAgfSk7XG59XG5mdW5jdGlvbiB0b0NvbW1vbkhhbmRsZXJSZWdpc3RyeSh0YXJnZXQsIGV2ZW50TmFtZSkge1xuICAgIHJldHVybiBmdW5jdGlvbiAobWV0aG9kTmFtZSkgeyByZXR1cm4gZnVuY3Rpb24gKGhhbmRsZXIpIHsgcmV0dXJuIHRhcmdldFttZXRob2ROYW1lXShldmVudE5hbWUsIGhhbmRsZXIpOyB9OyB9O1xufVxuZnVuY3Rpb24gaXNOb2RlU3R5bGVFdmVudEVtaXR0ZXIodGFyZ2V0KSB7XG4gICAgcmV0dXJuIGlzRnVuY3Rpb24odGFyZ2V0LmFkZExpc3RlbmVyKSAmJiBpc0Z1bmN0aW9uKHRhcmdldC5yZW1vdmVMaXN0ZW5lcik7XG59XG5mdW5jdGlvbiBpc0pRdWVyeVN0eWxlRXZlbnRFbWl0dGVyKHRhcmdldCkge1xuICAgIHJldHVybiBpc0Z1bmN0aW9uKHRhcmdldC5vbikgJiYgaXNGdW5jdGlvbih0YXJnZXQub2ZmKTtcbn1cbmZ1bmN0aW9uIGlzRXZlbnRUYXJnZXQodGFyZ2V0KSB7XG4gICAgcmV0dXJuIGlzRnVuY3Rpb24odGFyZ2V0LmFkZEV2ZW50TGlzdGVuZXIpICYmIGlzRnVuY3Rpb24odGFyZ2V0LnJlbW92ZUV2ZW50TGlzdGVuZXIpO1xufVxuLy8jIHNvdXJjZU1hcHBpbmdVUkw9ZnJvbUV2ZW50LmpzLm1hcCIsImltcG9ydCB7IHNjaGVkdWxlQXJyYXkgfSBmcm9tICcuLi9zY2hlZHVsZWQvc2NoZWR1bGVBcnJheSc7XG5pbXBvcnQgeyBmcm9tQXJyYXlMaWtlIH0gZnJvbSAnLi9mcm9tJztcbmV4cG9ydCBmdW5jdGlvbiBpbnRlcm5hbEZyb21BcnJheShpbnB1dCwgc2NoZWR1bGVyKSB7XG4gICAgcmV0dXJuIHNjaGVkdWxlciA/IHNjaGVkdWxlQXJyYXkoaW5wdXQsIHNjaGVkdWxlcikgOiBmcm9tQXJyYXlMaWtlKGlucHV0KTtcbn1cbi8vIyBzb3VyY2VNYXBwaW5nVVJMPWZyb21BcnJheS5qcy5tYXAiLCJpbXBvcnQgeyBpbm5lckZyb20gfSBmcm9tICcuLi9vYnNlcnZhYmxlL2Zyb20nO1xuaW1wb3J0IHsgb3BlcmF0ZSB9IGZyb20gJy4uL3V0aWwvbGlmdCc7XG5pbXBvcnQgeyBPcGVyYXRvclN1YnNjcmliZXIgfSBmcm9tICcuL09wZXJhdG9yU3Vic2NyaWJlcic7XG5leHBvcnQgZnVuY3Rpb24gc3dpdGNoTWFwKHByb2plY3QsIHJlc3VsdFNlbGVjdG9yKSB7XG4gICAgcmV0dXJuIG9wZXJhdGUoZnVuY3Rpb24gKHNvdXJjZSwgc3Vic2NyaWJlcikge1xuICAgICAgICB2YXIgaW5uZXJTdWJzY3JpYmVyID0gbnVsbDtcbiAgICAgICAgdmFyIGluZGV4ID0gMDtcbiAgICAgICAgdmFyIGlzQ29tcGxldGUgPSBmYWxzZTtcbiAgICAgICAgdmFyIGNoZWNrQ29tcGxldGUgPSBmdW5jdGlvbiAoKSB7IHJldHVybiBpc0NvbXBsZXRlICYmICFpbm5lclN1YnNjcmliZXIgJiYgc3Vic2NyaWJlci5jb21wbGV0ZSgpOyB9O1xuICAgICAgICBzb3VyY2Uuc3Vic2NyaWJlKG5ldyBPcGVyYXRvclN1YnNjcmliZXIoc3Vic2NyaWJlciwgZnVuY3Rpb24gKHZhbHVlKSB7XG4gICAgICAgICAgICBpbm5lclN1YnNjcmliZXIgPT09IG51bGwgfHwgaW5uZXJTdWJzY3JpYmVyID09PSB2b2lkIDAgPyB2b2lkIDAgOiBpbm5lclN1YnNjcmliZXIudW5zdWJzY3JpYmUoKTtcbiAgICAgICAgICAgIHZhciBpbm5lckluZGV4ID0gMDtcbiAgICAgICAgICAgIHZhciBvdXRlckluZGV4ID0gaW5kZXgrKztcbiAgICAgICAgICAgIGlubmVyRnJvbShwcm9qZWN0KHZhbHVlLCBvdXRlckluZGV4KSkuc3Vic2NyaWJlKChpbm5lclN1YnNjcmliZXIgPSBuZXcgT3BlcmF0b3JTdWJzY3JpYmVyKHN1YnNjcmliZXIsIGZ1bmN0aW9uIChpbm5lclZhbHVlKSB7IHJldHVybiBzdWJzY3JpYmVyLm5leHQocmVzdWx0U2VsZWN0b3IgPyByZXN1bHRTZWxlY3Rvcih2YWx1ZSwgaW5uZXJWYWx1ZSwgb3V0ZXJJbmRleCwgaW5uZXJJbmRleCsrKSA6IGlubmVyVmFsdWUpOyB9LCBmdW5jdGlvbiAoKSB7XG4gICAgICAgICAgICAgICAgaW5uZXJTdWJzY3JpYmVyID0gbnVsbDtcbiAgICAgICAgICAgICAgICBjaGVja0NvbXBsZXRlKCk7XG4gICAgICAgICAgICB9KSkpO1xuICAgICAgICB9LCBmdW5jdGlvbiAoKSB7XG4gICAgICAgICAgICBpc0NvbXBsZXRlID0gdHJ1ZTtcbiAgICAgICAgICAgIGNoZWNrQ29tcGxldGUoKTtcbiAgICAgICAgfSkpO1xuICAgIH0pO1xufVxuLy8jIHNvdXJjZU1hcHBpbmdVUkw9c3dpdGNoTWFwLmpzLm1hcCIsInZhciBpc0FycmF5ID0gQXJyYXkuaXNBcnJheTtcbnZhciBnZXRQcm90b3R5cGVPZiA9IE9iamVjdC5nZXRQcm90b3R5cGVPZiwgb2JqZWN0UHJvdG8gPSBPYmplY3QucHJvdG90eXBlLCBnZXRLZXlzID0gT2JqZWN0LmtleXM7XG5leHBvcnQgZnVuY3Rpb24gYXJnc0FyZ0FycmF5T3JPYmplY3QoYXJncykge1xuICAgIGlmIChhcmdzLmxlbmd0aCA9PT0gMSkge1xuICAgICAgICB2YXIgZmlyc3RfMSA9IGFyZ3NbMF07XG4gICAgICAgIGlmIChpc0FycmF5KGZpcnN0XzEpKSB7XG4gICAgICAgICAgICByZXR1cm4geyBhcmdzOiBmaXJzdF8xLCBrZXlzOiBudWxsIH07XG4gICAgICAgIH1cbiAgICAgICAgaWYgKGlzUE9KTyhmaXJzdF8xKSkge1xuICAgICAgICAgICAgdmFyIGtleXMgPSBnZXRLZXlzKGZpcnN0XzEpO1xuICAgICAgICAgICAgcmV0dXJuIHtcbiAgICAgICAgICAgICAgICBhcmdzOiBrZXlzLm1hcChmdW5jdGlvbiAoa2V5KSB7IHJldHVybiBmaXJzdF8xW2tleV07IH0pLFxuICAgICAgICAgICAgICAgIGtleXM6IGtleXMsXG4gICAgICAgICAgICB9O1xuICAgICAgICB9XG4gICAgfVxuICAgIHJldHVybiB7IGFyZ3M6IGFyZ3MsIGtleXM6IG51bGwgfTtcbn1cbmZ1bmN0aW9uIGlzUE9KTyhvYmopIHtcbiAgICByZXR1cm4gb2JqICYmIHR5cGVvZiBvYmogPT09ICdvYmplY3QnICYmIGdldFByb3RvdHlwZU9mKG9iaikgPT09IG9iamVjdFByb3RvO1xufVxuLy8jIHNvdXJjZU1hcHBpbmdVUkw9YXJnc0FyZ0FycmF5T3JPYmplY3QuanMubWFwIiwiZXhwb3J0IGZ1bmN0aW9uIGNyZWF0ZU9iamVjdChrZXlzLCB2YWx1ZXMpIHtcbiAgICByZXR1cm4ga2V5cy5yZWR1Y2UoZnVuY3Rpb24gKHJlc3VsdCwga2V5LCBpKSB7IHJldHVybiAoKHJlc3VsdFtrZXldID0gdmFsdWVzW2ldKSwgcmVzdWx0KTsgfSwge30pO1xufVxuLy8jIHNvdXJjZU1hcHBpbmdVUkw9Y3JlYXRlT2JqZWN0LmpzLm1hcCIsImltcG9ydCB7IE9ic2VydmFibGUgfSBmcm9tICcuLi9PYnNlcnZhYmxlJztcbmltcG9ydCB7IGFyZ3NBcmdBcnJheU9yT2JqZWN0IH0gZnJvbSAnLi4vdXRpbC9hcmdzQXJnQXJyYXlPck9iamVjdCc7XG5pbXBvcnQgeyBmcm9tIH0gZnJvbSAnLi9mcm9tJztcbmltcG9ydCB7IGlkZW50aXR5IH0gZnJvbSAnLi4vdXRpbC9pZGVudGl0eSc7XG5pbXBvcnQgeyBtYXBPbmVPck1hbnlBcmdzIH0gZnJvbSAnLi4vdXRpbC9tYXBPbmVPck1hbnlBcmdzJztcbmltcG9ydCB7IHBvcFJlc3VsdFNlbGVjdG9yLCBwb3BTY2hlZHVsZXIgfSBmcm9tICcuLi91dGlsL2FyZ3MnO1xuaW1wb3J0IHsgY3JlYXRlT2JqZWN0IH0gZnJvbSAnLi4vdXRpbC9jcmVhdGVPYmplY3QnO1xuaW1wb3J0IHsgT3BlcmF0b3JTdWJzY3JpYmVyIH0gZnJvbSAnLi4vb3BlcmF0b3JzL09wZXJhdG9yU3Vic2NyaWJlcic7XG5leHBvcnQgZnVuY3Rpb24gY29tYmluZUxhdGVzdCgpIHtcbiAgICB2YXIgYXJncyA9IFtdO1xuICAgIGZvciAodmFyIF9pID0gMDsgX2kgPCBhcmd1bWVudHMubGVuZ3RoOyBfaSsrKSB7XG4gICAgICAgIGFyZ3NbX2ldID0gYXJndW1lbnRzW19pXTtcbiAgICB9XG4gICAgdmFyIHNjaGVkdWxlciA9IHBvcFNjaGVkdWxlcihhcmdzKTtcbiAgICB2YXIgcmVzdWx0U2VsZWN0b3IgPSBwb3BSZXN1bHRTZWxlY3RvcihhcmdzKTtcbiAgICB2YXIgX2EgPSBhcmdzQXJnQXJyYXlPck9iamVjdChhcmdzKSwgb2JzZXJ2YWJsZXMgPSBfYS5hcmdzLCBrZXlzID0gX2Eua2V5cztcbiAgICBpZiAob2JzZXJ2YWJsZXMubGVuZ3RoID09PSAwKSB7XG4gICAgICAgIHJldHVybiBmcm9tKFtdLCBzY2hlZHVsZXIpO1xuICAgIH1cbiAgICB2YXIgcmVzdWx0ID0gbmV3IE9ic2VydmFibGUoY29tYmluZUxhdGVzdEluaXQob2JzZXJ2YWJsZXMsIHNjaGVkdWxlciwga2V5c1xuICAgICAgICA/XG4gICAgICAgICAgICBmdW5jdGlvbiAodmFsdWVzKSB7IHJldHVybiBjcmVhdGVPYmplY3Qoa2V5cywgdmFsdWVzKTsgfVxuICAgICAgICA6XG4gICAgICAgICAgICBpZGVudGl0eSkpO1xuICAgIHJldHVybiByZXN1bHRTZWxlY3RvciA/IHJlc3VsdC5waXBlKG1hcE9uZU9yTWFueUFyZ3MocmVzdWx0U2VsZWN0b3IpKSA6IHJlc3VsdDtcbn1cbmV4cG9ydCBmdW5jdGlvbiBjb21iaW5lTGF0ZXN0SW5pdChvYnNlcnZhYmxlcywgc2NoZWR1bGVyLCB2YWx1ZVRyYW5zZm9ybSkge1xuICAgIGlmICh2YWx1ZVRyYW5zZm9ybSA9PT0gdm9pZCAwKSB7IHZhbHVlVHJhbnNmb3JtID0gaWRlbnRpdHk7IH1cbiAgICByZXR1cm4gZnVuY3Rpb24gKHN1YnNjcmliZXIpIHtcbiAgICAgICAgbWF5YmVTY2hlZHVsZShzY2hlZHVsZXIsIGZ1bmN0aW9uICgpIHtcbiAgICAgICAgICAgIHZhciBsZW5ndGggPSBvYnNlcnZhYmxlcy5sZW5ndGg7XG4gICAgICAgICAgICB2YXIgdmFsdWVzID0gbmV3IEFycmF5KGxlbmd0aCk7XG4gICAgICAgICAgICB2YXIgYWN0aXZlID0gbGVuZ3RoO1xuICAgICAgICAgICAgdmFyIHJlbWFpbmluZ0ZpcnN0VmFsdWVzID0gbGVuZ3RoO1xuICAgICAgICAgICAgdmFyIF9sb29wXzEgPSBmdW5jdGlvbiAoaSkge1xuICAgICAgICAgICAgICAgIG1heWJlU2NoZWR1bGUoc2NoZWR1bGVyLCBmdW5jdGlvbiAoKSB7XG4gICAgICAgICAgICAgICAgICAgIHZhciBzb3VyY2UgPSBmcm9tKG9ic2VydmFibGVzW2ldLCBzY2hlZHVsZXIpO1xuICAgICAgICAgICAgICAgICAgICB2YXIgaGFzRmlyc3RWYWx1ZSA9IGZhbHNlO1xuICAgICAgICAgICAgICAgICAgICBzb3VyY2Uuc3Vic2NyaWJlKG5ldyBPcGVyYXRvclN1YnNjcmliZXIoc3Vic2NyaWJlciwgZnVuY3Rpb24gKHZhbHVlKSB7XG4gICAgICAgICAgICAgICAgICAgICAgICB2YWx1ZXNbaV0gPSB2YWx1ZTtcbiAgICAgICAgICAgICAgICAgICAgICAgIGlmICghaGFzRmlyc3RWYWx1ZSkge1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgIGhhc0ZpcnN0VmFsdWUgPSB0cnVlO1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgIHJlbWFpbmluZ0ZpcnN0VmFsdWVzLS07XG4gICAgICAgICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgICAgICAgICBpZiAoIXJlbWFpbmluZ0ZpcnN0VmFsdWVzKSB7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgc3Vic2NyaWJlci5uZXh0KHZhbHVlVHJhbnNmb3JtKHZhbHVlcy5zbGljZSgpKSk7XG4gICAgICAgICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgICAgIH0sIGZ1bmN0aW9uICgpIHtcbiAgICAgICAgICAgICAgICAgICAgICAgIGlmICghLS1hY3RpdmUpIHtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBzdWJzY3JpYmVyLmNvbXBsZXRlKCk7XG4gICAgICAgICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgICAgIH0pKTtcbiAgICAgICAgICAgICAgICB9LCBzdWJzY3JpYmVyKTtcbiAgICAgICAgICAgIH07XG4gICAgICAgICAgICBmb3IgKHZhciBpID0gMDsgaSA8IGxlbmd0aDsgaSsrKSB7XG4gICAgICAgICAgICAgICAgX2xvb3BfMShpKTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgfSwgc3Vic2NyaWJlcik7XG4gICAgfTtcbn1cbmZ1bmN0aW9uIG1heWJlU2NoZWR1bGUoc2NoZWR1bGVyLCBleGVjdXRlLCBzdWJzY3JpcHRpb24pIHtcbiAgICBpZiAoc2NoZWR1bGVyKSB7XG4gICAgICAgIHN1YnNjcmlwdGlvbi5hZGQoc2NoZWR1bGVyLnNjaGVkdWxlKGV4ZWN1dGUpKTtcbiAgICB9XG4gICAgZWxzZSB7XG4gICAgICAgIGV4ZWN1dGUoKTtcbiAgICB9XG59XG4vLyMgc291cmNlTWFwcGluZ1VSTD1jb21iaW5lTGF0ZXN0LmpzLm1hcCIsImltcG9ydCB7IF9fZXh0ZW5kcyB9IGZyb20gXCJ0c2xpYlwiO1xuaW1wb3J0IHsgU3Vic2NyaXB0aW9uIH0gZnJvbSAnLi4vU3Vic2NyaXB0aW9uJztcbnZhciBBY3Rpb24gPSAoZnVuY3Rpb24gKF9zdXBlcikge1xuICAgIF9fZXh0ZW5kcyhBY3Rpb24sIF9zdXBlcik7XG4gICAgZnVuY3Rpb24gQWN0aW9uKHNjaGVkdWxlciwgd29yaykge1xuICAgICAgICByZXR1cm4gX3N1cGVyLmNhbGwodGhpcykgfHwgdGhpcztcbiAgICB9XG4gICAgQWN0aW9uLnByb3RvdHlwZS5zY2hlZHVsZSA9IGZ1bmN0aW9uIChzdGF0ZSwgZGVsYXkpIHtcbiAgICAgICAgaWYgKGRlbGF5ID09PSB2b2lkIDApIHsgZGVsYXkgPSAwOyB9XG4gICAgICAgIHJldHVybiB0aGlzO1xuICAgIH07XG4gICAgcmV0dXJuIEFjdGlvbjtcbn0oU3Vic2NyaXB0aW9uKSk7XG5leHBvcnQgeyBBY3Rpb24gfTtcbi8vIyBzb3VyY2VNYXBwaW5nVVJMPUFjdGlvbi5qcy5tYXAiLCJpbXBvcnQgeyBfX3JlYWQsIF9fc3ByZWFkQXJyYXkgfSBmcm9tIFwidHNsaWJcIjtcbmV4cG9ydCB2YXIgaW50ZXJ2YWxQcm92aWRlciA9IHtcbiAgICBzZXRJbnRlcnZhbDogZnVuY3Rpb24gKCkge1xuICAgICAgICB2YXIgYXJncyA9IFtdO1xuICAgICAgICBmb3IgKHZhciBfaSA9IDA7IF9pIDwgYXJndW1lbnRzLmxlbmd0aDsgX2krKykge1xuICAgICAgICAgICAgYXJnc1tfaV0gPSBhcmd1bWVudHNbX2ldO1xuICAgICAgICB9XG4gICAgICAgIHZhciBkZWxlZ2F0ZSA9IGludGVydmFsUHJvdmlkZXIuZGVsZWdhdGU7XG4gICAgICAgIHJldHVybiAoKGRlbGVnYXRlID09PSBudWxsIHx8IGRlbGVnYXRlID09PSB2b2lkIDAgPyB2b2lkIDAgOiBkZWxlZ2F0ZS5zZXRJbnRlcnZhbCkgfHwgc2V0SW50ZXJ2YWwpLmFwcGx5KHZvaWQgMCwgX19zcHJlYWRBcnJheShbXSwgX19yZWFkKGFyZ3MpKSk7XG4gICAgfSxcbiAgICBjbGVhckludGVydmFsOiBmdW5jdGlvbiAoaGFuZGxlKSB7XG4gICAgICAgIHZhciBkZWxlZ2F0ZSA9IGludGVydmFsUHJvdmlkZXIuZGVsZWdhdGU7XG4gICAgICAgIHJldHVybiAoKGRlbGVnYXRlID09PSBudWxsIHx8IGRlbGVnYXRlID09PSB2b2lkIDAgPyB2b2lkIDAgOiBkZWxlZ2F0ZS5jbGVhckludGVydmFsKSB8fCBjbGVhckludGVydmFsKShoYW5kbGUpO1xuICAgIH0sXG4gICAgZGVsZWdhdGU6IHVuZGVmaW5lZCxcbn07XG4vLyMgc291cmNlTWFwcGluZ1VSTD1pbnRlcnZhbFByb3ZpZGVyLmpzLm1hcCIsImltcG9ydCB7IF9fZXh0ZW5kcyB9IGZyb20gXCJ0c2xpYlwiO1xuaW1wb3J0IHsgQWN0aW9uIH0gZnJvbSAnLi9BY3Rpb24nO1xuaW1wb3J0IHsgaW50ZXJ2YWxQcm92aWRlciB9IGZyb20gJy4vaW50ZXJ2YWxQcm92aWRlcic7XG5pbXBvcnQgeyBhcnJSZW1vdmUgfSBmcm9tICcuLi91dGlsL2FyclJlbW92ZSc7XG52YXIgQXN5bmNBY3Rpb24gPSAoZnVuY3Rpb24gKF9zdXBlcikge1xuICAgIF9fZXh0ZW5kcyhBc3luY0FjdGlvbiwgX3N1cGVyKTtcbiAgICBmdW5jdGlvbiBBc3luY0FjdGlvbihzY2hlZHVsZXIsIHdvcmspIHtcbiAgICAgICAgdmFyIF90aGlzID0gX3N1cGVyLmNhbGwodGhpcywgc2NoZWR1bGVyLCB3b3JrKSB8fCB0aGlzO1xuICAgICAgICBfdGhpcy5zY2hlZHVsZXIgPSBzY2hlZHVsZXI7XG4gICAgICAgIF90aGlzLndvcmsgPSB3b3JrO1xuICAgICAgICBfdGhpcy5wZW5kaW5nID0gZmFsc2U7XG4gICAgICAgIHJldHVybiBfdGhpcztcbiAgICB9XG4gICAgQXN5bmNBY3Rpb24ucHJvdG90eXBlLnNjaGVkdWxlID0gZnVuY3Rpb24gKHN0YXRlLCBkZWxheSkge1xuICAgICAgICBpZiAoZGVsYXkgPT09IHZvaWQgMCkgeyBkZWxheSA9IDA7IH1cbiAgICAgICAgaWYgKHRoaXMuY2xvc2VkKSB7XG4gICAgICAgICAgICByZXR1cm4gdGhpcztcbiAgICAgICAgfVxuICAgICAgICB0aGlzLnN0YXRlID0gc3RhdGU7XG4gICAgICAgIHZhciBpZCA9IHRoaXMuaWQ7XG4gICAgICAgIHZhciBzY2hlZHVsZXIgPSB0aGlzLnNjaGVkdWxlcjtcbiAgICAgICAgaWYgKGlkICE9IG51bGwpIHtcbiAgICAgICAgICAgIHRoaXMuaWQgPSB0aGlzLnJlY3ljbGVBc3luY0lkKHNjaGVkdWxlciwgaWQsIGRlbGF5KTtcbiAgICAgICAgfVxuICAgICAgICB0aGlzLnBlbmRpbmcgPSB0cnVlO1xuICAgICAgICB0aGlzLmRlbGF5ID0gZGVsYXk7XG4gICAgICAgIHRoaXMuaWQgPSB0aGlzLmlkIHx8IHRoaXMucmVxdWVzdEFzeW5jSWQoc2NoZWR1bGVyLCB0aGlzLmlkLCBkZWxheSk7XG4gICAgICAgIHJldHVybiB0aGlzO1xuICAgIH07XG4gICAgQXN5bmNBY3Rpb24ucHJvdG90eXBlLnJlcXVlc3RBc3luY0lkID0gZnVuY3Rpb24gKHNjaGVkdWxlciwgX2lkLCBkZWxheSkge1xuICAgICAgICBpZiAoZGVsYXkgPT09IHZvaWQgMCkgeyBkZWxheSA9IDA7IH1cbiAgICAgICAgcmV0dXJuIGludGVydmFsUHJvdmlkZXIuc2V0SW50ZXJ2YWwoc2NoZWR1bGVyLmZsdXNoLmJpbmQoc2NoZWR1bGVyLCB0aGlzKSwgZGVsYXkpO1xuICAgIH07XG4gICAgQXN5bmNBY3Rpb24ucHJvdG90eXBlLnJlY3ljbGVBc3luY0lkID0gZnVuY3Rpb24gKF9zY2hlZHVsZXIsIGlkLCBkZWxheSkge1xuICAgICAgICBpZiAoZGVsYXkgPT09IHZvaWQgMCkgeyBkZWxheSA9IDA7IH1cbiAgICAgICAgaWYgKGRlbGF5ICE9IG51bGwgJiYgdGhpcy5kZWxheSA9PT0gZGVsYXkgJiYgdGhpcy5wZW5kaW5nID09PSBmYWxzZSkge1xuICAgICAgICAgICAgcmV0dXJuIGlkO1xuICAgICAgICB9XG4gICAgICAgIGludGVydmFsUHJvdmlkZXIuY2xlYXJJbnRlcnZhbChpZCk7XG4gICAgICAgIHJldHVybiB1bmRlZmluZWQ7XG4gICAgfTtcbiAgICBBc3luY0FjdGlvbi5wcm90b3R5cGUuZXhlY3V0ZSA9IGZ1bmN0aW9uIChzdGF0ZSwgZGVsYXkpIHtcbiAgICAgICAgaWYgKHRoaXMuY2xvc2VkKSB7XG4gICAgICAgICAgICByZXR1cm4gbmV3IEVycm9yKCdleGVjdXRpbmcgYSBjYW5jZWxsZWQgYWN0aW9uJyk7XG4gICAgICAgIH1cbiAgICAgICAgdGhpcy5wZW5kaW5nID0gZmFsc2U7XG4gICAgICAgIHZhciBlcnJvciA9IHRoaXMuX2V4ZWN1dGUoc3RhdGUsIGRlbGF5KTtcbiAgICAgICAgaWYgKGVycm9yKSB7XG4gICAgICAgICAgICByZXR1cm4gZXJyb3I7XG4gICAgICAgIH1cbiAgICAgICAgZWxzZSBpZiAodGhpcy5wZW5kaW5nID09PSBmYWxzZSAmJiB0aGlzLmlkICE9IG51bGwpIHtcbiAgICAgICAgICAgIHRoaXMuaWQgPSB0aGlzLnJlY3ljbGVBc3luY0lkKHRoaXMuc2NoZWR1bGVyLCB0aGlzLmlkLCBudWxsKTtcbiAgICAgICAgfVxuICAgIH07XG4gICAgQXN5bmNBY3Rpb24ucHJvdG90eXBlLl9leGVjdXRlID0gZnVuY3Rpb24gKHN0YXRlLCBfZGVsYXkpIHtcbiAgICAgICAgdmFyIGVycm9yZWQgPSBmYWxzZTtcbiAgICAgICAgdmFyIGVycm9yVmFsdWU7XG4gICAgICAgIHRyeSB7XG4gICAgICAgICAgICB0aGlzLndvcmsoc3RhdGUpO1xuICAgICAgICB9XG4gICAgICAgIGNhdGNoIChlKSB7XG4gICAgICAgICAgICBlcnJvcmVkID0gdHJ1ZTtcbiAgICAgICAgICAgIGVycm9yVmFsdWUgPSAoISFlICYmIGUpIHx8IG5ldyBFcnJvcihlKTtcbiAgICAgICAgfVxuICAgICAgICBpZiAoZXJyb3JlZCkge1xuICAgICAgICAgICAgdGhpcy51bnN1YnNjcmliZSgpO1xuICAgICAgICAgICAgcmV0dXJuIGVycm9yVmFsdWU7XG4gICAgICAgIH1cbiAgICB9O1xuICAgIEFzeW5jQWN0aW9uLnByb3RvdHlwZS51bnN1YnNjcmliZSA9IGZ1bmN0aW9uICgpIHtcbiAgICAgICAgaWYgKCF0aGlzLmNsb3NlZCkge1xuICAgICAgICAgICAgdmFyIF9hID0gdGhpcywgaWQgPSBfYS5pZCwgc2NoZWR1bGVyID0gX2Euc2NoZWR1bGVyO1xuICAgICAgICAgICAgdmFyIGFjdGlvbnMgPSBzY2hlZHVsZXIuYWN0aW9ucztcbiAgICAgICAgICAgIHRoaXMud29yayA9IHRoaXMuc3RhdGUgPSB0aGlzLnNjaGVkdWxlciA9IG51bGw7XG4gICAgICAgICAgICB0aGlzLnBlbmRpbmcgPSBmYWxzZTtcbiAgICAgICAgICAgIGFyclJlbW92ZShhY3Rpb25zLCB0aGlzKTtcbiAgICAgICAgICAgIGlmIChpZCAhPSBudWxsKSB7XG4gICAgICAgICAgICAgICAgdGhpcy5pZCA9IHRoaXMucmVjeWNsZUFzeW5jSWQoc2NoZWR1bGVyLCBpZCwgbnVsbCk7XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICB0aGlzLmRlbGF5ID0gbnVsbDtcbiAgICAgICAgICAgIF9zdXBlci5wcm90b3R5cGUudW5zdWJzY3JpYmUuY2FsbCh0aGlzKTtcbiAgICAgICAgfVxuICAgIH07XG4gICAgcmV0dXJuIEFzeW5jQWN0aW9uO1xufShBY3Rpb24pKTtcbmV4cG9ydCB7IEFzeW5jQWN0aW9uIH07XG4vLyMgc291cmNlTWFwcGluZ1VSTD1Bc3luY0FjdGlvbi5qcy5tYXAiLCJleHBvcnQgdmFyIGRhdGVUaW1lc3RhbXBQcm92aWRlciA9IHtcbiAgICBub3c6IGZ1bmN0aW9uICgpIHtcbiAgICAgICAgcmV0dXJuIChkYXRlVGltZXN0YW1wUHJvdmlkZXIuZGVsZWdhdGUgfHwgRGF0ZSkubm93KCk7XG4gICAgfSxcbiAgICBkZWxlZ2F0ZTogdW5kZWZpbmVkLFxufTtcbi8vIyBzb3VyY2VNYXBwaW5nVVJMPWRhdGVUaW1lc3RhbXBQcm92aWRlci5qcy5tYXAiLCJpbXBvcnQgeyBkYXRlVGltZXN0YW1wUHJvdmlkZXIgfSBmcm9tICcuL3NjaGVkdWxlci9kYXRlVGltZXN0YW1wUHJvdmlkZXInO1xudmFyIFNjaGVkdWxlciA9IChmdW5jdGlvbiAoKSB7XG4gICAgZnVuY3Rpb24gU2NoZWR1bGVyKHNjaGVkdWxlckFjdGlvbkN0b3IsIG5vdykge1xuICAgICAgICBpZiAobm93ID09PSB2b2lkIDApIHsgbm93ID0gU2NoZWR1bGVyLm5vdzsgfVxuICAgICAgICB0aGlzLnNjaGVkdWxlckFjdGlvbkN0b3IgPSBzY2hlZHVsZXJBY3Rpb25DdG9yO1xuICAgICAgICB0aGlzLm5vdyA9IG5vdztcbiAgICB9XG4gICAgU2NoZWR1bGVyLnByb3RvdHlwZS5zY2hlZHVsZSA9IGZ1bmN0aW9uICh3b3JrLCBkZWxheSwgc3RhdGUpIHtcbiAgICAgICAgaWYgKGRlbGF5ID09PSB2b2lkIDApIHsgZGVsYXkgPSAwOyB9XG4gICAgICAgIHJldHVybiBuZXcgdGhpcy5zY2hlZHVsZXJBY3Rpb25DdG9yKHRoaXMsIHdvcmspLnNjaGVkdWxlKHN0YXRlLCBkZWxheSk7XG4gICAgfTtcbiAgICBTY2hlZHVsZXIubm93ID0gZGF0ZVRpbWVzdGFtcFByb3ZpZGVyLm5vdztcbiAgICByZXR1cm4gU2NoZWR1bGVyO1xufSgpKTtcbmV4cG9ydCB7IFNjaGVkdWxlciB9O1xuLy8jIHNvdXJjZU1hcHBpbmdVUkw9U2NoZWR1bGVyLmpzLm1hcCIsImltcG9ydCB7IEFzeW5jQWN0aW9uIH0gZnJvbSAnLi9Bc3luY0FjdGlvbic7XG5pbXBvcnQgeyBBc3luY1NjaGVkdWxlciB9IGZyb20gJy4vQXN5bmNTY2hlZHVsZXInO1xuZXhwb3J0IHZhciBhc3luY1NjaGVkdWxlciA9IG5ldyBBc3luY1NjaGVkdWxlcihBc3luY0FjdGlvbik7XG5leHBvcnQgdmFyIGFzeW5jID0gYXN5bmNTY2hlZHVsZXI7XG4vLyMgc291cmNlTWFwcGluZ1VSTD1hc3luYy5qcy5tYXAiLCJpbXBvcnQgeyBfX2V4dGVuZHMgfSBmcm9tIFwidHNsaWJcIjtcbmltcG9ydCB7IFNjaGVkdWxlciB9IGZyb20gJy4uL1NjaGVkdWxlcic7XG52YXIgQXN5bmNTY2hlZHVsZXIgPSAoZnVuY3Rpb24gKF9zdXBlcikge1xuICAgIF9fZXh0ZW5kcyhBc3luY1NjaGVkdWxlciwgX3N1cGVyKTtcbiAgICBmdW5jdGlvbiBBc3luY1NjaGVkdWxlcihTY2hlZHVsZXJBY3Rpb24sIG5vdykge1xuICAgICAgICBpZiAobm93ID09PSB2b2lkIDApIHsgbm93ID0gU2NoZWR1bGVyLm5vdzsgfVxuICAgICAgICB2YXIgX3RoaXMgPSBfc3VwZXIuY2FsbCh0aGlzLCBTY2hlZHVsZXJBY3Rpb24sIG5vdykgfHwgdGhpcztcbiAgICAgICAgX3RoaXMuYWN0aW9ucyA9IFtdO1xuICAgICAgICBfdGhpcy5fYWN0aXZlID0gZmFsc2U7XG4gICAgICAgIF90aGlzLl9zY2hlZHVsZWQgPSB1bmRlZmluZWQ7XG4gICAgICAgIHJldHVybiBfdGhpcztcbiAgICB9XG4gICAgQXN5bmNTY2hlZHVsZXIucHJvdG90eXBlLmZsdXNoID0gZnVuY3Rpb24gKGFjdGlvbikge1xuICAgICAgICB2YXIgYWN0aW9ucyA9IHRoaXMuYWN0aW9ucztcbiAgICAgICAgaWYgKHRoaXMuX2FjdGl2ZSkge1xuICAgICAgICAgICAgYWN0aW9ucy5wdXNoKGFjdGlvbik7XG4gICAgICAgICAgICByZXR1cm47XG4gICAgICAgIH1cbiAgICAgICAgdmFyIGVycm9yO1xuICAgICAgICB0aGlzLl9hY3RpdmUgPSB0cnVlO1xuICAgICAgICBkbyB7XG4gICAgICAgICAgICBpZiAoKGVycm9yID0gYWN0aW9uLmV4ZWN1dGUoYWN0aW9uLnN0YXRlLCBhY3Rpb24uZGVsYXkpKSkge1xuICAgICAgICAgICAgICAgIGJyZWFrO1xuICAgICAgICAgICAgfVxuICAgICAgICB9IHdoaWxlICgoYWN0aW9uID0gYWN0aW9ucy5zaGlmdCgpKSk7XG4gICAgICAgIHRoaXMuX2FjdGl2ZSA9IGZhbHNlO1xuICAgICAgICBpZiAoZXJyb3IpIHtcbiAgICAgICAgICAgIHdoaWxlICgoYWN0aW9uID0gYWN0aW9ucy5zaGlmdCgpKSkge1xuICAgICAgICAgICAgICAgIGFjdGlvbi51bnN1YnNjcmliZSgpO1xuICAgICAgICAgICAgfVxuICAgICAgICAgICAgdGhyb3cgZXJyb3I7XG4gICAgICAgIH1cbiAgICB9O1xuICAgIHJldHVybiBBc3luY1NjaGVkdWxlcjtcbn0oU2NoZWR1bGVyKSk7XG5leHBvcnQgeyBBc3luY1NjaGVkdWxlciB9O1xuLy8jIHNvdXJjZU1hcHBpbmdVUkw9QXN5bmNTY2hlZHVsZXIuanMubWFwIiwiaW1wb3J0IHsgY29tYmluZUxhdGVzdCwgZnJvbSwgaW50ZXJ2YWwsIE9ic2VydmFibGUgfSBmcm9tIFwicnhqc1wiO1xyXG5pbXBvcnQgeyBtYXAsIHN3aXRjaE1hcCB9IGZyb20gXCJyeGpzL29wZXJhdG9yc1wiO1xyXG5jb25zdCBBUElfVVJMID0gXCJodHRwOi8vbG9jYWxob3N0OjMwMDAvXCI7XHJcbmV4cG9ydCBjbGFzcyBjYXJkQ29sbGVjdGlvbkNvbnRyb2xsZXIge1xyXG4gICAgY29uc3RydWN0b3IoKSB7XHJcbiAgICAgICAgdGhpcy5sb2FkRGJtc0NhcmQoKTtcclxuICAgICAgICB0aGlzLnJhbmRvbUNhcmRPcmRlciA9IFtdO1xyXG4gICAgfVxyXG4gICAgbG9hZERibXNDYXJkKCkge1xyXG4gICAgICAgIHRoaXMuY2FyZENvbGxlY3Rpb25PYnNlcnZhYmxlID0gdGhpcy5nZXRBbGxDYXJkc09ic2VydmFibGVGcm9tSnNvblNlcnZlcihcIlwiLCBcIlwiKTtcclxuICAgICAgICB0aGlzLmNhcmRDb2xsZWN0aW9uT2JzZXJ2YWJsZS5zdWJzY3JpYmUoKGNhcmRzKSA9PiB7XHJcbiAgICAgICAgICAgIHRoaXMucmFuZG9tT3JkZXJTb3J0ZXIoY2FyZHMpO1xyXG4gICAgICAgIH0pO1xyXG4gICAgfVxyXG4gICAgZ2V0QWxsQ2FyZHNPYnNlcnZhYmxlRnJvbUpzb25TZXJ2ZXIoc2VhcmNoZWQsIHR5cGUpIHtcclxuICAgICAgICB0eXBlID0gdHlwZS50b0xvd2VyQ2FzZSgpO1xyXG4gICAgICAgIGlmIChzZWFyY2hlZCA9PT0gXCJcIikge1xyXG4gICAgICAgICAgICB2YXIgZmV0Y2hBcGkgPSBmZXRjaChBUElfVVJMICsgXCJjYXJkc1wiKTtcclxuICAgICAgICB9IC8vP3RpdGxlPUNlbHRpYyUyMEd1YXJkaWFuXHJcbiAgICAgICAgZWxzZSB7XHJcbiAgICAgICAgICAgIHZhciBmZXRjaEFwaSA9IGZldGNoKEFQSV9VUkwgKyBcImNhcmRzXCIgKyBgPyR7dHlwZX09YCArIHNlYXJjaGVkKTtcclxuICAgICAgICB9XHJcbiAgICAgICAgdmFyIGZldGNoVmFyID0gZmV0Y2hBcGlcclxuICAgICAgICAgICAgLnRoZW4oKHJlc3BvbnNlKSA9PiB7XHJcbiAgICAgICAgICAgIGlmICghcmVzcG9uc2Uub2spIHtcclxuICAgICAgICAgICAgICAgIHRocm93IG5ldyBFcnJvcihcIkNhcmRzIG5vdCBmb3VuZFwiKTtcclxuICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICBlbHNlIHtcclxuICAgICAgICAgICAgICAgIHJldHVybiByZXNwb25zZS5qc29uKCk7XHJcbiAgICAgICAgICAgIH1cclxuICAgICAgICB9KVxyXG4gICAgICAgICAgICAuY2F0Y2goKGVycikgPT4gY29uc29sZS5sb2coYEVycm9yIGAsIGVycikpO1xyXG4gICAgICAgIHJldHVybiBmcm9tKGZldGNoVmFyKTtcclxuICAgIH1cclxuICAgIGRlbGV0ZUNhcmQoY2FyZCkge1xyXG4gICAgICAgIHJldHVybiB0aGlzLmNhcmRDb2xsZWN0aW9uT2JzZXJ2YWJsZS5waXBlKG1hcCgob2JzQ2FyZCkgPT4gb2JzQ2FyZC5maWx0ZXIoKHNpbmdsZU9ic2NhcmQpID0+IHNpbmdsZU9ic2NhcmQgIT09IGNhcmQpKSk7XHJcbiAgICB9XHJcbiAgICBjaGVja0NhcmRBdHRyaWJ1dGVGb3JTZWFyY2goY2FyZCwgY2F0ZWdvcnkpIHtcclxuICAgICAgICBjYXRlZ29yeSA9IGNhdGVnb3J5LnRvTG93ZXJDYXNlKCk7XHJcbiAgICAgICAgaWYgKGNhdGVnb3J5ID09PSBcImF0dGFja1wiKSB7XHJcbiAgICAgICAgICAgIHJldHVybiBjYXJkLmF0dGFjaztcclxuICAgICAgICB9XHJcbiAgICAgICAgZWxzZSBpZiAoY2F0ZWdvcnkgPT09IFwiZGVmZmVuc2VcIikge1xyXG4gICAgICAgICAgICByZXR1cm4gY2FyZC5kZWZmZW5zZTtcclxuICAgICAgICB9XHJcbiAgICAgICAgZWxzZSBpZiAoY2F0ZWdvcnkgPT09IFwidGl0bGVcIikge1xyXG4gICAgICAgICAgICByZXR1cm4gY2FyZC50aXRsZTtcclxuICAgICAgICB9XHJcbiAgICAgICAgZWxzZSB7XHJcbiAgICAgICAgICAgIHJldHVybiBjYXJkLnN0YXJzO1xyXG4gICAgICAgIH1cclxuICAgIH1cclxuICAgIHNlYXJjaChzZWFyY2hlZFZhbHVlLCBjYXRlZ29yeSkge1xyXG4gICAgICAgIGlmIChzZWFyY2hlZFZhbHVlICE9PSBcIlwiKVxyXG4gICAgICAgICAgICByZXR1cm4gZnJvbSh0aGlzLmNhcmRDb2xsZWN0aW9uT2JzZXJ2YWJsZS5waXBlKG1hcCgoY2FyZHMpID0+IGNhcmRzLmZpbHRlcigoY2FyZCkgPT4gdGhpcy5jaGVja0NhcmRBdHRyaWJ1dGVGb3JTZWFyY2goY2FyZCwgY2F0ZWdvcnkpID09XHJcbiAgICAgICAgICAgICAgICBzZWFyY2hlZFZhbHVlKSkpKTtcclxuICAgICAgICBlbHNlIHtcclxuICAgICAgICAgICAgcmV0dXJuIHRoaXMuY2FyZENvbGxlY3Rpb25PYnNlcnZhYmxlO1xyXG4gICAgICAgIH1cclxuICAgIH1cclxuICAgIHNlYXJjaE9ic2VydmFibGUoKSB7XHJcbiAgICAgICAgcmV0dXJuIGNvbWJpbmVMYXRlc3QoW2NvbWJvQm94T2JzZXJ2YWJsZSwga2V5Ym9hcmRJbnB1T2JzZXJ2YWJsZV0pLnBpcGUoc3dpdGNoTWFwKChjYXJkKSA9PiB0aGlzLnNlYXJjaChjYXJkWzFdLCBjYXJkWzBdKSkpO1xyXG4gICAgfVxyXG4gICAgZ2V0Q2FyZENvbGxlY3Rpb25TdHJlYW0oKSB7XHJcbiAgICAgICAgY29uc29sZS5sb2coXCJjYXJkQ29sbGVjdGlvblN0cmVhbVwiKTtcclxuICAgICAgICByZXR1cm4gaW50ZXJ2YWwoNTAwKS5waXBlKG1hcCgoZW1pdCkgPT4gdGhpcy5jYXJkQ29sbGVjdGlvbk9ic2VydmFibGUpKTtcclxuICAgIH1cclxuICAgIHNvcnQoKSB7XHJcbiAgICAgICAgcmV0dXJuIGZyb20odGhpcy5jYXJkQ29sbGVjdGlvbk9ic2VydmFibGUucGlwZShtYXAoKGNhcmRzKSA9PiB0aGlzLnJhbmRvbU9yZGVyU29ydGVyKGNhcmRzKSkpKTtcclxuICAgIH1cclxuICAgIHJhbmRvbU9yZGVyUHJvbWlzZUdlbmVyYXRvcihsZW5ndGgpIHtcclxuICAgICAgICBjb25zb2xlLmxvZyhcImdlbmVyaXNhbiBicm9qXCIpO1xyXG4gICAgICAgIHJldHVybiBuZXcgUHJvbWlzZSgocmVzb2x2ZSwgcmVqZWN0KSA9PiB7XHJcbiAgICAgICAgICAgIGxldCByYW5kb21FbGVtZW50T3JkZXIgPSBbXTtcclxuICAgICAgICAgICAgbGV0IGNvdW50ID0gMDtcclxuICAgICAgICAgICAgbGV0IHRlbXAgPSAwO1xyXG4gICAgICAgICAgICBsZXQgZXhpc3RzID0gZmFsc2U7XHJcbiAgICAgICAgICAgIGxldCByYW5kb20gPSAwO1xyXG4gICAgICAgICAgICB3aGlsZSAoY291bnQgIT09IGxlbmd0aCkge1xyXG4gICAgICAgICAgICAgICAgZXhpc3RzID0gZmFsc2U7XHJcbiAgICAgICAgICAgICAgICByYW5kb20gPSBNYXRoLnJvdW5kKE1hdGgucmFuZG9tKCkgKiBsZW5ndGgpO1xyXG4gICAgICAgICAgICAgICAgaWYgKGNvdW50ID09PSAwKSB7XHJcbiAgICAgICAgICAgICAgICAgICAgcmFuZG9tRWxlbWVudE9yZGVyLnB1c2gocmFuZG9tKTtcclxuICAgICAgICAgICAgICAgICAgICBjb3VudCsrO1xyXG4gICAgICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICAgICAgZWxzZSB7XHJcbiAgICAgICAgICAgICAgICAgICAgcmFuZG9tRWxlbWVudE9yZGVyLmZvckVhY2goKGVsLCBpbmVkeCkgPT4ge1xyXG4gICAgICAgICAgICAgICAgICAgICAgICBpZiAocmFuZG9tID09PSBlbCkge1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgZXhpc3RzID0gdHJ1ZTtcclxuICAgICAgICAgICAgICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICAgICAgICAgIH0pO1xyXG4gICAgICAgICAgICAgICAgICAgIGlmIChleGlzdHMgPT09IGZhbHNlKSB7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIHJhbmRvbUVsZW1lbnRPcmRlci5wdXNoKHJhbmRvbSk7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIGNvdW50Kys7XHJcbiAgICAgICAgICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICB9XHJcbiAgICAgICAgICAgIC8vY29uc29sZS5sb2cocmFuZG9tRWxlbWVudE9yZGVyKTtcclxuICAgICAgICAgICAgcmVzb2x2ZShyYW5kb21FbGVtZW50T3JkZXIpO1xyXG4gICAgICAgIH0pO1xyXG4gICAgfVxyXG4gICAgcmFkbm9tT3JkZXJTb3J0ZXJUZXN0KGNhcmRzKSB7XHJcbiAgICAgICAgbGV0IHRlbXBDYXJkcyA9IFtdO1xyXG4gICAgICAgIHRoaXMucmFuZG9tQ2FyZE9yZGVyLmZvckVhY2goKGVsLCBpbmRleCkgPT4ge1xyXG4gICAgICAgICAgICB0ZW1wQ2FyZHMucHVzaChjYXJkc1tlbF0pO1xyXG4gICAgICAgIH0pO1xyXG4gICAgICAgIHJldHVybiB0ZW1wQ2FyZHM7XHJcbiAgICB9XHJcbiAgICBhc3luYyByYW5kb21PcmRlclNvcnRlcihjYXJkcykge1xyXG4gICAgICAgIHRoaXMucmFuZG9tQ2FyZE9yZGVyID0gYXdhaXQgdGhpcy5yYW5kb21PcmRlclByb21pc2VHZW5lcmF0b3IoY2FyZHMubGVuZ3RoIC0gMSk7XHJcbiAgICAgICAgLy9sZXQgdGVtcENhcmRzOiBDYXJkW10gPSBbXTtcclxuICAgICAgICAvLyBhcnJheS5mb3JFYWNoKChlbCwgaW5kZXgpID0+IHtcclxuICAgICAgICAvLyAgIHRlbXBDYXJkcy5wdXNoKGNhcmRzW2VsXSk7XHJcbiAgICAgICAgLy8gfSk7XHJcbiAgICAgICAgLy8gcmV0dXJuIHRlbXBDYXJkcztcclxuICAgIH1cclxufVxyXG5mdW5jdGlvbiByYW5kb21PcmRlclByb21pc2VHZW5lcmF0b3IobGVuZ3RoKSB7XHJcbiAgICBjb25zb2xlLmxvZyhcImdlbmVyaXNhbiBicm9qXCIpO1xyXG4gICAgcmV0dXJuIG5ldyBQcm9taXNlKChyZXNvbHZlLCByZWplY3QpID0+IHtcclxuICAgICAgICBsZXQgcmFuZG9tRWxlbWVudE9yZGVyID0gW107XHJcbiAgICAgICAgbGV0IGNvdW50ID0gMDtcclxuICAgICAgICBsZXQgdGVtcCA9IDA7XHJcbiAgICAgICAgbGV0IGV4aXN0cyA9IGZhbHNlO1xyXG4gICAgICAgIGxldCByYW5kb20gPSAwO1xyXG4gICAgICAgIHdoaWxlIChjb3VudCAhPT0gbGVuZ3RoKSB7XHJcbiAgICAgICAgICAgIGV4aXN0cyA9IGZhbHNlO1xyXG4gICAgICAgICAgICByYW5kb20gPSBNYXRoLnJvdW5kKE1hdGgucmFuZG9tKCkgKiBsZW5ndGgpO1xyXG4gICAgICAgICAgICBpZiAoY291bnQgPT09IDApIHtcclxuICAgICAgICAgICAgICAgIHJhbmRvbUVsZW1lbnRPcmRlci5wdXNoKHJhbmRvbSk7XHJcbiAgICAgICAgICAgICAgICBjb3VudCsrO1xyXG4gICAgICAgICAgICB9XHJcbiAgICAgICAgICAgIGVsc2Uge1xyXG4gICAgICAgICAgICAgICAgcmFuZG9tRWxlbWVudE9yZGVyLmZvckVhY2goKGVsLCBpbmVkeCkgPT4ge1xyXG4gICAgICAgICAgICAgICAgICAgIGlmIChyYW5kb20gPT09IGVsKSB7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIGV4aXN0cyA9IHRydWU7XHJcbiAgICAgICAgICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICAgICAgfSk7XHJcbiAgICAgICAgICAgICAgICBpZiAoZXhpc3RzID09PSBmYWxzZSkge1xyXG4gICAgICAgICAgICAgICAgICAgIHJhbmRvbUVsZW1lbnRPcmRlci5wdXNoKHJhbmRvbSk7XHJcbiAgICAgICAgICAgICAgICAgICAgY291bnQrKztcclxuICAgICAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgfVxyXG4gICAgICAgIH1cclxuICAgICAgICAvL2NvbnNvbGUubG9nKHJhbmRvbUVsZW1lbnRPcmRlcik7XHJcbiAgICAgICAgcmVzb2x2ZShyYW5kb21FbGVtZW50T3JkZXIpO1xyXG4gICAgfSk7XHJcbn1cclxuZnVuY3Rpb24gY29tYm9Cb3hWYWx1ZSgpIHtcclxuICAgIHZhciBjb21ib0JveCA9IGRvY3VtZW50LmdldEVsZW1lbnRzQnlDbGFzc05hbWUoXCJjb21ib0JveElucHV0XCIpO1xyXG4gICAgcmV0dXJuIGNvbWJvQm94WzBdLnZhbHVlO1xyXG59XHJcbmZ1bmN0aW9uIGtleWJvYXJkVmFsdWUoKSB7XHJcbiAgICB2YXIgaW5wdXRCb3ggPSBkb2N1bWVudC5nZXRFbGVtZW50c0J5Q2xhc3NOYW1lKFwic2VhcmNoSW5wdXRcIik7XHJcbiAgICByZXR1cm4gaW5wdXRCb3hbMF0udmFsdWU7XHJcbn1cclxuY29uc3QgY29tYm9Cb3hPYnNlcnZhYmxlID0gbmV3IE9ic2VydmFibGUoKGNvbWJvQm94KSA9PiB7XHJcbiAgICBzZXRJbnRlcnZhbCgoKSA9PiB7XHJcbiAgICAgICAgY29tYm9Cb3gubmV4dChjb21ib0JveFZhbHVlKCkpO1xyXG4gICAgfSwgMTAwMCk7XHJcbn0pO1xyXG5jb25zdCBrZXlib2FyZElucHVPYnNlcnZhYmxlID0gbmV3IE9ic2VydmFibGUoKGlucHV0KSA9PiB7XHJcbiAgICBzZXRJbnRlcnZhbCgoKSA9PiB7XHJcbiAgICAgICAgaW5wdXQubmV4dChrZXlib2FyZFZhbHVlKCkpO1xyXG4gICAgfSwgMTAwMCk7XHJcbn0pO1xyXG4iLCJpbXBvcnQgeyBhc3luY1NjaGVkdWxlciB9IGZyb20gJy4uL3NjaGVkdWxlci9hc3luYyc7XG5pbXBvcnQgeyB0aW1lciB9IGZyb20gJy4vdGltZXInO1xuZXhwb3J0IGZ1bmN0aW9uIGludGVydmFsKHBlcmlvZCwgc2NoZWR1bGVyKSB7XG4gICAgaWYgKHBlcmlvZCA9PT0gdm9pZCAwKSB7IHBlcmlvZCA9IDA7IH1cbiAgICBpZiAoc2NoZWR1bGVyID09PSB2b2lkIDApIHsgc2NoZWR1bGVyID0gYXN5bmNTY2hlZHVsZXI7IH1cbiAgICBpZiAocGVyaW9kIDwgMCkge1xuICAgICAgICBwZXJpb2QgPSAwO1xuICAgIH1cbiAgICByZXR1cm4gdGltZXIocGVyaW9kLCBwZXJpb2QsIHNjaGVkdWxlcik7XG59XG4vLyMgc291cmNlTWFwcGluZ1VSTD1pbnRlcnZhbC5qcy5tYXAiLCJpbXBvcnQgeyBPYnNlcnZhYmxlIH0gZnJvbSAnLi4vT2JzZXJ2YWJsZSc7XG5pbXBvcnQgeyBhc3luYyBhcyBhc3luY1NjaGVkdWxlciB9IGZyb20gJy4uL3NjaGVkdWxlci9hc3luYyc7XG5pbXBvcnQgeyBpc1NjaGVkdWxlciB9IGZyb20gJy4uL3V0aWwvaXNTY2hlZHVsZXInO1xuaW1wb3J0IHsgaXNWYWxpZERhdGUgfSBmcm9tICcuLi91dGlsL2lzRGF0ZSc7XG5leHBvcnQgZnVuY3Rpb24gdGltZXIoZHVlVGltZSwgaW50ZXJ2YWxPclNjaGVkdWxlciwgc2NoZWR1bGVyKSB7XG4gICAgaWYgKGR1ZVRpbWUgPT09IHZvaWQgMCkgeyBkdWVUaW1lID0gMDsgfVxuICAgIGlmIChzY2hlZHVsZXIgPT09IHZvaWQgMCkgeyBzY2hlZHVsZXIgPSBhc3luY1NjaGVkdWxlcjsgfVxuICAgIHZhciBpbnRlcnZhbER1cmF0aW9uID0gLTE7XG4gICAgaWYgKGludGVydmFsT3JTY2hlZHVsZXIgIT0gbnVsbCkge1xuICAgICAgICBpZiAoaXNTY2hlZHVsZXIoaW50ZXJ2YWxPclNjaGVkdWxlcikpIHtcbiAgICAgICAgICAgIHNjaGVkdWxlciA9IGludGVydmFsT3JTY2hlZHVsZXI7XG4gICAgICAgIH1cbiAgICAgICAgZWxzZSB7XG4gICAgICAgICAgICBpbnRlcnZhbER1cmF0aW9uID0gaW50ZXJ2YWxPclNjaGVkdWxlcjtcbiAgICAgICAgfVxuICAgIH1cbiAgICByZXR1cm4gbmV3IE9ic2VydmFibGUoZnVuY3Rpb24gKHN1YnNjcmliZXIpIHtcbiAgICAgICAgdmFyIGR1ZSA9IGlzVmFsaWREYXRlKGR1ZVRpbWUpID8gK2R1ZVRpbWUgLSBzY2hlZHVsZXIubm93KCkgOiBkdWVUaW1lO1xuICAgICAgICBpZiAoZHVlIDwgMCkge1xuICAgICAgICAgICAgZHVlID0gMDtcbiAgICAgICAgfVxuICAgICAgICB2YXIgbiA9IDA7XG4gICAgICAgIHJldHVybiBzY2hlZHVsZXIuc2NoZWR1bGUoZnVuY3Rpb24gKCkge1xuICAgICAgICAgICAgaWYgKCFzdWJzY3JpYmVyLmNsb3NlZCkge1xuICAgICAgICAgICAgICAgIHN1YnNjcmliZXIubmV4dChuKyspO1xuICAgICAgICAgICAgICAgIGlmICgwIDw9IGludGVydmFsRHVyYXRpb24pIHtcbiAgICAgICAgICAgICAgICAgICAgdGhpcy5zY2hlZHVsZSh1bmRlZmluZWQsIGludGVydmFsRHVyYXRpb24pO1xuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICBlbHNlIHtcbiAgICAgICAgICAgICAgICAgICAgc3Vic2NyaWJlci5jb21wbGV0ZSgpO1xuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgIH1cbiAgICAgICAgfSwgZHVlKTtcbiAgICB9KTtcbn1cbi8vIyBzb3VyY2VNYXBwaW5nVVJMPXRpbWVyLmpzLm1hcCIsImV4cG9ydCBmdW5jdGlvbiBpc1ZhbGlkRGF0ZSh2YWx1ZSkge1xuICAgIHJldHVybiB2YWx1ZSBpbnN0YW5jZW9mIERhdGUgJiYgIWlzTmFOKHZhbHVlKTtcbn1cbi8vIyBzb3VyY2VNYXBwaW5nVVJMPWlzRGF0ZS5qcy5tYXAiLCJpbXBvcnQgeyBmcm9tRXZlbnQsIE9ic2VydmFibGUsIHppcCB9IGZyb20gXCJyeGpzXCI7XHJcbmltcG9ydCB7IG1hcCwgc3dpdGNoTWFwIH0gZnJvbSBcInJ4anMvb3BlcmF0b3JzXCI7XHJcbmltcG9ydCB7IGNhcmRDb2xsZWN0aW9uQ29udHJvbGxlciB9IGZyb20gXCIuLi9tb2RlbHMvY2FyZENvbGxlY3Rpb25cIjtcclxuZXhwb3J0IGNsYXNzIGNhcmRDb2xsZWN0aW9uVUkge1xyXG4gICAgY29uc3RydWN0b3IoKSB7XHJcbiAgICAgICAgdGhpcy50ZXN0Q2FyZHMgPSBbXTtcclxuICAgICAgICB0aGlzLmNhcmRDb2xsZWN0aW9uID0gbmV3IGNhcmRDb2xsZWN0aW9uQ29udHJvbGxlcigpO1xyXG4gICAgfVxyXG4gICAgZHJhd0xpc3QoKSB7XHJcbiAgICAgICAgZG9jdW1lbnQuZ2V0RWxlbWVudEJ5SWQoXCJjYXJkRGV0YWlsXCIpLmlubmVySFRNTCA9IFwiXCI7XHJcbiAgICAgICAgZG9jdW1lbnQuZ2V0RWxlbWVudEJ5SWQoXCJvdXRwdXRcIikuaW5uZXJIVE1MID0gXCJcIjtcclxuICAgICAgICB0aGlzLnRlc3RTdWJzY3JpcHRpb24gPSB0aGlzLmNhcmRDb2xsZWN0aW9uLmNhcmRDb2xsZWN0aW9uT2JzZXJ2YWJsZVxyXG4gICAgICAgICAgICAucGlwZShzd2l0Y2hNYXAoKGNhcmRzKSA9PiB0aGlzLmNhcmRDb2xsZWN0aW9uLnNlYXJjaE9ic2VydmFibGUoKSkpXHJcbiAgICAgICAgICAgIC5zdWJzY3JpYmUoKGNhcmRzKSA9PiB7XHJcbiAgICAgICAgICAgIGNvbnNvbGUubG9nKFwic3Vic2NyaWJlXCIpO1xyXG4gICAgICAgICAgICBpZiAoY2FyZHNbMF0gIT09IHVuZGVmaW5lZCkge1xyXG4gICAgICAgICAgICAgICAgaWYgKGNhcmRzWzBdLnRpdGxlICE9PSBcIlwiKSB7XHJcbiAgICAgICAgICAgICAgICAgICAgY2xlYXJDYXJkRGl2KCk7XHJcbiAgICAgICAgICAgICAgICAgICAgY2FyZHMuZm9yRWFjaCgoZWwpID0+IHtcclxuICAgICAgICAgICAgICAgICAgICAgICAgdGhpcy5hZGRJdGVtKGVsKTtcclxuICAgICAgICAgICAgICAgICAgICB9KTtcclxuICAgICAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgfVxyXG4gICAgICAgIH0pO1xyXG4gICAgfVxyXG4gICAgdGVzdFNvcnRCdXR0b24oY2FyZHMpIHtcclxuICAgICAgICByZXR1cm4gemlwKHNvcnRCdXR0b25QcmVzcygpLCB0aGlzLmNhcmRDb2xsZWN0aW9uLmdldENhcmRDb2xsZWN0aW9uU3RyZWFtKCkpXHJcbiAgICAgICAgICAgIC5waXBlKG1hcCgobmV3Q2FyZHMpID0+IHRoaXMuY2FyZENvbGxlY3Rpb24ucmFkbm9tT3JkZXJTb3J0ZXJUZXN0KGNhcmRzKSkpO1xyXG4gICAgfVxyXG4gICAgYWRkSXRlbShjYXJkKSB7XHJcbiAgICAgICAgbGV0IG1haW5DYXJkRGl2ID0gZG9jdW1lbnQuY3JlYXRlRWxlbWVudChcImRpdlwiKTtcclxuICAgICAgICBtYWluQ2FyZERpdi5jbGFzc05hbWUgPSBcIm1haW5TaW5nbGVDYXJkRGl2XCI7XHJcbiAgICAgICAgZG9jdW1lbnQuZ2V0RWxlbWVudEJ5SWQoXCJvdXRwdXRcIikuYXBwZW5kQ2hpbGQobWFpbkNhcmREaXYpO1xyXG4gICAgICAgIGxldCBjYXJkRGl2ID0gZG9jdW1lbnQuY3JlYXRlRWxlbWVudChcImRpdlwiKTtcclxuICAgICAgICBjYXJkRGl2LmNsYXNzTmFtZSA9IFwiY2FyZFVpU3R5bGVcIjtcclxuICAgICAgICBjYXJkRGl2LmlkID0gXCJ0ZXN0XCI7XHJcbiAgICAgICAgbWFpbkNhcmREaXYuYXBwZW5kQ2hpbGQoY2FyZERpdik7XHJcbiAgICAgICAgbGV0IGNhcmRJTUcgPSBkb2N1bWVudC5jcmVhdGVFbGVtZW50KFwiaW1nXCIpO1xyXG4gICAgICAgIGNhcmRJTUcuc3JjID0gY2FyZC5pbWdQYXRoO1xyXG4gICAgICAgIGNhcmRJTUcuY2xhc3NOYW1lID0gXCJjYXJkVWlJbWdcIjtcclxuICAgICAgICBjYXJkRGl2LmFwcGVuZENoaWxkKGNhcmRJTUcpO1xyXG4gICAgICAgIGxldCBjYXJkSW5mb0RpdiA9IGRvY3VtZW50LmNyZWF0ZUVsZW1lbnQoXCJkaXZcIik7XHJcbiAgICAgICAgY2FyZEluZm9EaXYuY2xhc3NOYW1lID0gXCJjYXJkSW5mb0RpdlwiO1xyXG4gICAgICAgIGNhcmREaXYuYXBwZW5kQ2hpbGQoY2FyZEluZm9EaXYpO1xyXG4gICAgICAgIGxldCBsYWJlbE5hbWUgPSBkb2N1bWVudC5jcmVhdGVFbGVtZW50KFwibGFiZWxcIik7XHJcbiAgICAgICAgbGFiZWxOYW1lLmlubmVySFRNTCA9IFwiTmFtZTogXCIgKyBjYXJkLnRpdGxlO1xyXG4gICAgICAgIGNhcmRJbmZvRGl2LmFwcGVuZENoaWxkKGxhYmVsTmFtZSk7XHJcbiAgICAgICAgbGV0IGxhYmVsTHZsID0gZG9jdW1lbnQuY3JlYXRlRWxlbWVudChcImxhYmVsXCIpO1xyXG4gICAgICAgIGxhYmVsTHZsLmlubmVySFRNTCA9IFwiTGV2ZWw6IFwiICsgY2FyZC5zdGFycztcclxuICAgICAgICBjYXJkSW5mb0Rpdi5hcHBlbmRDaGlsZChsYWJlbEx2bCk7XHJcbiAgICAgICAgbGV0IGxhYmVsRGVzYyA9IGRvY3VtZW50LmNyZWF0ZUVsZW1lbnQoXCJsYWJlbFwiKTtcclxuICAgICAgICBsYWJlbERlc2MuaW5uZXJIVE1MID0gXCJBdHRyaWJ1dGU6IFwiICsgY2FyZC5hdHRyaWJ1dGU7XHJcbiAgICAgICAgY2FyZEluZm9EaXYuYXBwZW5kQ2hpbGQobGFiZWxEZXNjKTtcclxuICAgICAgICBsZXQgbGFiZWxBdHRhY2tEZWZmZW5zID0gZG9jdW1lbnQuY3JlYXRlRWxlbWVudChcImxhYmVsXCIpO1xyXG4gICAgICAgIGxhYmVsQXR0YWNrRGVmZmVucy5pbm5lckhUTUwgPSBgQVRLOiAke2NhcmQuYXR0YWNrfSBERUY6ICR7Y2FyZC5kZWZmZW5zZX1gO1xyXG4gICAgICAgIGNhcmRJbmZvRGl2LmFwcGVuZENoaWxkKGxhYmVsQXR0YWNrRGVmZmVucyk7XHJcbiAgICAgICAgbGV0IGNhcmRCdXR0b25EaXYgPSBkb2N1bWVudC5jcmVhdGVFbGVtZW50KFwiZGl2XCIpO1xyXG4gICAgICAgIGNhcmREaXYuYXBwZW5kQ2hpbGQoY2FyZEJ1dHRvbkRpdik7XHJcbiAgICAgICAgbGV0IGNhcmREZWxldGVCdXR0b24gPSBkb2N1bWVudC5jcmVhdGVFbGVtZW50KFwiYnV0dG9uXCIpO1xyXG4gICAgICAgIGNhcmREZWxldGVCdXR0b24uY2xhc3NOYW1lID0gXCJjYXJkRGVsZXRlQnV0dG9uXCI7XHJcbiAgICAgICAgY2FyZERlbGV0ZUJ1dHRvbi5pbm5lckhUTUwgPSBcIkRFTEVURVwiO1xyXG4gICAgICAgIG1haW5DYXJkRGl2LmFwcGVuZENoaWxkKGNhcmREZWxldGVCdXR0b24pO1xyXG4gICAgICAgIGNhcmREaXYub25jbGljayA9ICgpID0+IHtcclxuICAgICAgICAgICAgdGhpcy5kaXZDbGlja2VkKGNhcmQpO1xyXG4gICAgICAgIH07XHJcbiAgICAgICAgY2FyZERlbGV0ZUJ1dHRvbi5vbmNsaWNrID0gKCkgPT4ge1xyXG4gICAgICAgICAgICB0aGlzLmRlbGV0ZUNsaWNrZWQoY2FyZCk7XHJcbiAgICAgICAgfTtcclxuICAgIH1cclxuICAgIGRpdkNsaWNrZWQoY2FyZCkge1xyXG4gICAgICAgIGNvbnNvbGUubG9nKGNhcmQudGl0bGUgKyBcIiBjbGlja2VkXCIpO1xyXG4gICAgICAgIGRvY3VtZW50LmdldEVsZW1lbnRCeUlkKFwiY2FyZERldGFpbFwiKS5pbm5lckhUTUwgPSBcIlwiO1xyXG4gICAgICAgIGxldCBjYXJkRGV0YWlsRGl2ID0gZG9jdW1lbnQuY3JlYXRlRWxlbWVudChcImRpdlwiKTtcclxuICAgICAgICBjYXJkRGV0YWlsRGl2LmNsYXNzTmFtZSA9IFwiY2FyZERldGFpbERpdlwiO1xyXG4gICAgICAgIGRvY3VtZW50LmdldEVsZW1lbnRCeUlkKFwiY2FyZERldGFpbFwiKS5hcHBlbmRDaGlsZChjYXJkRGV0YWlsRGl2KTtcclxuICAgICAgICBsZXQgY2FyZERldGFpbEltYWdlID0gZG9jdW1lbnQuY3JlYXRlRWxlbWVudChcImltZ1wiKTtcclxuICAgICAgICBjYXJkRGV0YWlsSW1hZ2Uuc3JjID0gY2FyZC5pbWdQYXRoO1xyXG4gICAgICAgIGNhcmREZXRhaWxEaXYuYXBwZW5kQ2hpbGQoY2FyZERldGFpbEltYWdlKTtcclxuICAgIH1cclxuICAgIGRlbGV0ZUNsaWNrZWQoY2FyZCkge1xyXG4gICAgICAgIHRoaXMuY2FyZENvbGxlY3Rpb24uY2FyZENvbGxlY3Rpb25PYnNlcnZhYmxlID1cclxuICAgICAgICAgICAgdGhpcy5jYXJkQ29sbGVjdGlvbi5kZWxldGVDYXJkKGNhcmQpO1xyXG4gICAgICAgIHRoaXMuZHJhd0xpc3QoKTtcclxuICAgIH1cclxuICAgIGNsZWFyQ2FyZExpc3REaXYoKSB7XHJcbiAgICAgICAgZG9jdW1lbnQuZ2V0RWxlbWVudEJ5SWQoXCJvdXRwdXRcIikuaW5uZXJIVE1MID0gXCJcIjtcclxuICAgIH1cclxufVxyXG5mdW5jdGlvbiBjbGVhckNhcmREaXYoKSB7XHJcbiAgICBkb2N1bWVudC5nZXRFbGVtZW50QnlJZChcIm91dHB1dFwiKS5pbm5lckhUTUwgPSBcIlwiO1xyXG59XHJcbmZ1bmN0aW9uIGNvbWJvQm94VmFsdWUoKSB7XHJcbiAgICB2YXIgY29tYm9Cb3ggPSBkb2N1bWVudC5nZXRFbGVtZW50c0J5Q2xhc3NOYW1lKFwiY29tYm9Cb3hJbnB1dFwiKTtcclxuICAgIHJldHVybiBjb21ib0JveFswXS52YWx1ZTtcclxufVxyXG5mdW5jdGlvbiBrZXlib2FyZFZhbHVlKCkge1xyXG4gICAgdmFyIGlucHV0Qm94ID0gZG9jdW1lbnQuZ2V0RWxlbWVudHNCeUNsYXNzTmFtZShcInNlYXJjaElucHV0XCIpO1xyXG4gICAgcmV0dXJuIGlucHV0Qm94WzBdLnZhbHVlO1xyXG59XHJcbmNvbnN0IGNvbWJvQm94T2JzZXJ2YWJsZSA9IG5ldyBPYnNlcnZhYmxlKChjb21ib0JveCkgPT4ge1xyXG4gICAgc2V0SW50ZXJ2YWwoKCkgPT4ge1xyXG4gICAgICAgIGNvbWJvQm94Lm5leHQoY29tYm9Cb3hWYWx1ZSgpKTtcclxuICAgIH0sIDEwMDApO1xyXG59KTtcclxuY29uc3Qga2V5Ym9hcmRJbnB1T2JzZXJ2YWJsZSA9IG5ldyBPYnNlcnZhYmxlKChpbnB1dCkgPT4ge1xyXG4gICAgc2V0SW50ZXJ2YWwoKCkgPT4ge1xyXG4gICAgICAgIGlucHV0Lm5leHQoa2V5Ym9hcmRWYWx1ZSgpKTtcclxuICAgIH0sIDEwMDApO1xyXG59KTtcclxuZnVuY3Rpb24gc29ydEJ1dHRvblByZXNzKCkge1xyXG4gICAgdmFyIHNvcnRCdXR0b24gPSBkb2N1bWVudC5nZXRFbGVtZW50c0J5Q2xhc3NOYW1lKFwic29ydENhcmRzXCIpWzBdO1xyXG4gICAgcmV0dXJuIGZyb21FdmVudChkb2N1bWVudC5nZXRFbGVtZW50c0J5Q2xhc3NOYW1lKFwic29ydENhcmRzXCIpWzBdLCAnY2xpY2snKTtcclxufVxyXG5jb25zdCBzb3J0QnV0dG9uT2JzZXJ2YWJsZSA9IG5ldyBPYnNlcnZhYmxlKChzb3J0QnV0dG9uKSA9PiB7XHJcbiAgICBzZXRJbnRlcnZhbCgoKSA9PiB7XHJcbiAgICAgICAgc29ydEJ1dHRvbi5uZXh0KHNvcnRCdXR0b25QcmVzcygpKTtcclxuICAgIH0sIDEwMDApO1xyXG59KTtcclxuIiwiaW1wb3J0IHsgY2FyZENvbGxlY3Rpb25VSSB9IGZyb20gXCIuL1VJL2NhcmRDb2xsZWN0aW9uVUlcIjtcclxuY29uc3QgY2FyZENvbGxlY3Rpb24gPSBuZXcgY2FyZENvbGxlY3Rpb25VSSgpO1xyXG5jYXJkQ29sbGVjdGlvbi5kcmF3TGlzdCgpO1xyXG4oZG9jdW1lbnQuZ2V0RWxlbWVudHNCeUNsYXNzTmFtZShcImZvcmNlTG9hZERibXNCdXR0b25cIilbMF0pLm9uY2xpY2sgPSAoKSA9PiB7XHJcbiAgICBjYXJkQ29sbGVjdGlvbi5jYXJkQ29sbGVjdGlvbi5sb2FkRGJtc0NhcmQoKTtcclxuICAgIGNhcmRDb2xsZWN0aW9uLmRyYXdMaXN0KCk7XHJcbn07XHJcbiIsImltcG9ydCB7IF9fcmVhZCwgX19zcHJlYWRBcnJheSB9IGZyb20gXCJ0c2xpYlwiO1xuaW1wb3J0IHsgT2JzZXJ2YWJsZSB9IGZyb20gJy4uL09ic2VydmFibGUnO1xuaW1wb3J0IHsgaW5uZXJGcm9tIH0gZnJvbSAnLi9mcm9tJztcbmltcG9ydCB7IGFyZ3NPckFyZ0FycmF5IH0gZnJvbSAnLi4vdXRpbC9hcmdzT3JBcmdBcnJheSc7XG5pbXBvcnQgeyBFTVBUWSB9IGZyb20gJy4vZW1wdHknO1xuaW1wb3J0IHsgT3BlcmF0b3JTdWJzY3JpYmVyIH0gZnJvbSAnLi4vb3BlcmF0b3JzL09wZXJhdG9yU3Vic2NyaWJlcic7XG5pbXBvcnQgeyBwb3BSZXN1bHRTZWxlY3RvciB9IGZyb20gJy4uL3V0aWwvYXJncyc7XG5leHBvcnQgZnVuY3Rpb24gemlwKCkge1xuICAgIHZhciBhcmdzID0gW107XG4gICAgZm9yICh2YXIgX2kgPSAwOyBfaSA8IGFyZ3VtZW50cy5sZW5ndGg7IF9pKyspIHtcbiAgICAgICAgYXJnc1tfaV0gPSBhcmd1bWVudHNbX2ldO1xuICAgIH1cbiAgICB2YXIgcmVzdWx0U2VsZWN0b3IgPSBwb3BSZXN1bHRTZWxlY3RvcihhcmdzKTtcbiAgICB2YXIgc291cmNlcyA9IGFyZ3NPckFyZ0FycmF5KGFyZ3MpO1xuICAgIHJldHVybiBzb3VyY2VzLmxlbmd0aFxuICAgICAgICA/IG5ldyBPYnNlcnZhYmxlKGZ1bmN0aW9uIChzdWJzY3JpYmVyKSB7XG4gICAgICAgICAgICB2YXIgYnVmZmVycyA9IHNvdXJjZXMubWFwKGZ1bmN0aW9uICgpIHsgcmV0dXJuIFtdOyB9KTtcbiAgICAgICAgICAgIHZhciBjb21wbGV0ZWQgPSBzb3VyY2VzLm1hcChmdW5jdGlvbiAoKSB7IHJldHVybiBmYWxzZTsgfSk7XG4gICAgICAgICAgICBzdWJzY3JpYmVyLmFkZChmdW5jdGlvbiAoKSB7XG4gICAgICAgICAgICAgICAgYnVmZmVycyA9IGNvbXBsZXRlZCA9IG51bGw7XG4gICAgICAgICAgICB9KTtcbiAgICAgICAgICAgIHZhciBfbG9vcF8xID0gZnVuY3Rpb24gKHNvdXJjZUluZGV4KSB7XG4gICAgICAgICAgICAgICAgaW5uZXJGcm9tKHNvdXJjZXNbc291cmNlSW5kZXhdKS5zdWJzY3JpYmUobmV3IE9wZXJhdG9yU3Vic2NyaWJlcihzdWJzY3JpYmVyLCBmdW5jdGlvbiAodmFsdWUpIHtcbiAgICAgICAgICAgICAgICAgICAgYnVmZmVyc1tzb3VyY2VJbmRleF0ucHVzaCh2YWx1ZSk7XG4gICAgICAgICAgICAgICAgICAgIGlmIChidWZmZXJzLmV2ZXJ5KGZ1bmN0aW9uIChidWZmZXIpIHsgcmV0dXJuIGJ1ZmZlci5sZW5ndGg7IH0pKSB7XG4gICAgICAgICAgICAgICAgICAgICAgICB2YXIgcmVzdWx0ID0gYnVmZmVycy5tYXAoZnVuY3Rpb24gKGJ1ZmZlcikgeyByZXR1cm4gYnVmZmVyLnNoaWZ0KCk7IH0pO1xuICAgICAgICAgICAgICAgICAgICAgICAgc3Vic2NyaWJlci5uZXh0KHJlc3VsdFNlbGVjdG9yID8gcmVzdWx0U2VsZWN0b3IuYXBwbHkodm9pZCAwLCBfX3NwcmVhZEFycmF5KFtdLCBfX3JlYWQocmVzdWx0KSkpIDogcmVzdWx0KTtcbiAgICAgICAgICAgICAgICAgICAgICAgIGlmIChidWZmZXJzLnNvbWUoZnVuY3Rpb24gKGJ1ZmZlciwgaSkgeyByZXR1cm4gIWJ1ZmZlci5sZW5ndGggJiYgY29tcGxldGVkW2ldOyB9KSkge1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgIHN1YnNjcmliZXIuY29tcGxldGUoKTtcbiAgICAgICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgIH0sIGZ1bmN0aW9uICgpIHtcbiAgICAgICAgICAgICAgICAgICAgY29tcGxldGVkW3NvdXJjZUluZGV4XSA9IHRydWU7XG4gICAgICAgICAgICAgICAgICAgICFidWZmZXJzW3NvdXJjZUluZGV4XS5sZW5ndGggJiYgc3Vic2NyaWJlci5jb21wbGV0ZSgpO1xuICAgICAgICAgICAgICAgIH0pKTtcbiAgICAgICAgICAgIH07XG4gICAgICAgICAgICBmb3IgKHZhciBzb3VyY2VJbmRleCA9IDA7ICFzdWJzY3JpYmVyLmNsb3NlZCAmJiBzb3VyY2VJbmRleCA8IHNvdXJjZXMubGVuZ3RoOyBzb3VyY2VJbmRleCsrKSB7XG4gICAgICAgICAgICAgICAgX2xvb3BfMShzb3VyY2VJbmRleCk7XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICByZXR1cm4gZnVuY3Rpb24gKCkge1xuICAgICAgICAgICAgICAgIGJ1ZmZlcnMgPSBjb21wbGV0ZWQgPSBudWxsO1xuICAgICAgICAgICAgfTtcbiAgICAgICAgfSlcbiAgICAgICAgOiBFTVBUWTtcbn1cbi8vIyBzb3VyY2VNYXBwaW5nVVJMPXppcC5qcy5tYXAiXSwic291cmNlUm9vdCI6IiJ9